commit 9cd17efd533b7461812540da082d045adf04a2a9
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Thu May 23 18:54:57 2013 +0300

    Sync PO files

commit 508aab740bf0eb06805df1a43d340935e002f7ae
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Thu May 23 18:52:54 2013 +0300

    Bump to version 1.2.6

commit 35698ea130f96c6e00a2e030fe2e7c0ad6c1ddb5
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Thu May 23 18:47:10 2013 +0300

    Add simplified Chinese to the list of languages

commit aa955335c8ffcb7830a4f6660e3eb4d7ecf240e1
Author: Marguerite Su <i@marguerite.su>
Date:   Thu May 23 18:46:08 2013 +0300

    Simplified Chinese translation
    
    Signed-off-by: Rémi Denis-Courmont <remi@remlab.net>

commit e6db738e36dda7f2c3316cf6e1d0e730fc2bcab3
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Sep 12 16:03:26 2012 +0300

    stresslist: fix invalid pointer cast

commit 236cac2fe52adaf888b7570d20f1694e27751310
Author: Michael Tremer <michael.tremer@ipfire.org>
Date:   Thu May 31 18:03:45 2012 +0300

    Add missing <stddef.h> include
    
    Signed-off-by: Rémi Denis-Courmont <remi@remlab.net>

commit 2bc1ea3ed7f156e1e8b9203db088b7dd8e371a76
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Mar 3 13:14:35 2012 +0200

    Switch to xz for tarball compression

commit 32bab6aac1c1c547f436c01be7275b1d568a9833
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Mar 3 13:12:57 2012 +0200

    Update M4 files list

commit f06c51d4817128579acc366c58772a2d93ffb2fc
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Fri Mar 2 19:22:55 2012 +0200

    Sync PO files

commit 6d7a951018636a17cebaf0f92d4693d2af7bd91d
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Fri Mar 2 19:33:05 2012 +0200

    Fix make distcheck

commit 4e60912954a5183b9573afb0e9b348558f53165d
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Fri Mar 2 19:28:13 2012 +0200

    Install systemd conf to libdir rather than /lib
    
    This avoids breaking 'make distcheck'. Upstream systemd advocates
    merging /usr/lib and /lib anyway. Other distributions will need to move
    the file manually.

commit b35bc56889ee4550e034badedbbef3c0b393657f
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Fri Mar 2 19:32:12 2012 +0200

    Remove example configuration at uninstall if applicable

commit 4dcca007bd7bd49dd6e54a5eeada8aa2051dd31b
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Fri Mar 2 19:20:50 2012 +0200

    News for 1.2.5

commit 06a57f3c804b78048d13d53dc06a78377f88454b
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Fri Mar 2 19:17:22 2012 +0200

    Use pkglibexec instead of pkglib for PROGRAMS

commit ec07a1a34ed77fce836bced83ac226c45f1ddf8d
Author: Munechika Sumikawa <sumikawa@sumikawa.jp>
Date:   Wed Nov 16 15:46:59 2011 +0900

    portability fix
    
    Signed-off-by: Rémi Denis-Courmont <remi@remlab.net>

commit d59ddd3ab3fd5955987a54cacdc1293165bbd766
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Aug 31 23:37:17 2011 +0300

    Load if_tun with kldload() on FreeBSD kernel

commit 38e7be350e629bf2f6408316022b634e5e42b842
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Aug 31 23:37:10 2011 +0300

    Check for FreeBSD kldload

commit 9e114bce8519b5956fa5c10a7139ced4825c4d73
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Aug 31 23:28:42 2011 +0300

    Add systemd service file
    
    Based on earlier work from
    Michael Stapelberg <michael+db20090501@stapelberg.de>

commit f08dc10a299f6d347cd362e4c3ccd39f9af4f9c3
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Aug 31 23:22:14 2011 +0300

    Bump version

commit 64583348aa81e7692622ef93241102e2fa212893
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jul 20 18:26:24 2011 +0300

    Check for errors while setting the group IDs

commit 8ebf8114503b2c57bfab8361db735ebf013c4295
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Tue Jul 5 21:14:39 2011 +0300

    Sync PO files

commit 7ff9a10660d4fb5b02c87048a338023f448b9960
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Tue Jul 5 21:14:27 2011 +0300

    Update gettext

commit 4ae1f2dba3b10bd48174e12a09004758105553f9
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Tue Jul 5 21:10:24 2011 +0300

    PO: add Language field

commit 34a86ba89e4ba2692af92a0d98115f751eb39b24
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Tue Jul 5 21:08:08 2011 +0300

    Bump version and news

commit 4cb88419af33d61b2b9eda44860aba8078f0d3ae
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Tue Jul 5 21:06:04 2011 +0300

    Require automake 1.11 for silent rules

commit d1e7e73027a296656c247b157ab929713997d2db
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Tue Jul 5 20:52:47 2011 +0300

    If Judy is missing, use POSIX tree functions instead of linked list
    
    On GNU/Linux (glibc) on my system, <search.h> is about 2.5x slower than
    Judy. This is much much faster than a linked list.
    
    The good news is, Miredo is now reasonably fast even without Judy. The
    not so good news is, Miredo requires a GNU extension, tdestroy(), if
    Judy is disabled.

commit 77bd554e22545fb4be433eb3932161a7f5ac6781
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Tue Jul 5 20:24:01 2011 +0300

    Small code factorization

commit c14095dfa6c5915f97badf75188d19f49947c112
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Tue Jul 5 19:50:54 2011 +0300

    Remove autopackage support
    
    This does not really fit for a system daemon and was unmaintained.

commit 5e4c7a8a48e2aa2fcc20ceefeb7a97f57e36a1de
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Apr 10 12:24:13 2010 +0300

    Sync PO files

commit 440ca7d4789091ce4f4373807b25280ae8fd6dbe
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Apr 10 12:23:53 2010 +0300

    Bump version and news for 1.2.3

commit 7f1d39a4482d9e83b0cf864c837e18f65133c2f6
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Apr 10 12:22:55 2010 +0300

    Update French locale

commit 336549f1ae686c62746140ce1da921372ec67640
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jan 20 19:47:59 2010 +0200

    Fix aliasing violations
    
    Unfortunately, I am not sure how portable this code is.

commit 3a354b5ab2221bc5b6aa1916b335a940a2bf7798
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sun Dec 13 18:17:39 2009 +0200

    Update my email address

commit 7e357ead3e60bf69d1b3a65cf51aee594510c42c
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Dec 5 14:43:35 2009 +0200

    Update THANKS

commit 91ae0afe2cda419a733699a0479021882ea950aa
Author: Andrius Morkūnas <hinokind@gmail.com>
Date:   Wed Dec 2 19:46:58 2009 +0200

    Fix build on FreeBSD versions higher than 7.2
    
    FreeBSD now has it's own closefrom(2), but it's defined as void, not int
    and breaks miredo build.
    This patch fixes build on FreeBSD 7.2-STABLE (r195694) and later. Hopefully,
    without breaking anything else.
    
    Signed-off-by: Rémi Denis-Courmont <remi@remlab.net>

commit 29ef1c52d91f6c15bcb97102d96d3cdb4bd1f526
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Thu Nov 5 21:05:47 2009 +0200

    Sync PO files for 1.2.2

commit 2cff05b0f30116e139d21d5a2d79634580e684d4
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Thu Nov 5 21:03:27 2009 +0200

    Update version

commit e45401d63506a88b38959bb7e8ddaa669811901c
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Thu Nov 5 21:00:32 2009 +0200

    Handle spurious SIGCHLD correctly
    
    Miredo 1.2.1 would restart and immediately exit on SIGHUP due to the
    pending SIGCHLD of the old child process.

commit d6d9da08fee06166981446ee72c6f3cfef11f9ec
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Thu Nov 5 19:19:35 2009 +0200

    Silent rules for misc directory

commit 5f196f4bd42ac0363afeb271b1887ced78c8f4b7
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Thu Nov 5 19:15:45 2009 +0200

    silent rules in doc

commit 632fd210e6483c0ed5c52092d980bb5dd782e700
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Thu Nov 5 19:11:32 2009 +0200

    Use automake silent rules if available

commit db3bab39a658994af46bb2cdfdcf6db2b1e6114c
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Oct 31 11:12:10 2009 +0200

    Revert "GNU/kFreeBSD link fix"
    
    This reverts commit f3dc8d5e0bc5c848933f5c94c7cc6cb84094a9bf.
    This is reportedly not needed anymore with eglibc 2.10.

commit 6993e19811c2f2d577dde26dbdb5d8b6aed936f7
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Oct 21 22:13:24 2009 +0300

    Sync PO files for 1.2.1

commit 40337f12cb74817a76acc7311427c2426f6c40ec
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Oct 21 21:36:24 2009 +0300

    NEWS for 1.2.1

commit 61398dc81960bf05826e8b8b83bebaebb6c95c5c
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Oct 21 21:34:34 2009 +0300

    Bump version

commit 58fbc643630470a630add4e201cea251c6e1144e
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Oct 21 21:21:25 2009 +0300

    Don't get stuck if unprivileged process fails or dies unexpectedly

commit a299113813534d022b6a14f6d2bbec6b1d6df9d0
Author: Jeremie Koenig <jk@jk.fr.eu.org>
Date:   Sat Sep 12 03:28:05 2009 +0200

    Fix typo in manual page
    
    Signed-off-by: Rémi Denis-Courmont <remi@remlab.net>

commit c4e85367bc783ae1cf3d04c4458bbc41af983508
Author: Jeremie Koenig <jk@jk.fr.eu.org>
Date:   Sun Sep 6 22:33:57 2009 +0200

    Use IP_RECVDSTADDR (untested)
    
    This should allow us to get the IPv4 reception address on BSD.
    
    Signed-off-by: Rémi Denis-Courmont <remi@remlab.net>

commit 8468f0d1f77a3eb8d811d271cc68ac6164e5ce09
Author: Jeremie Koenig <jk@jk.fr.eu.org>
Date:   Mon Sep 7 03:33:19 2009 +0200

    Fix typos

commit 300bcbe8890fcce440f511914036ca1fa1ac6463
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sun Sep 6 12:22:42 2009 +0300

    Use %m instead of strerror()

commit 1e713abcd6d355446c8f16fb384da3150fdf9f84
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sun Sep 6 12:21:45 2009 +0300

    LOG_PERROR is a non-standard, provide default

commit 0ab45e64b36115299e98381f3fdf01e5f89de3ae
Author: jk@jk.fr.eu.org <jk@jk.fr.eu.org>
Date:   Mon Aug 31 23:26:27 2009 +0200

    Log an error if the privproc fails to execute

commit d681469b3ef138ac6c97d054256ac88aaaed3483
Author: Jeremie Koenig <jk@jk.fr.eu.org>
Date:   Sat Sep 5 16:36:24 2009 +0200

    Fix random addresses in the "connect" debug message
    
    Signed-off-by: Rémi Denis-Courmont <remi@remlab.net>

commit 5057e6531034113e9a2fbec757cb162a729c2ffb
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Aug 17 21:34:58 2009 +0300

    Print internal address in debug

commit 20079002c05c90a761e54f2cc4534320d7b1039c
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Aug 17 21:34:47 2009 +0300

    Keep track of our internal IPv4 address

commit 19d05698558298da029ba110aeeb07fb8028f532
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Aug 17 21:34:07 2009 +0300

    Zero IPv4 reception address (in case OS lacks IP_PKTINFO)

commit 489cb5bb37512551bbb8bb7cbf9d36caa8c123d9
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Aug 8 19:24:20 2009 +0300

    PO files for 1.2.0

commit 0c21d65990d958b1f29ef1492dbc48869be6c732
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Aug 8 19:24:09 2009 +0300

    Bump version

commit 4a24474ababa968e78a5cb4cf85e3a728c37c10c
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jul 22 18:22:46 2009 +0300

    strerror code is only used on Linux at the moment

commit 06318a02107667cbac590d84fe166b782c71645c
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Jul 18 19:14:33 2009 +0300

    Sync PO files

commit d796aa6ba23219825041825e8d9f72a0355d27a5
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Thu Jul 16 19:28:34 2009 +0300

    Turn off libtun diagnostics on BSD completely

commit 0b245ead546db0a5d77f1b873d9ff95a3e638514
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jul 15 20:13:17 2009 +0300

    Fix compilation (but not quite semantics) w/o MSG_NOSIGNAL

commit f0fdcbcddda6fabfe78771d310bcfe2a9f9dd2ab
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Jul 13 20:32:26 2009 +0300

    tun6 diagnose: stat instead of open on BSD
    
    With tunnels persistent on BSD, we were "leaking" tunnels...

commit bdc1f8340b79c4c77f187bf48ec77b90ea8ee674
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Jul 11 18:34:57 2009 +0300

    sigwait can fail

commit bd6d9bc868610ecbceaf1952557ec93d4054f6be
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jul 8 19:43:16 2009 +0300

    Spelling fix

commit 2e2e08601641d7441530f51ab8ecbb2118a07d8d
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Tue Jul 7 23:29:40 2009 +0300

    Ignore destroy event on Linux client hook

commit 896aed0e6136f53cdb8a1272ccbfaa39fec2baed
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Tue Jul 7 23:29:26 2009 +0300

    Grammar

commit f9270d25604f8388d4113d9240ea681090f9c8db
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Tue Jul 7 23:26:09 2009 +0300

    Handle and use destroy event in BSD client hook

commit 0193072e8154e321683330a86567487adc54aa9e
Author: Munechika SUMIKAWA / 角川宗近 <sumikawa@sumikawa.jp>
Date:   Tue Jul 7 10:43:10 2009 +0900

    Provide separate destroy event for client hook
    
    In misc/client-hook.iproute, the following line may be error with
    "destroy" state due to the change.
    
    "$IP" -6 link set dev "$IFACE" "$STATE"
    
    Please fix the script at your side.
    
    -- Sumikawa
    
    Signed-off-by: Rémi Denis-Courmont <remi@remlab.net>

commit 57b942566dcb2e0604e26abf4eb5739c2bde7757
Author: Munechika SUMIKAWA / 角川宗近 <sumikawa@sumikawa.jp>
Date:   Mon Jun 29 18:16:19 2009 +0900

    ip_pktinfo
    
    commit "0f0696ffd0fcbb7ed1a11a27de6801d75b88dc2d" must be wrapped by
    "#ifdef IP_PKTINFO" for OSes which does not support that such as FreeBSD.
    
    TODO: The function should be supported in another way for FreeBSD and
    others.  Maybe recvfrom()?
    
    Signed-off-by: Rémi Denis-Courmont <remi@remlab.net>

commit 8ebb17f8195648d4988eb356b4b3764197f82c2c
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Jul 6 18:52:45 2009 +0300

    Use a stream socketpair to privproc
    
    The datagram sockets pair did not work properly as it does not emit a 0
    read at end. Sequenced packet socket pairs are not always supported.

commit e8f89039077aefe42953eabf8971d70e1a0616b0
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Jul 4 23:07:12 2009 +0300

    Update PO files

commit 567d7ff122c174649f13115a794704fcb63110a4
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Jul 4 23:06:11 2009 +0300

    POTFILES: missing file libtun6/diag.c

commit adbba05219fb6054475037c0947e85e07bc838c6
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Thu Jul 2 17:18:07 2009 +0300

    Make the privileged process for client hook a separate executable

commit 1d0ab54358b5e22e1fb6cf4f6e3f170470068eea
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Thu Jul 2 17:21:56 2009 +0300

    Unexport miredo_setup_.*fd()

commit 6897c613a210277e49f51318786ca2e4d91dd469
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Thu Jul 2 16:26:40 2009 +0300

    Move unprivileged code to relayd.c

commit 38403c72cac57f4f0d8050d87190fcb9a79fc679
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Thu Jul 2 17:05:41 2009 +0300

    Parent process wait loop and error reporting

commit bc1e0c8f290d059f21dc8c8126b1f64f0bbd7317
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jul 1 22:21:54 2009 +0300

    Some news

commit e203700a67fd71ad5ed141d38bb7706d306aaf53
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jul 1 22:04:39 2009 +0300

    Use %m rather than strerror (not thread-safe) with syslog()

commit ce1b3b9afd9c0c4de7ee19608d03e0c3a885f8bb
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jul 1 22:16:42 2009 +0300

    Use strerror_r() instead of strerror()

commit 44023611615f9c6580bf41658371300dd12194c7
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jul 1 22:11:16 2009 +0300

    Typo + cosmetics

commit e883e086e34c7e8427f29ecedfe9435dfaba500e
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jul 1 22:04:39 2009 +0300

    Use %m rather than strerror (not thread-safe) with syslog()

commit e7c29d3b201d80daaa656ebc4caf1f9dabdf4cc4
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jul 1 22:04:39 2009 +0300

    Use %m rather than strerror (not thread-safe) with syslog()

commit e27695dcd7667e9a3ea0b12be084635d2139967b
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jul 1 22:04:39 2009 +0300

    Use %m rather than strerror (not thread-safe) with syslog()

commit 507eef7ae474d0aea733e5c17a2a6240cb862d56
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jul 1 22:01:35 2009 +0300

    Avoid one dummy waitpid() call on init

commit 2d07fa01f3d77f652a9d42c38880e5e809c829f7
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jul 1 21:57:50 2009 +0300

    Remove useless sigaction()
    
    POSIX does not define use of sigaction() and sigwait() together

commit c4ad801a2472da78c5fc5ea5f2552c09eaef06f4
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jul 1 21:40:32 2009 +0300

    Really fix server DNS lookup error handling
    
    This should fix a fatal regression in 1.1.6 from 1.1.5

commit 8add9b0b82002dbfe54c7597fdc877101f398fb3
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Wed Jul 1 21:35:49 2009 +0300

    Revert "Fix server DNS lookup error handling"
    
    This reverts commit e7ccfd6eafdceb6408b79ce3f1dd60f7f3128708.

commit 19ec2c8121dad9001c373561dd289c130ea3f8c5
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Fri Jun 26 18:47:24 2009 +0300

    Update thanks

commit 477cd7a10c26c794aebc60befcd7c1406dfeab9a
Author: Munechika SUMIKAWA / 角川宗近 <sumikawa@sumikawa.jp>
Date:   Fri Jun 26 19:23:54 2009 +0900

    sockaddr family
    
    In FreeBSD kernel, if the address family is unknown, it automatically
    recognised as AF_INET6 because the address family of "dst" is
    AF_INET6.  So, This is not critical but mask.sa_family should be set
    in theory.
    
    "route minitor" command cannot parse the routing message correctly at
    least when I want to watch the routing socket.
    
    Signed-off-by: Rémi Denis-Courmont <remi@remlab.net>

commit 7269f940ebd5be7c7a5a7579ac7081a4fec8e350
Author: Munechika SUMIKAWA / 角川宗近 <sumikawa@alaxala.jp>
Date:   Fri Jun 26 19:08:26 2009 +0900

    client-hook for BSD
    
    Here is another patch for client-hook.bsd.
    
    - BSD does not need to flush interfaces and/or routes
    
    - You may want to set ${ADDRESS}/128 for the tunnel interface
      otherwise the hosts which has ${ADDRESS}/32 must be resolved NDP
      because they are on the link.
    
    -- Sumikawa
    
    Signed-off-by: Rémi Denis-Courmont <remi@remlab.net>

commit 1586d7fcdec8798395efc59a00b99b8e83b33806
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Fri Jun 26 18:35:34 2009 +0300

    Revert "BSD client hook syntax fixes"
    
    This reverts commit fb21b1f11225e3434e16b48f2ac123e2695f8df5.

commit fbf8255503df1115565facf06995bea84a557182
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Fri Jun 26 18:34:09 2009 +0300

    strerror use should be audited

commit e027d96318e5e94f09b2609848ec334c2694f796
Author: Munechika SUMIKAWA / 角川宗近 <sumikawa@sumikawa.jp>
Date:   Tue Jun 23 23:59:43 2009 +0900

    FreeBSD fix for miredo relay
    
    _iface_route(libtun6.c) get EINVAL error from kernel in FreeBSD
    7.2-Stable in relay mode. because:
    
        - msg.gw.sdl_len is not fixed length in BSD (it's not equal with
          sizeof(struct sockaddr_dl)).  So, msg.mask must be moved
          depending on the length.
    
        /usr/include/net/if_dl.h:
    ------------------
    /*
     * Structure of a Link-Level sockaddr:
     */
    struct sockaddr_dl {
            u_char  sdl_len;        /* Total length of sockaddr */
            u_char  sdl_family;     /* AF_LINK */
            u_short sdl_index;      /* if != 0, system given index for interface */
            u_char  sdl_type;       /* interface type */
            u_char  sdl_nlen;       /* interface name length, no trailing 0 reqd. */
            u_char  sdl_alen;       /* link level address length */
            u_char  sdl_slen;       /* link layer selector length */
            char    sdl_data[46];   /* minimum work area, can be larger;
                                       contains both if name and ll address */
    };
    ------------------
    
        - some fields of msg.gw (sdl_type, sdl_*len and its data) was not
          set. I fill all of the fields via getifaddrs();
    
    I don't test if it's working with other BSDs but this should be
    generic fix.
    
    Signed-off-by: Rémi Denis-Courmont <remi@remlab.net>

commit 820944a751b6c0413e4f7823acebabaf7cfbdcbb
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Apr 13 20:11:16 2009 +0300

    Remove deprecated teredo_set_cone_ignore function

commit 3965653cde3ccbf2c7b55eb9762f13063d894cd0
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Apr 13 20:05:34 2009 +0300

    libteredo ABI break due to teredo_packet change

commit b6b0eec46ab5ff0e0055c2935ac2bdb3053b2064
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Apr 13 20:05:03 2009 +0300

    Back-end to recover destination from received UDP packets

commit 6a2d205f829893efc329c42f7ca5efd5c4d3b3bb
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Apr 13 20:04:43 2009 +0300

    Bump version

commit 5bb5b1ee14f618e72cfd968adf43a5b848845a95
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Apr 13 15:29:25 2009 +0300

    More news

commit b952080245849768eb67963ee4e4546b6a5ea68f
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Apr 13 15:25:59 2009 +0300

    XOR Teredo port in Teredo server link-local address

commit 8a4f7d62b33efb41279d74d604dfb7d3f207ebbb
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Apr 13 14:58:34 2009 +0300

    Fix Teredo server state initialization

commit 972a342ef7b5e5878d890b98297a23e303c36bbb
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Apr 13 12:37:41 2009 +0300

    Update translation files

commit 4bd99031267d8c2955998772c08080b83335efd2
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Apr 13 12:33:47 2009 +0300

    More news for 1.1.6

commit 08be06618714b73298c5b4136ed29f6d2910ac2c
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Apr 13 12:32:48 2009 +0300

    Remove buggy isatap support

commit e7ccfd6eafdceb6408b79ce3f1dd60f7f3128708
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Apr 13 12:15:43 2009 +0300

    Fix server DNS lookup error handling

commit cb62e3759416623a8fdca366b1c2d169eff82b5b
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Mon Apr 13 12:15:23 2009 +0300

    Update comment about lack for cone type support

commit 485ef738f1f938e5c087345aab51b1f68d94215c
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Apr 11 11:36:10 2009 +0300

    Small emphasis fix

commit fb21b1f11225e3434e16b48f2ac123e2695f8df5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 19 20:03:49 2008 +0200

    BSD client hook syntax fixes
    
    Pointed-out-by: Pelle Johansson

commit 6dc4eedc8d4e97c02c746c24361579a2b78189b6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 19 20:01:12 2008 +0200

    Fix clearenv() replacement
    
    Pointed-out-by: Pelle Johansson

commit ad617b9a65281bed11f801e94caba974ac0dc493
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Feb 28 22:18:23 2009 +0200

    Remove stray CVS/SVN $Id$

commit ec0dc8d53c5929b03e1dc03046c79078ee5f0e21
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Feb 28 22:14:58 2009 +0200

    Add some sample Teredo servers

commit 03ce0abb8993a1b851ae287c51f8fdd6770921de
Author: Rémi Denis-Courmont <remi@remlab.net>
Date:   Sat Feb 28 22:14:48 2009 +0200

    Update my mail address

commit d1a0189477fdc7d97765e79dab6781b46d7f9c10
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 17 18:35:12 2008 +0300

    Garbage collector: yield the CPU

commit 227734b0fc69d8b9cf181e2161991c1691bbc602
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 17 10:00:44 2008 +0300

    Small typos

commit 9797024c6f9e381df9abffc26bcda30712ee2b17
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 17 09:22:39 2008 +0300

    libtool: upgrade to 2.2

commit 8c0714dc39c48ed6251c1ec9816c9956abc6aa09
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jul 11 20:04:50 2008 +0300

    Use proper format string for size_t

commit 972bdbe2e20d1661573c325d21e5063b86157d42
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 1 18:00:53 2008 +0300

    Use PRIu16 instead of casting, as appropriate

commit 9e040f7e2a307d9fb9d6def9a937c07a7beea6e8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Feb 18 18:37:29 2008 +0200

    compat: Add declaration for fdadasync()

commit ac6c12848b996dbe991c2b6754fdfc7c5ac8a275
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 17 22:46:02 2008 +0200

    Missing include

commit c63d8f85315df33ea4b242f3036b4e3ef930a586
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 17 11:58:34 2008 +0200

    Rework ChangeLog build so that distcheck passes

commit ac7bbaf56004c817b0685eb8305c45d47703a097
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 17 11:49:32 2008 +0200

    Some news

commit 12df056b5cc0418ab540dcb278376eb480a5e8e9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 17 11:49:07 2008 +0200

    Remove $Date$ from SVN/CVS era

commit 68bfb5ea26f0607d4573fc2945730f014481f2ed
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 17 11:48:39 2008 +0200

    Put include/ into git

commit a38042b8dd188549d0a8b2bd5ca386ea4e4dc618
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 17 11:46:23 2008 +0200

    Fix gettext-induced warnings

commit 5eea75b3887193f2f2a1a3bcf7ef4163cda4e345
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 17 11:32:37 2008 +0200

    DELAYTIMER_MAX is a RTS extension; it might be absent inspite of timer_*()

commit 10a1999ae76c371344adbaafd3c19344dcb768db
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 17 11:22:08 2008 +0200

    Work around BSD make limitations

commit da686c9ac109d8294905d9480aea3bef00a6c7dd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 17 11:17:59 2008 +0200

    Include <sys/socket.h> where needed

commit 0318ff53e15ff831506f3b6c52f6663ca90d2089
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 17 11:12:51 2008 +0200

    Add missing includes - FreeBSD compilation fix

commit 80310b8fae150ca8941857be923a44965f2369a4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 17 11:08:10 2008 +0200

    Port ChangeLog build to git

commit 5e1caf99abd68251842bd4915385cbdd0064e501
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Feb 16 16:57:14 2008 +0200

    Bump version number

commit 0f0696ffd0fcbb7ed1a11a27de6801d75b88dc2d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Feb 16 15:46:37 2008 +0200

    Remove $Id$ as they will not work anymore

commit fe4eab1938ad4cfd70d97d473064cd466471747f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Feb 16 15:38:20 2008 +0200

    Add .gitignore files

commit 9207521996a736175f3bf7cbda2874727e4c4745
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Feb 16 15:37:01 2008 +0200

    Port autogen.sh to git

commit 30687129ca09bff99b01b35ae8d67a2794d51dd5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 16 17:09:10 2008 +0000

    Tagged release 1.1.5
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/tags/1.1.5@2102 6046fb1f-dae2-0310-8472-869a43925389

commit 3b22740e98173b6a0688d2ab8ea48b2f5310002e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 16 17:08:34 2008 +0000

    More precise news
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2101 6046fb1f-dae2-0310-8472-869a43925389

commit 8217625fbdca3d52e86f640c5d160cbc620b50d2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 16 17:06:35 2008 +0000

    Sync PO files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2100 6046fb1f-dae2-0310-8472-869a43925389

commit b9eb2a0c2ca6b8bf35556cbf8d54229e243ca7a8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 16 17:04:13 2008 +0000

    More news
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2099 6046fb1f-dae2-0310-8472-869a43925389

commit ad35375429beb3ea2defa7129371116cdb9b379d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 21:05:48 2008 +0000

    Yet another MacOS X compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2098 6046fb1f-dae2-0310-8472-869a43925389

commit eaf35b3abafc9df7c411e69514994e7d0e4256dd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 20:31:20 2008 +0000

    Don't use $TABLE when we unset it
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2097 6046fb1f-dae2-0310-8472-869a43925389

commit 7e6913f8fb4b66185a5aa638b8124bc8f954a7cd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 18:08:54 2008 +0000

    MacOS ports directory
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2096 6046fb1f-dae2-0310-8472-869a43925389

commit 02f1c54cdb351555ff53888e1fdf2e229ecc4079
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 18:08:39 2008 +0000

    Another compile fix for MacOS X
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2095 6046fb1f-dae2-0310-8472-869a43925389

commit 19b4be55f1879469ecbb9d471b212d3145ffc993
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 14:43:28 2008 +0000

    Clears the signal mask before running the callback script.
    Some programs could potentially be confused otherwise if they use signals.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2094 6046fb1f-dae2-0310-8472-869a43925389

commit de3ef6e0a91c8ac46bdde981ad1a20aba14d3a35
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 14:37:52 2008 +0000

    Handle some almost impossible errors (as in the-whole-system-is-likely-going-to-fail-shortly-anyway)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2093 6046fb1f-dae2-0310-8472-869a43925389

commit 68d72cfe4daa0ecdc8165110ec07d64e96787806
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 14:33:12 2008 +0000

    Flag the dummy handler has noreturn
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2092 6046fb1f-dae2-0310-8472-869a43925389

commit 729e65a3af89a39433e699d99166ae6077de16fc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 14:27:24 2008 +0000

    Work around (seemingly bogus) GCC 4.3 warning ~ promotion warning (the thing, we don't use ~ here)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2091 6046fb1f-dae2-0310-8472-869a43925389

commit c2f754b2f9ec1abce52a22c9ca4929684cd42a85
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 14:21:22 2008 +0000

    Fix casting error
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2090 6046fb1f-dae2-0310-8472-869a43925389

commit 171d43885be85d9e6e01b7989e8e1e6cd7451022
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 14:20:34 2008 +0000

    Completely remove bogus symmetric match macro
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2089 6046fb1f-dae2-0310-8472-869a43925389

commit 6f31bcbd992cacf443523fb36c502c06fe3bf4f4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 14:10:26 2008 +0000

    Fix casting error, and remove bogus macro
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2088 6046fb1f-dae2-0310-8472-869a43925389

commit dd79ea2419c5ef848e1873ea9c710dc0e326e29f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 14:00:00 2008 +0000

    Restore still-relevant part of addrcmp test
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2087 6046fb1f-dae2-0310-8472-869a43925389

commit fc2146319cdb85f0c2a97e23d08f9deff69875e4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 13:57:01 2008 +0000

    Resurrect the address comparison regression test
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2086 6046fb1f-dae2-0310-8472-869a43925389

commit ed5551f108f4712a74ff01f5d308d2ecd939e079
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 13:46:06 2008 +0000

    Make is_valid_teredo_prefix expansion-safe
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2085 6046fb1f-dae2-0310-8472-869a43925389

commit 06d7ac37c932d549c6bcd9ea40276e5fcb4fbf00
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 13:45:16 2008 +0000

    Factorize Teredo addresses macros and make them expansion-safe
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2084 6046fb1f-dae2-0310-8472-869a43925389

commit 762053b8717c55462ec639dd03b271366d8d5a42
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 12:08:43 2008 +0000

    Work around for systems without POSIX timers
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2083 6046fb1f-dae2-0310-8472-869a43925389

commit 50fc9d4ed59a9109aec183a02c02b1d9da41e53b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 12:08:33 2008 +0000

    Small code factorization
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2082 6046fb1f-dae2-0310-8472-869a43925389

commit 2d96779bd8e7ae8900388d7b0020a577fd7445a8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 5 09:34:51 2008 +0000

    Compile fix for non-Judy builds
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2081 6046fb1f-dae2-0310-8472-869a43925389

commit 01630c8f6dcee99de3567a31df5d1761691b2c9f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 22 09:51:52 2007 +0000

    Fix documentation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2080 6046fb1f-dae2-0310-8472-869a43925389

commit 2a5eab4af01cee5ea68faaccc770b69e1c13abc6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 22 09:48:03 2007 +0000

    Punctuation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2079 6046fb1f-dae2-0310-8472-869a43925389

commit 2cd65d2ca5333e551004b27a62b655acc4c2855f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 12 16:35:41 2007 +0000

    Put dummy handler for SIGCHLD. Linux (suspiciously) won't deliver SIGCHLD on sigwait without handler.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2078 6046fb1f-dae2-0310-8472-869a43925389

commit 894abfd3c2379088f28d2c7488e44d14b12ac150
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Nov 11 18:21:24 2007 +0000

    Create PID file in the real process
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2077 6046fb1f-dae2-0310-8472-869a43925389

commit 103a75ef418f08f8a12978e14763739492a8ea90
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Nov 11 17:59:44 2007 +0000

    Don't unlock the PID file - this is automatic with close()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2076 6046fb1f-dae2-0310-8472-869a43925389

commit 2119a87eb2bf14258ac87a3e2f88850875688789
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Nov 11 17:57:38 2007 +0000

    Unlink PID file before closing it
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2075 6046fb1f-dae2-0310-8472-869a43925389

commit 8bb6f32ce821a4fc6524224d56e2c710f760d207
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Nov 11 17:56:16 2007 +0000

    Close PID file on exec (should never happen atm)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2074 6046fb1f-dae2-0310-8472-869a43925389

commit b0cd8b708e144256d13ab9099bbbb07ceae37fbe
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Nov 11 17:52:45 2007 +0000

    Fix SIGHUP handling
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2073 6046fb1f-dae2-0310-8472-869a43925389

commit 422345126816a22333fbf191d016819ee396203f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Nov 11 17:25:06 2007 +0000

    Fix libjudy-induced warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2072 6046fb1f-dae2-0310-8472-869a43925389

commit ead2c28e2d5a910198dcb11572420c5d077fc44a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Nov 8 17:00:02 2007 +0000

    Bump version
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2071 6046fb1f-dae2-0310-8472-869a43925389

commit bf58636eea2e720741d2c74708185a53ebd7fbe0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Nov 8 16:53:45 2007 +0000

    More news
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2069 6046fb1f-dae2-0310-8472-869a43925389

commit 0f5487a6e83683aade29574870fb54ace4c00a7d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Nov 8 16:51:50 2007 +0000

    News for 1.1.4
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2068 6046fb1f-dae2-0310-8472-869a43925389

commit b55ca53b38bf2032b463eb5a950a1e6c518b598e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Nov 8 16:49:08 2007 +0000

    Don't flush route cache
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2067 6046fb1f-dae2-0310-8472-869a43925389

commit 6fe41770761e4635004bdff1b26e61b013516e40
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Nov 7 16:33:41 2007 +0000

    Fix and cleanup previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2066 6046fb1f-dae2-0310-8472-869a43925389

commit d9c6611f726d01bb473bbde7544e38cef68fb5f3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Nov 7 16:30:47 2007 +0000

    Automatically use source routing if configured
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2065 6046fb1f-dae2-0310-8472-869a43925389

commit 4971179552e808e58de2c269271812da3f93ad7f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Nov 7 16:28:39 2007 +0000

    Disable source routing by default
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2064 6046fb1f-dae2-0310-8472-869a43925389

commit 2e945fd1e88cf06857f0eb3cd9fc27218e86f85e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Nov 7 16:16:04 2007 +0000

    Don't use Debian-specific which
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2063 6046fb1f-dae2-0310-8472-869a43925389

commit bc3b6fcafaa794abab672a56d30c0b1515e2afcd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 28 18:14:34 2007 +0000

    Fix unlikely race condition whereby we receive a packet from the server before we sent any.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2062 6046fb1f-dae2-0310-8472-869a43925389

commit 7f706aa388fcb2cc52dbb6ddf1ff07efaeed213b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 28 18:14:02 2007 +0000

    Bump version
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2061 6046fb1f-dae2-0310-8472-869a43925389

commit 4016695db689cccec10795ddea1ef2dd1d6c8b46
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Oct 16 16:40:32 2007 +0000

    Sync PO files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2059 6046fb1f-dae2-0310-8472-869a43925389

commit d5195b6e340f539e540f1381d5a6345e905f2d80
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Oct 16 16:32:43 2007 +0000

    News for 1.1.3
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2058 6046fb1f-dae2-0310-8472-869a43925389

commit 8f4364bdd52ee706ad920510ea045010f1249f52
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Oct 16 16:32:24 2007 +0000

    Fix random bit mask (ouch)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2057 6046fb1f-dae2-0310-8472-869a43925389

commit 007f04d2205db6288c04748212de560f4a7b8a46
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Oct 16 16:23:57 2007 +0000

    Fix non-debug compilation errors
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2056 6046fb1f-dae2-0310-8472-869a43925389

commit 3cf2cf980b96e7a0a3ae9bffa03b23e8157486b7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Oct 11 18:24:58 2007 +0000

    Error out when Judy is absent and not explicitly disabled
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2055 6046fb1f-dae2-0310-8472-869a43925389

commit aa29f263b7f7ecab178ecb16f9eeffac37c009d5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Oct 3 19:09:28 2007 +0000

    Some news
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2054 6046fb1f-dae2-0310-8472-869a43925389

commit 990060285bf46b37181c02384371e78022ad9a17
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Oct 3 18:56:23 2007 +0000

    Fix license infos
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2053 6046fb1f-dae2-0310-8472-869a43925389

commit 94ec7f522566b869553712f2f66427f1ae570284
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Oct 3 18:53:24 2007 +0000

    Switch back to GPLv2+
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2052 6046fb1f-dae2-0310-8472-869a43925389

commit 97a70f19399b6fd72d96cb060526a4f214123650
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Sep 21 14:39:30 2007 +0000

    Set the MTU according to environment variable
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2051 6046fb1f-dae2-0310-8472-869a43925389

commit e0f4a4a9b17e0c6afaccf73f9f8e040624851d23
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Sep 20 17:16:17 2007 +0000

    Tolerate larger-than-needed packets in relay/client
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2050 6046fb1f-dae2-0310-8472-869a43925389

commit 147645831641ed1e10451be27e22280544ffed2b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Sep 20 17:16:05 2007 +0000

    Tolerate larger-than-needed UDP packets in Teredo server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2049 6046fb1f-dae2-0310-8472-869a43925389

commit c2995151eb007141876d6a7c89b9a4ae7b424cef
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Sep 20 16:58:13 2007 +0000

    Be more tolerant with regard to encapsulated packet size
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2048 6046fb1f-dae2-0310-8472-869a43925389

commit 1ed82000d82a5dba0b9945261e716e7c7c08f71f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Sep 20 16:51:20 2007 +0000

    Merge relay part of the debug messages patch
    with minor fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2047 6046fb1f-dae2-0310-8472-869a43925389

commit babfb87d2c2d86f20eca16230fb5387f7615e7bb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Sep 20 16:39:35 2007 +0000

    Merge Teredo server part of the debug messages patch
    (with cosmetic changes)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2046 6046fb1f-dae2-0310-8472-869a43925389

commit 9aa0272343937ceb3f70d7b109f76bcebaf94232
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 15 08:57:39 2007 +0000

    Fix ARM compiler warning (from Debian buildd)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2045 6046fb1f-dae2-0310-8472-869a43925389

commit 1fc4b25252c2a53d9d3813d4e9cbd0f3103c70ba
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Sep 13 19:12:33 2007 +0000

    Bump version number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2044 6046fb1f-dae2-0310-8472-869a43925389

commit 731ca9947e6df69532bf4f8d9ee6c6e14a5790d2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Sep 13 19:12:15 2007 +0000

    Move debug() to debug.h so it could be reused
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2043 6046fb1f-dae2-0310-8472-869a43925389

commit 0f80a2a95e0dd1bcba4168e9b249fa8503971d32
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Sep 13 17:39:49 2007 +0000

    Sync PO files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2041 6046fb1f-dae2-0310-8472-869a43925389

commit d9eaac6459532ac88726419c1a71e0fa83cca7eb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Sep 13 17:39:43 2007 +0000

    News for 1.1.2
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2040 6046fb1f-dae2-0310-8472-869a43925389

commit af872bf44a3fd7554257a3c55524c25d2a27a3a7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Sep 13 17:30:31 2007 +0000

    Use TEREDO_RANDOM_MASK macro
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2039 6046fb1f-dae2-0310-8472-869a43925389

commit 008a92ddbf259b7fafa64cd6425ef80f4fbb0c36
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Sep 13 16:59:17 2007 +0000

    Fix stupid typo that prevent 1.1.0-1.1.1 servers from forwarding bubbles.
    Credits to Lutz Donnerhacke for spotting the error.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2038 6046fb1f-dae2-0310-8472-869a43925389

commit a2af4ebdf1b02c7a7df34ace4ee406ca4261eb8b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Sep 10 17:37:16 2007 +0000

    svn:ignore
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2037 6046fb1f-dae2-0310-8472-869a43925389

commit a80fccfc9e4b2c22d91d5e60b742c6f8f426b0fd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Sep 10 17:30:09 2007 +0000

    Use IPPORT_TEREDO macro
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2036 6046fb1f-dae2-0310-8472-869a43925389

commit 647b910d32f398fbd508c358806e69c10e114e14
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Sep 4 05:59:23 2007 +0000

    Workaround gcc warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2035 6046fb1f-dae2-0310-8472-869a43925389

commit f17fcc5908ea1ab7016b7ad5db7d875582f26be0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Sep 3 18:00:41 2007 +0000

    Bump version
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2034 6046fb1f-dae2-0310-8472-869a43925389

commit 60ea7d5a6e7b8ec537b7f6aaac2fa9f9f1d71219
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Sep 2 19:53:30 2007 +0000

    Fix NEWS version
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2032 6046fb1f-dae2-0310-8472-869a43925389

commit db5505480df55a022481bf10362003f61d9193cb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Sep 2 19:52:17 2007 +0000

    Bump version number and update copyright
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2031 6046fb1f-dae2-0310-8472-869a43925389

commit 611d0c808ebc4ce27ec0a905380f42dc684c0677
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Sep 2 19:39:13 2007 +0000

    Resync PO files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2030 6046fb1f-dae2-0310-8472-869a43925389

commit 3cef964745bd4854a324c44f41649998a5c07fc2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Sep 2 19:38:41 2007 +0000

    News for 1.1.1
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2029 6046fb1f-dae2-0310-8472-869a43925389

commit 2d9ced5144526cbbbdaa8192024f436a425721cc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Sep 2 19:21:06 2007 +0000

    Fix reported padding problem on ARM
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2028 6046fb1f-dae2-0310-8472-869a43925389

commit ca89dd34c866eff48a88dda964adc6f19b1f1b22
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 19 11:40:15 2007 +0000

    Mention NAT determination removal
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2026 6046fb1f-dae2-0310-8472-869a43925389

commit 2d67fce8760d5fedee1190b24bc39b333067a3e3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 19 11:38:18 2007 +0000

    Resync po files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2025 6046fb1f-dae2-0310-8472-869a43925389

commit 0deecbe4d9f12d54f797a043e9608b73b7cfc853
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 19 11:35:40 2007 +0000

    Mark this a test release
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2024 6046fb1f-dae2-0310-8472-869a43925389

commit 0182b0433ed140bc30ddbe5f1faac0d89eb1edce
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 19 10:47:47 2007 +0000

    Handle timer_create() error gracefully
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2023 6046fb1f-dae2-0310-8472-869a43925389

commit a3e1059eb12066f6ab39de77836a30d6b1ca1d5e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 19 08:07:31 2007 +0000

    Teredo clock: use system timer instead of re-implementing our own
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2022 6046fb1f-dae2-0310-8472-869a43925389

commit 7eb729abe7af8ae1e0ec83057c61f509d7713011
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 18 16:54:12 2007 +0000

    Cleanup the alignment fix memmove.
    I hate the authentication header.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2021 6046fb1f-dae2-0310-8472-869a43925389

commit 87b839a6c2142326d5686bfaaee5651d93048a3d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 18 16:27:30 2007 +0000

    - Rework authentication data in teredo_packet
    - Make teredo_close a real function
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2020 6046fb1f-dae2-0310-8472-869a43925389

commit cd960d5614b5f831d32a919d24bea19047e2c2b2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 18 15:54:08 2007 +0000

    Use size_t for Teredo packet length
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2019 6046fb1f-dae2-0310-8472-869a43925389

commit 3f02de92ec005eb7547264d2b73dd384b16468b1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 18 11:31:24 2007 +0000

    Use direction assignment when possible
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2018 6046fb1f-dae2-0310-8472-869a43925389

commit 3ab06052d975f7b6f4ad963f9fafe09925dbc591
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 18 11:28:52 2007 +0000

    Cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2017 6046fb1f-dae2-0310-8472-869a43925389

commit d533a34e28400f063a2f12edbaa7cae0c660ab1c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 18 11:21:32 2007 +0000

    Use direct assignment when possible
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2016 6046fb1f-dae2-0310-8472-869a43925389

commit 9ba6aa0ab1e544ecc2469e2a3ffb840a92740cb8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 18 11:17:35 2007 +0000

    Fix comment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2015 6046fb1f-dae2-0310-8472-869a43925389

commit 237d2e26230076a25b330da17d5e171a2614af42
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 18 11:15:45 2007 +0000

    Avoid memc(py|mp) too
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2014 6046fb1f-dae2-0310-8472-869a43925389

commit 86c49e59cb014ec996e930531239e1ef6203a6c9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 18 10:58:54 2007 +0000

    Avoid memcpy/memcmp when possible
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2013 6046fb1f-dae2-0310-8472-869a43925389

commit dbb141d8c9b89ec38f7a193bbe6a89e3daad5b28
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 18 10:55:17 2007 +0000

    No need for memcpy
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2012 6046fb1f-dae2-0310-8472-869a43925389

commit 13e49615664d3aff41daa15137aa79750143e926
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 18 10:54:33 2007 +0000

    Use macros
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2011 6046fb1f-dae2-0310-8472-869a43925389

commit 37efe91fb4f60cd95a4b727502558e9649013a4f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 18 08:41:47 2007 +0000

    - Wait one second between crashes to avoid crashes busy loops
    - Some simplifications
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2010 6046fb1f-dae2-0310-8472-869a43925389

commit 50d255c8782203a1c679a513dbbf6e5c7a903c40
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 18 08:00:41 2007 +0000

    Code factorization
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2009 6046fb1f-dae2-0310-8472-869a43925389

commit 8af4fb66b64d5306b7b9cbeba2146d541e7e7adc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 17 15:36:23 2007 +0000

    Dequeue ICMP errors more properly on Linux.
    On BSD, we have BSD semantics, i.e. no ICMP on unconnected sockets anyway.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2008 6046fb1f-dae2-0310-8472-869a43925389

commit abbe385fb3e745c06e636773ccbf26e7045e3c93
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 17 15:06:38 2007 +0000

    Our socket port is not reusable.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2007 6046fb1f-dae2-0310-8472-869a43925389

commit 02a70be54a6098f98250e49fb03f9cf089451a96
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 14 19:55:03 2007 +0000

    Expand 1.1.0 news
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2006 6046fb1f-dae2-0310-8472-869a43925389

commit b666a90b1605629a57d3864758287b3b0e38dacb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 14 19:54:36 2007 +0000

    Update clock test case
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2005 6046fb1f-dae2-0310-8472-869a43925389

commit e4999371b1903b7138f97c61578a6326f192683a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 14 19:53:15 2007 +0000

    Remove dummy clock init/deinit functions
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2004 6046fb1f-dae2-0310-8472-869a43925389

commit f646e903384d9a4b703bada21189dab02e6af12e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 14 19:50:53 2007 +0000

    Rewrite clock subsystem to only poll when busy, rather than all the time.
    This is basically a (pretty good) tradeoff between power savings
    and performance. The latter was the reason for bringing this clock polling
    subsystem in the first place.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2003 6046fb1f-dae2-0310-8472-869a43925389

commit d81a3a82263697afcde3d8412860c4c4ddd2abe8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 14 17:20:04 2007 +0000

    Updating translations
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2002 6046fb1f-dae2-0310-8472-869a43925389

commit 31be4eaa251c73c74fd50e81963dc52115a38462
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 14 17:06:21 2007 +0000

    Update documentation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2001 6046fb1f-dae2-0310-8472-869a43925389

commit 4f0f4323cd82b21953549d6a3ee6cd9a9d251dd6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 18:44:32 2007 +0000

    Add Teredo address randomization as per
    draft-ietf-v6ops-teredo-security-concerns-00
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2000 6046fb1f-dae2-0310-8472-869a43925389

commit 8edef40a353ff2c5608953d918da91b76f0e9f8e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 17:43:03 2007 +0000

    Add tun6 diagnose help for FreeBSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1999 6046fb1f-dae2-0310-8472-869a43925389

commit 3f1e76da985deb2e2d26ba8c763471a5d08ee612
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 17:28:44 2007 +0000

    Sometimes the PID file is screwed.
    Print the "other instance running" error hint for TUNSETIFF EBUSY error too,
    as that is the most typical error that occurs in this case.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1998 6046fb1f-dae2-0310-8472-869a43925389

commit 1afee4c5db685a7ed449b9cf2156f493cd4904e1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 17:24:39 2007 +0000

    Most people are using udev nowadays.
    Update Linux tun troubleshooting error message accordingly.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1997 6046fb1f-dae2-0310-8472-869a43925389

commit a8884b77d2a860bea218dedcb0dc9b3ec88b033d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 17:22:44 2007 +0000

    Improve some error messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1996 6046fb1f-dae2-0310-8472-869a43925389

commit 28a9a6ee94ae6c8b1c64df8c0d225c4d455aebcf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 17:16:00 2007 +0000

    Remove ugly and pretty useless thread hack.
    Remove long UID error message; it was useful when the default user was miredo,
    and that has not been the case for ages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1995 6046fb1f-dae2-0310-8472-869a43925389

commit de2f169407f2809bc5837e7bf82ad6d31b8ade92
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 16:52:16 2007 +0000

    Fix useless DNS resolution
    (thanks assert for catching it)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1994 6046fb1f-dae2-0310-8472-869a43925389

commit 46ba962337a3182df95d42e04a21bb74653896d9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 16:46:57 2007 +0000

    Fix RA parsing
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1993 6046fb1f-dae2-0310-8472-869a43925389

commit 3ffb3e39dc7139da148175b20f695f1a4d76d41d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 16:46:45 2007 +0000

    Add some debug
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1992 6046fb1f-dae2-0310-8472-869a43925389

commit 65b2e3140da2183d287fbd7f462852fac5eb758d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 16:31:48 2007 +0000

    Partial fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1991 6046fb1f-dae2-0310-8472-869a43925389

commit 4c407b8805f4b1ef282c9e3549fcbbeff501109d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 16:25:31 2007 +0000

    Fix iproute detection
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1990 6046fb1f-dae2-0310-8472-869a43925389

commit af14bb387e7279b27f0ede7ff7ca914792f26d64
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 16:23:23 2007 +0000

    Cosmetic fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1989 6046fb1f-dae2-0310-8472-869a43925389

commit 5bdad678bfc719877d5b1f79261134597e1033d7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 16:17:42 2007 +0000

    Build debug code without NDEBUG
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1988 6046fb1f-dae2-0310-8472-869a43925389

commit f8b2188673ced67fe8a222ec124735bb7c0bc1dc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 16:04:39 2007 +0000

    news
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1987 6046fb1f-dae2-0310-8472-869a43925389

commit 4893f925f5de1187cd3d04a860dc163745970d7d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 16:04:00 2007 +0000

    More align fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1986 6046fb1f-dae2-0310-8472-869a43925389

commit 6a7d51ddadabd49104b3ed7c80d8a4ef73b03b25
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 15:56:05 2007 +0000

    Force proper alignment of processed packets.
    While expensive, it only applies to packets with auth header.
    Too bad for Teredo servers though.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1985 6046fb1f-dae2-0310-8472-869a43925389

commit 97382b1782753e8fed190bc8fc86fe253638396d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 15:14:23 2007 +0000

    Fix buffer size
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1984 6046fb1f-dae2-0310-8472-869a43925389

commit 86d210f642b100a39f2166c8abd6242536ae333d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 15:13:36 2007 +0000

    use struct rather than union
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1983 6046fb1f-dae2-0310-8472-869a43925389

commit 4a601a2e3f583163f23bdc8ebff6ce0fe0ecbeb8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 15:11:06 2007 +0000

    Remove useless forward declaration
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1982 6046fb1f-dae2-0310-8472-869a43925389

commit 9520664cca49aba4e079c986c3fd62e7f0a784ad
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 13 15:09:22 2007 +0000

    Remove useless #include
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1981 6046fb1f-dae2-0310-8472-869a43925389

commit 055f507dfb89442a70cc5e09f3d910e26461bd56
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 8 15:48:03 2007 +0000

    Some distribution install iproute to /usr/sbin instead (which is pretty
    silly as network configuration stuff should be out of /usr), so do not
    hardcode the path to it
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1980 6046fb1f-dae2-0310-8472-869a43925389

commit 6675a0df62789dead2424834c4277b38e5e3eaa3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 8 15:45:10 2007 +0000

    Fix dist
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1979 6046fb1f-dae2-0310-8472-869a43925389

commit 6db029f1f4c958ae954b7b4033c458ed726e1941
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 8 15:41:45 2007 +0000

    M4 fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1978 6046fb1f-dae2-0310-8472-869a43925389

commit 4ed5710fcbeeef7ad617d81efc8b6492178147af
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 8 15:35:43 2007 +0000

    Update gettext
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1977 6046fb1f-dae2-0310-8472-869a43925389

commit 119e5655c7cc70fe4bc8415885c5e1906b5a66fe
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 8 15:26:34 2007 +0000

    Try to use IPv6 source routing if supported
    
    However, it currently relies on a "teredo" routing table being defined
    in /etc/iproute2/rt_tables
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1976 6046fb1f-dae2-0310-8472-869a43925389

commit 3670241a8f2d70a4c0abf1cd39f6e119a3c5b7b0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 8 15:25:10 2007 +0000

    Add automake -Wall and move options to Makefile.am
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1975 6046fb1f-dae2-0310-8472-869a43925389

commit aa3bc0cd46a650218b1173764fe55ecea2d51ae2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 8 15:22:16 2007 +0000

    Determine which client hook script must be installed
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1974 6046fb1f-dae2-0310-8472-869a43925389

commit 8f88292d8f8185b46808e68eb6d3a98d81ea16e1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 8 15:21:42 2007 +0000

    Install client hook script automatically
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1973 6046fb1f-dae2-0310-8472-869a43925389

commit 26c3736482fedad8d3cdd8a457deaaa676e2baa4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 8 15:11:07 2007 +0000

    clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1972 6046fb1f-dae2-0310-8472-869a43925389

commit 8ded456b95213d60713118123b2716a1573108e9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 5 19:36:08 2007 +0000

    s/sample/example/
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1971 6046fb1f-dae2-0310-8472-869a43925389

commit 40c648d102d39d3b3f015e4a5b64d5f54412d18b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 5 19:13:20 2007 +0000

    We have interface statistics. No need for more really.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1970 6046fb1f-dae2-0310-8472-869a43925389

commit 83eb0f3900466856ae28332d999c39b245a29eaa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 9 09:51:55 2007 +0000

    Fix warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1969 6046fb1f-dae2-0310-8472-869a43925389

commit 26a55814c96408c64fee0aa75da6a4398bef409f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 9 09:51:20 2007 +0000

    Do not remember secondary server name
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1968 6046fb1f-dae2-0310-8472-869a43925389

commit 26f7e8513d4c059fd44c883795dc8c34cdc0e268
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 9 09:36:50 2007 +0000

    - Do not resolve secondary server address as we do not use it anymore
    - Refuse to run if server has a non-global address
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1967 6046fb1f-dae2-0310-8472-869a43925389

commit 46ec47746cc9fffbf8e9f71491455e1d5e9e4e66
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 9 09:28:32 2007 +0000

    Remove controversial symmetric probing.
    We are quite far apart from RFC4380... and quite dependant on RFC3480 for
    proper operation.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1966 6046fb1f-dae2-0310-8472-869a43925389

commit 1b307af1c0cfbcdf0526daedcd493cdf61d017c3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 8 20:04:42 2007 +0000

    Remove OSX packaging task since Robert Quattlebaum has been doing it
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1965 6046fb1f-dae2-0310-8472-869a43925389

commit 24714deaa34dd6b8908131a874361a3940ad9746
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 8 19:25:52 2007 +0000

    Note for later
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1964 6046fb1f-dae2-0310-8472-869a43925389

commit 2ec3f8118eb07ed958bd44ecd03e90eec305c9fe
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 8 19:24:18 2007 +0000

    Revert [1770].
    NAT behavioral analysis is bad, lets not do it beyond what the standard requires. Besides, Miredo is not responsible for Netfilter bugs, and for lack of RFC3484 support.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1963 6046fb1f-dae2-0310-8472-869a43925389

commit bcac958fb3b70408daa61b001c2f93b20a524f96
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 8 19:16:02 2007 +0000

    Comment edits
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1962 6046fb1f-dae2-0310-8472-869a43925389

commit 77819aab41afef9f0cdfa00cf076e3027173057e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 1 15:25:36 2007 +0000

    Remember CVE-2006-6264. Pretty minor issue.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1961 6046fb1f-dae2-0310-8472-869a43925389

commit 69d9258be481ce7791b8edec7fcd7640841fd875
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 30 15:42:36 2007 +0000

    minor coverage fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1960 6046fb1f-dae2-0310-8472-869a43925389

commit ccfbdb28056bc6f70209812859da4bdca4503744
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 12 15:22:03 2007 +0000

    Test closefrom()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1959 6046fb1f-dae2-0310-8472-869a43925389

commit e908367ef996dc2bac499843b15d1a980794bcc3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 12 15:14:48 2007 +0000

    Add one more API
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1958 6046fb1f-dae2-0310-8472-869a43925389

commit 76f48ce39f6f1800593af180424003840dc95294
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 12 15:12:41 2007 +0000

    Increase public API coverage
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1957 6046fb1f-dae2-0310-8472-869a43925389

commit 392d121d874ccc3b337b82efd8b4ed039f6cd54e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 12 14:56:25 2007 +0000

    Test for v4global
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1956 6046fb1f-dae2-0310-8472-869a43925389

commit 52b71ed37432cce54c82d1f3a684324bbe0834b4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 12 14:43:07 2007 +0000

    Add tests for nonce and clock
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1955 6046fb1f-dae2-0310-8472-869a43925389

commit 07a05f851a06d8c59437a5bfc1058d3f6d75860e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 12 14:08:59 2007 +0000

    Improve documentation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1954 6046fb1f-dae2-0310-8472-869a43925389

commit d94368719389cc6a04ae512bea9bfda3868f86cf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 10 17:12:38 2007 +0000

    Generate Doxyfile
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1953 6046fb1f-dae2-0310-8472-869a43925389

commit 566f844fac98ab5f75759a554e296d1d18b41724
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 10 17:12:16 2007 +0000

    Only document .h files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1952 6046fb1f-dae2-0310-8472-869a43925389

commit ff3ee4e4545768e9a1f344b886e18e4638e5fcb1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 10 17:11:55 2007 +0000

    Fix libteredo documentation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1951 6046fb1f-dae2-0310-8472-869a43925389

commit 9d719abbe4a3d68c7caf933ac0b37a3b9cb79226
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 10 16:22:17 2007 +0000

    Rule to build source code documentation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1950 6046fb1f-dae2-0310-8472-869a43925389

commit 80888397197ddaee5727e984f48dfe67e4871bc1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 9 20:06:14 2007 +0000

    Basic test for libteredo
    (this is very much an excuse to get the full libteredo into lcov)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1949 6046fb1f-dae2-0310-8472-869a43925389

commit 7486f33560e0cc22409dcd795cd86d0b55245c02
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 9 19:39:51 2007 +0000

    Partial helper for test coverage
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1948 6046fb1f-dae2-0310-8472-869a43925389

commit 81e81a90942fc0ecd1724f176a30ac260f56da34
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 12 15:26:58 2007 +0000

    Use autoreconf
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1947 6046fb1f-dae2-0310-8472-869a43925389

commit 3ed0ac9be9878e8a3f4ddc1d8a3ca11355f50532
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 10 19:23:59 2007 +0000

    - Include <sys/poll.h> on MacOSX
    - Fix description of teredo_recv
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1946 6046fb1f-dae2-0310-8472-869a43925389

commit b83d2e3e29540674b2976d2da0862e0c61f1b88e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Mar 31 10:20:12 2007 +0000

    Fix unclear comment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1945 6046fb1f-dae2-0310-8472-869a43925389

commit 0c5d5ac9880fba33557177265626e5ae9b3723b6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 29 20:26:09 2007 +0000

    - Pull frameworks used by Miredo-OSX on Darwin
    - Add note regarding Miredo OSX
    
    Note that miredo trunk as it stands does not use these frameworks,
    since relevant parts of Miredo-OSX haven't been merged yet.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1944 6046fb1f-dae2-0310-8472-869a43925389

commit 14a9acc4bdc4ecf7da3021eba23dbf39ca512e3e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 29 17:52:50 2007 +0000

    Minor code cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1943 6046fb1f-dae2-0310-8472-869a43925389

commit 6316ced727d94592acdcc9efa1ef44d3135b9ed2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 29 17:18:25 2007 +0000

    Do not call res_init().
    It does not work as expected, and we should not try to be more intelligent
    that libc.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1942 6046fb1f-dae2-0310-8472-869a43925389

commit 3dcdc86f4d3a2c706f408a1bfcfea4ef4520aabc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 29 17:15:23 2007 +0000

    Reorder two error messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1941 6046fb1f-dae2-0310-8472-869a43925389

commit bb7295f8ff58207241d601fecbfb1ccb44e3230f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Mar 4 17:46:01 2007 +0000

    - Update FreeBSD requirements
    - Add requirement for addrsel on Linux
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1940 6046fb1f-dae2-0310-8472-869a43925389

commit a3798c981ab9be8c02dc3fc4db9931de0d18c22f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Mar 4 17:41:36 2007 +0000

    FreeBSD PR kern/100080 has been fixed (MAIN and RELENG_6),
    Update error message accordingly.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1939 6046fb1f-dae2-0310-8472-869a43925389

commit bd937819ec0d0c11c706717fe3f8db24f52232f9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 22 20:55:28 2007 +0000

    Update copyright to 2007 where appropriate
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1938 6046fb1f-dae2-0310-8472-869a43925389

commit 1500af55ecace07ddffa30523e30d1066b4e9dea
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 22 20:13:52 2007 +0000

    svn:keywords
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1937 6046fb1f-dae2-0310-8472-869a43925389

commit cd5e6c341f89d8986461e58c9de339b7d2358f62
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 22 20:11:21 2007 +0000

    Update news
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1936 6046fb1f-dae2-0310-8472-869a43925389

commit 76924e032fcd0d4311239d6ef96a157df05ae0de
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 22 20:09:18 2007 +0000

    Add initial client hook scripts
    More work is needed
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1935 6046fb1f-dae2-0310-8472-869a43925389

commit 557310edd038fefb7128c7146634dd5d7ad951c9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 22 18:57:00 2007 +0000

    Cosmetic fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1934 6046fb1f-dae2-0310-8472-869a43925389

commit 188905b91d9d0de8015de1f5f608844c78d05c3b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 22 17:52:11 2007 +0000

    Do not print the "reloading..." message with SIGCHLD
    since we are really exiting rather than reloading
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1933 6046fb1f-dae2-0310-8472-869a43925389

commit 57ac906ace434c7db8fb115462673c1c57cf0a60
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 22 17:50:04 2007 +0000

    Use sigwait() instead of signal handlers
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1932 6046fb1f-dae2-0310-8472-869a43925389

commit 57d8e862a01b3902ffd2499e2b31317ff678b2f8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 22 17:29:42 2007 +0000

    Remove useless pselect() replacement
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1931 6046fb1f-dae2-0310-8472-869a43925389

commit 26b0f90cd86653e164f670af4a38d827aecd8130
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 22 17:27:06 2007 +0000

    Remove addrwatch completely until we get a better implementation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1930 6046fb1f-dae2-0310-8472-869a43925389

commit bc6d764d6e56bd1bc474ef90af46fe3b72e5da4a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 22 17:23:38 2007 +0000

    Remove "Exclusive" client mode.
    The implementation was really bad, and of little use.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1929 6046fb1f-dae2-0310-8472-869a43925389

commit 794e99a507c2dcaf1d2cb61620a0f696d8b08e79
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 22 16:33:36 2007 +0000

    Merge two switches
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1928 6046fb1f-dae2-0310-8472-869a43925389

commit 4a69ea6472d2844a35023b627cc8d0001b67fe4b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 22 16:30:22 2007 +0000

    - Run diagnostics after ensuring privileges
    - Move locale settings to their own function
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1927 6046fb1f-dae2-0310-8472-869a43925389

commit 8d37ffdf62845621f76349fd04466a66e1258ed9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 22 16:22:50 2007 +0000

    - Init groups before capabilities to avoid requiring SETGID.
    - Put threading hacks in a function of their own
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1926 6046fb1f-dae2-0310-8472-869a43925389

commit 34e6cb3c0f1142f82dc69483ec0b313805b414c6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 4 20:09:24 2007 +0000

    Fix Teredo mire
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1925 6046fb1f-dae2-0310-8472-869a43925389

commit 4f51f81580cdf67f964d03ed0597f9d7cc33cc15
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 4 19:43:06 2007 +0000

    Use new API in teredo-mire
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1924 6046fb1f-dae2-0310-8472-869a43925389

commit 35b7d73dba65682899c022dec7e64a1e1875af56
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 4 19:39:24 2007 +0000

    Server compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1923 6046fb1f-dae2-0310-8472-869a43925389

commit 6c50aca0be22dd7f07572b32b6938bc939d4b7f1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 4 19:38:38 2007 +0000

    Make the legacy checksumming interface a stub for the new one
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1922 6046fb1f-dae2-0310-8472-869a43925389

commit 4173184c037e59dcae8c2f7d38d6b3c683ce8aa3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 4 19:37:23 2007 +0000

    Fix typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1921 6046fb1f-dae2-0310-8472-869a43925389

commit fad4bddb7b52b7c057c31d0573a6c3805fbbafb4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 4 19:36:19 2007 +0000

    Export teredo_cksum
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1920 6046fb1f-dae2-0310-8472-869a43925389

commit bbb976c7a9815ad39555ae2d1113241fbad7a6ff
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Feb 4 19:36:09 2007 +0000

    Add iovec-based non-aligned checksumming functions
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1919 6046fb1f-dae2-0310-8472-869a43925389

commit 1a0397c68e17bf2b02eee471412e5ba7df48a164
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Feb 3 08:56:40 2007 +0000

    Fix teredo-mire parameter problem packets
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1918 6046fb1f-dae2-0310-8472-869a43925389

commit 2227ba1a511693921dc7c87d2bdb344a3151434b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 31 17:45:07 2007 +0000

    Hacks to ease chroot setups:
    - preinitialize libc resolver (does not work with glibc 2.5 though :( )
    - test pthread_create and pthread_cancel at startup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1917 6046fb1f-dae2-0310-8472-869a43925389

commit f3dc8d5e0bc5c848933f5c94c7cc6cb84094a9bf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 31 17:19:57 2007 +0000

    GNU/kFreeBSD link fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1916 6046fb1f-dae2-0310-8472-869a43925389

commit bba3549106d25a97e4a8ca4ef28f1a91cfda4798
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 31 16:57:44 2007 +0000

    Update teredo-mired doc
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1914 6046fb1f-dae2-0310-8472-869a43925389

commit 6bf3e7004cfde2612520f5e6bc0c1050d997bec5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 31 16:57:07 2007 +0000

    Rewrite teredo-mire to have a separate server and client port
    so that we can cleanly differenciate direct and indirect bubbles
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1913 6046fb1f-dae2-0310-8472-869a43925389

commit 571c2b3d5e6d893b01d8efc5eaa6d153dc787b85
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 31 16:56:22 2007 +0000

    Export teredo_send_bubble
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1912 6046fb1f-dae2-0310-8472-869a43925389

commit 8fd786a1fbc2942ff39a401689a8e65c2108658b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 31 16:32:37 2007 +0000

    Merge teredo-mire bubble sending into libteredo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1911 6046fb1f-dae2-0310-8472-869a43925389

commit 3603147dc8f8cbe61b7dc64a5287e8a3d8f451dc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 21 19:13:48 2007 +0000

    Add some rudimentary sanity checks in privproc
    when getting data from the non-priv process.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1910 6046fb1f-dae2-0310-8472-869a43925389

commit a49c7df18b7b19978809a849e25a5f97dd585fb4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 14 18:05:30 2007 +0000

    Add some ToDo ideas
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1908 6046fb1f-dae2-0310-8472-869a43925389

commit 51f5fec959837ea899b4c6133eac7f4fd463b580
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 14 17:35:05 2007 +0000

    Use a kinda ugly callback system to clean up unused resources from the
    privileged process after forking it.
    This allows removing of the tunnel device from the privileged process
    table.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1907 6046fb1f-dae2-0310-8472-869a43925389

commit ca025ef8dc0638e71013520a415b5295c663e620
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 14 17:30:02 2007 +0000

    Execute a hook script instead of statically coding the interface
    configuration rules into the privileged process
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1906 6046fb1f-dae2-0310-8472-869a43925389

commit 13bd96b435505f2af086f9b25b2de878552dc265
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 14 17:22:34 2007 +0000

    Update the default configuration file path in accordance with previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1905 6046fb1f-dae2-0310-8472-869a43925389

commit 6e08196e134ef44c16677b1dd3e5d55edd193b87
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 14 17:19:58 2007 +0000

    Install config files to $(sysconfdir)/miredo instead of $(sysconfdir)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1904 6046fb1f-dae2-0310-8472-869a43925389

commit 837e0e35d79e85b74d2a7cfc81e368087249ba0b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 14 15:56:48 2007 +0000

    Use sequenced (reliable) datagram and fallback to (reliable) datagram
    for IPC with privileged process (more logical than stream here)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1903 6046fb1f-dae2-0310-8472-869a43925389

commit 25868155a5ad990fd822e936fc03c8bbe8659c57
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 14 15:43:52 2007 +0000

    Sort out news after forked 1.0.6 branch
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1902 6046fb1f-dae2-0310-8472-869a43925389

commit 4287067c7e9c64bae4ce5059be2a07c95504233d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 14 11:53:38 2007 +0000

    Forgot this file in previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1901 6046fb1f-dae2-0310-8472-869a43925389

commit c69d28cac659d1059ef4acc37155c71da75b0d59
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 14 11:53:18 2007 +0000

    Update official website URL
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1900 6046fb1f-dae2-0310-8472-869a43925389

commit 9f4e93f415905c14bd559ea8cf124fe18730fe16
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 31 11:17:35 2006 +0000

    Bugfix branch took 1.0.6 number. Switch to 1.1.0
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1896 6046fb1f-dae2-0310-8472-869a43925389

commit 1887578af8ea8dba838cc956b8e238d7913718e7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 31 10:16:35 2006 +0000

    Sync PO files for release 1.0.6
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1886 6046fb1f-dae2-0310-8472-869a43925389

commit 7117dc576e71b0ec96585b84f53e5d603c9cfdab
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 30 21:44:23 2006 +0000

    News for 1.0.6
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1885 6046fb1f-dae2-0310-8472-869a43925389

commit bf3a04798001e0e9046899a0d9e986a898151ccb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 30 21:40:26 2006 +0000

    Fix non-standard symmetric fallback check.
    Looks like we have yet another stupid spoofing vulnerability here.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1884 6046fb1f-dae2-0310-8472-869a43925389

commit 2d5d7c9f592776a1cf0b6019f76bf05d7bc01f0b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 30 20:58:42 2006 +0000

    Fix libteredo_set_cone_flag
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1883 6046fb1f-dae2-0310-8472-869a43925389

commit e2cc7d477b879027a56e00152c412c2219e39287
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 29 09:40:21 2006 +0000

    s/#warn/#warning/
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1882 6046fb1f-dae2-0310-8472-869a43925389

commit acc98395cf06a5efebf6aaf29f53230c8ce4129f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 26 13:46:45 2006 +0000

    Fix teredo_set_cone_flag description
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1881 6046fb1f-dae2-0310-8472-869a43925389

commit 8cba796ba1675bf07b5908cffd28c44ec0273342
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 26 13:36:43 2006 +0000

    Internal libteredo support for customizing maintenance procedure timers
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1880 6046fb1f-dae2-0310-8472-869a43925389

commit 0378551abc2698db6207af76c206fa85bf7c45da
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 26 10:57:18 2006 +0000

    Some news
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1877 6046fb1f-dae2-0310-8472-869a43925389

commit b9e41e048bddedea9d99b75327f1357974ac3ee3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 26 10:50:58 2006 +0000

    Fix previous distcheck-hook
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1876 6046fb1f-dae2-0310-8472-869a43925389

commit 884e230a60456d9e0e53c340070e88d6eee42954
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 26 10:13:19 2006 +0000

    Add distcheck hook to ensure manual pages are ASCII-clean
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1875 6046fb1f-dae2-0310-8472-869a43925389

commit 6c16c393d850b91c0dcaa94eaa8e11786cab4175
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 26 09:41:51 2006 +0000

    Link teredo-mire with libteredo-common rather than full libteredo.
    As a consequence, this anecdotal utility can be shipped on its own, so
    put it in miredo-server in the Debian package.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1874 6046fb1f-dae2-0310-8472-869a43925389

commit d94565c07ecc30a0b53da9d2f69c9e121f9c4a1b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 25 22:19:24 2006 +0000

    Teredo Mire explicitly ignores packets with Routing Header
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1873 6046fb1f-dae2-0310-8472-869a43925389

commit dcce02bb4469e92611769dabcc487314aa507207
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 25 22:18:48 2006 +0000

    fdatasync replacement (needed on OSX)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1872 6046fb1f-dae2-0310-8472-869a43925389

commit 781c840b30032cf915e755e9f1ee10318de149fd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 25 20:07:29 2006 +0000

    Various Teredo server conformance fixes (to be tested heavily)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1871 6046fb1f-dae2-0310-8472-869a43925389

commit 6c458825ff3059328e6a69645968e7161e8ec6b0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 25 19:38:09 2006 +0000

    This has been development trunk for 1.0.6 for some time
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1870 6046fb1f-dae2-0310-8472-869a43925389

commit b066f5c121422145a3ca1b6ceccf1e0f1720a3a7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 25 10:42:45 2006 +0000

    Do not retransmit "restricted" probe when "symmetric" probes times out.
    This also looks more like the specification, and avoids emitting some
    useless packets in case of packet loss.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1869 6046fb1f-dae2-0310-8472-869a43925389

commit 73be50120d237b5f76a5e680058465c1ebecc5c1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 25 10:39:42 2006 +0000

    Send probe to server primary address and then to secondary address.
    This matches the specification more closely,
    and really helps symmetric NAT detection counter-measure from v1.0.3
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1868 6046fb1f-dae2-0310-8472-869a43925389

commit 84d3103aef8aeba501d84084dc6262df473a4caa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 25 10:37:29 2006 +0000

    Document cone relay ressurrection and restricted relay danger
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1867 6046fb1f-dae2-0310-8472-869a43925389

commit a2d0cb3d8a5b0144b7fe2abf5c556b975223f2e2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 24 11:48:34 2006 +0000

    Re-distinguish cone RelayType from restricted RelayType
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1866 6046fb1f-dae2-0310-8472-869a43925389

commit d4e455e2d02efefdfab249e202169042dc6960e6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 24 11:48:00 2006 +0000

    Remove the deprecation flag upon libteredo_set_cone_flag
    and bump libteredo revision
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1865 6046fb1f-dae2-0310-8472-869a43925389

commit c5579f189e9c86e29ce33dd68b1ce27ba5508bb3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 24 11:47:29 2006 +0000

    Fix symbol duplication in previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1864 6046fb1f-dae2-0310-8472-869a43925389

commit 71c4f251e5d82a3b014fcf95854485e15a7a035c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 24 11:47:00 2006 +0000

    Restore libteredo_set_cone_flag (was a deprecated no-op)
    as demanded by Sam Hartman
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1863 6046fb1f-dae2-0310-8472-869a43925389

commit 240d4ac4ee801bb4bb29a9c10e9b5e5b68f71bbe
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 24 11:36:52 2006 +0000

    Cosmetic fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1862 6046fb1f-dae2-0310-8472-869a43925389

commit e77f0b402c94e90d2be46ffc5243a736adb1574a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 17 18:10:08 2006 +0000

    Fix svn:ignore
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1861 6046fb1f-dae2-0310-8472-869a43925389

commit d111d640f695773856bdbcdc4c2befaa36efb775
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 16 14:38:13 2006 +0000

    Big shame on me for forgetting to add Jari Korva
    before releasing version 1.0.5
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1860 6046fb1f-dae2-0310-8472-869a43925389

commit 71c13927c094f6017d3fba7e961970242fbe3901
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 16 14:25:53 2006 +0000

    Sync PO files for real-this-time release 1.0.5
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1858 6046fb1f-dae2-0310-8472-869a43925389

commit 4483ff5b02a8bbd4c985f5e64d942d0312bf2d42
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 16 14:19:37 2006 +0000

    Pass properly aligned IPv6 destination to the ICMPv6 callback
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1857 6046fb1f-dae2-0310-8472-869a43925389

commit 22ce6051250480da0f5e7aa0fe6816744e4edc24
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 16 11:45:05 2006 +0000

    Sync PID file after writing to it
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1856 6046fb1f-dae2-0310-8472-869a43925389

commit 2bad10fbdf63dbd820694e85a6f9abeb7ac5bd45
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 16 11:35:39 2006 +0000

    Minor cleanup and factorization
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1855 6046fb1f-dae2-0310-8472-869a43925389

commit f9de5e725167620f772e17a6b2b4011cfd60f4fe
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 15 17:49:53 2006 +0000

    Use the monotonic clock instead of the real-time for packet timings
    (this was already done a long time ago for maintenance procedure,
     and is pending for garbage collection)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1853 6046fb1f-dae2-0310-8472-869a43925389

commit 2bce7028c2d781115b3adbae06ca16e0f4e59302
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 15 16:42:20 2006 +0000

    Use clock_nanosleep instead of pthread_cond_timedwait
    as the condition involved was never signaled anymore
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1852 6046fb1f-dae2-0310-8472-869a43925389

commit f8c508ef731b323c668290125bd80cd5922eb3b5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 15 16:25:42 2006 +0000

    Unduplicate function definition wrt #ifdef
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1851 6046fb1f-dae2-0310-8472-869a43925389

commit 7d47a0734fe4c7237e34dcef6e26cb672643505f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 15 16:19:22 2006 +0000

    Sync translation files for 1.0.5 release
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1850 6046fb1f-dae2-0310-8472-869a43925389

commit 0ddb270762d413c37a5087459d142409ffb78ea1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 15 16:17:05 2006 +0000

    Document known issues and bugs of isatapd
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1849 6046fb1f-dae2-0310-8472-869a43925389

commit afebcf114a0f51365918a43c8435c85b4ecbac5b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 14 18:44:13 2006 +0000

    Use char instead of bool (bool are sometimes more than one char)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1848 6046fb1f-dae2-0310-8472-869a43925389

commit f1908b73a0417f800c320dfda8cbd8c237e1622f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 14 18:41:41 2006 +0000

    Ensure progress dot are printed (sync)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1847 6046fb1f-dae2-0310-8472-869a43925389

commit 3199f8020f175a17b8517b3beb13d9087b33cbd3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 14 18:23:57 2006 +0000

    Check for (unlikely) errors
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1846 6046fb1f-dae2-0310-8472-869a43925389

commit 16cd2241bff75e1ceb58a28cd6cbd443a5f9a491
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 14 18:21:48 2006 +0000

    Fix compiler warnings
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1845 6046fb1f-dae2-0310-8472-869a43925389

commit bd43b2c76a5b0b62c6350ef1ac55d9a599f9d7c5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 13 16:13:53 2006 +0000

    More news for 1.0.5
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1844 6046fb1f-dae2-0310-8472-869a43925389

commit a28e8dd04015e90aea2950c38cf2d90b94fbee2c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 13 11:13:22 2006 +0000

    - Fix regressions in ISATAP daemon
    - Use ssize_t in isatapd
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1843 6046fb1f-dae2-0310-8472-869a43925389

commit f116e949b2a890f0e2ff749870c379a243d94896
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 13 10:05:27 2006 +0000

    Cosmetic fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1842 6046fb1f-dae2-0310-8472-869a43925389

commit 16f128370b3fcb557b93e0af75cc91d105dfb924
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 19:56:53 2006 +0000

    Fix error message
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1841 6046fb1f-dae2-0310-8472-869a43925389

commit 5ca2e9b7e9b3a66af0b17062213c7d2af4e534d0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 19:49:48 2006 +0000

    Inexpensive check for invalid multicast address before expensive get_bind_ipv4
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1840 6046fb1f-dae2-0310-8472-869a43925389

commit dcdcb4de0c4cdbd53701914b6e4440d0e571da5f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 18:06:38 2006 +0000

    Client-less compilation fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1839 6046fb1f-dae2-0310-8472-869a43925389

commit a240afb57124e12a2bc42619abf151ff30c2e8c1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 18:03:20 2006 +0000

    Make list unit test less likely to fail because of timing issues
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1838 6046fb1f-dae2-0310-8472-869a43925389

commit 70d783ae80643ed68dea98547707c6e9227eb542
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 17:59:04 2006 +0000

    Fix Judy-less lookup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1837 6046fb1f-dae2-0310-8472-869a43925389

commit d96d768cc2cb780879215b08d81606cecd3210c3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 17:45:13 2006 +0000

    Make list unit test more verbose
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1836 6046fb1f-dae2-0310-8472-869a43925389

commit 8e762427be99a227b6b064a76e98626a142e00af
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 17:38:50 2006 +0000

    Fix compiler warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1835 6046fb1f-dae2-0310-8472-869a43925389

commit 63d8825b7f3add2a039044c10605f04eefee47b6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 17:28:54 2006 +0000

    Use teredo_clock_t instead of time_t where appropriate
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1834 6046fb1f-dae2-0310-8472-869a43925389

commit f99e8ce833468e1e7e48ae6fc106430bc9bac5b5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 17:10:36 2006 +0000

    Add news for release 1.0.5
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1833 6046fb1f-dae2-0310-8472-869a43925389

commit 20bb7bd6896d69ae4f25e7943a55b166bdcac934
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 17:08:14 2006 +0000

    Use the new clock
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1832 6046fb1f-dae2-0310-8472-869a43925389

commit 945cf3c8c57d202c24b00cf3555d248e875f40cb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 17:06:40 2006 +0000

    Initialize the clock
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1831 6046fb1f-dae2-0310-8472-869a43925389

commit fde9e2ee2417e40adc95a1a58c14812b52f3dd67
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 17:06:17 2006 +0000

    Add much safer (and slower, but still probably faster than plain time())
    low frequency clock.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1830 6046fb1f-dae2-0310-8472-869a43925389

commit 351b7b0ee4b47363ce7a67ad81dd102270bed390
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 16:05:20 2006 +0000

    Remove unused parameter from list lookup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1829 6046fb1f-dae2-0310-8472-869a43925389

commit 48074af3d0c22c00b94f303ce533321f1cfc7dc2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 13:30:59 2006 +0000

    Increase HMAC secret key size up to the hash size (128 bits)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1828 6046fb1f-dae2-0310-8472-869a43925389

commit 36466cf5351657f4d5a71b9ee2ff487773420542
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 13:17:48 2006 +0000

    Increment libteredo revision
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1827 6046fb1f-dae2-0310-8472-869a43925389

commit 4f6055e0a9d73c76353b5abdb332b06b0f588794
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 13:11:44 2006 +0000

    Suppress access time (time_t) from peers:
     - save 4 or 8 bytes per peer,
     - make GC clock independant from tunnel clock.
    -- Cette ligne, et les suivantes ci-dessous, seront ignorées--
    
    M    peerlist.c
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1826 6046fb1f-dae2-0310-8472-869a43925389

commit c2441f7b2c151d340683848d5aa02a4bddce8d60
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 13:08:31 2006 +0000

    Fix list test (0 expiration delay are invalid)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1825 6046fb1f-dae2-0310-8472-869a43925389

commit 72923241ef82bdc65e9a800908d9b062da5622d5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 12 11:11:12 2006 +0000

    Factorize and improve peers list unit test
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1824 6046fb1f-dae2-0310-8472-869a43925389

commit 781c9298b2758132d455d80464a0f66b4b189f43
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 11 21:31:11 2006 +0000

    Run peer list tests twice to check reinsertion issues
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1823 6046fb1f-dae2-0310-8472-869a43925389

commit 0980c74238d10814fd7345c15bd6067e4b01d391
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 11 20:48:34 2006 +0000

    Use 128 instead of 21 as hop limit for ping test.
    21 turned to be too small. I should have expected this, instead of
    trusting Windows into picking a decent value.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1822 6046fb1f-dae2-0310-8472-869a43925389

commit 01d8a3dd31dedea19cc13bb36cf7c6a2aa03fd65
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 5 10:45:13 2006 +0000

    Rename some src/ source files to duplication with libteredo/
    and ease debugging by external people
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1821 6046fb1f-dae2-0310-8472-869a43925389

commit e55916b8daaadcf18634c4aad898e819338ce280
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 2 10:37:02 2006 +0000

    Minor code factorization for peer creation/destruction
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1820 6046fb1f-dae2-0310-8472-869a43925389

commit 69aa1445890403b164aba9b328337acf75c995e3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Nov 21 13:55:26 2006 +0000

    Update comment about conf file packaging
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1819 6046fb1f-dae2-0310-8472-869a43925389

commit fa8d26eac33724268202f0751c70110095af5f9d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 18 16:50:01 2006 +0000

    Use threads in isatapd
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1817 6046fb1f-dae2-0310-8472-869a43925389

commit 1e8ad0360418c5a6d4c3000817a54a27b0599e97
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 13 20:20:13 2006 +0000

    Use MALLOC_CHECK_ in teredo list unit test
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1816 6046fb1f-dae2-0310-8472-869a43925389

commit ffd4dc9159a9ba955fbeae2d2443d40319d0d27b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 13 16:55:24 2006 +0000

    Try hader to convince users that using Prefix and InterfaceMTU
    is not such a good idea.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1815 6046fb1f-dae2-0310-8472-869a43925389

commit 56d74c023a0e7d6373c9b4393617c6a7dd66b024
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 4 17:10:12 2006 +0000

    Remove extraneous \n
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1813 6046fb1f-dae2-0310-8472-869a43925389

commit 7fee40d218e58e1f9e2b18e88161969cc3864646
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 28 18:18:56 2006 +0000

    Missing dist file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1812 6046fb1f-dae2-0310-8472-869a43925389

commit d7b1aa7ba31deb0c30ba6633147476e868a12e40
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Oct 26 19:50:48 2006 +0000

    Add -Wmissing-noreturn
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1811 6046fb1f-dae2-0310-8472-869a43925389

commit 2ec626a71a11c8896ad1ccb44588f1e1402e6e7e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Oct 26 19:49:51 2006 +0000

    Fix printf format __attribute__
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1810 6046fb1f-dae2-0310-8472-869a43925389

commit 012ab507691351290bd1c2e820b197cf23d5a894
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Oct 26 19:37:14 2006 +0000

    Add noreturns in src/
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1809 6046fb1f-dae2-0310-8472-869a43925389

commit ab101cd9b7e400bde93bd17859e5226efa5ac7f9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Oct 26 19:34:40 2006 +0000

    Mark a bunch of libteredo function as noreturn
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1808 6046fb1f-dae2-0310-8472-869a43925389

commit b7f111bd0bbb973d43d2c76642e9686a7936a7f2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Oct 26 19:23:13 2006 +0000

    Adds warning check flags by default
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1807 6046fb1f-dae2-0310-8472-869a43925389

commit defcca7bd3d07ceabf7ad89ebf82afc45dcfa4f1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Oct 26 19:22:45 2006 +0000

    Remove superfluous declaration
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1806 6046fb1f-dae2-0310-8472-869a43925389

commit 7f1f5cd881d854ed0c45a63793d3761da783f420
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Oct 26 18:58:33 2006 +0000

    Fix typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1805 6046fb1f-dae2-0310-8472-869a43925389

commit e0a546a15864401b03471680621da4e15aed3df4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 21 14:49:17 2006 +0000

    Missing static qualifier
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1804 6046fb1f-dae2-0310-8472-869a43925389

commit 4f8dd47f2c791ca0fbcf5df7d803d04cc838045f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 21 14:44:58 2006 +0000

    More const/iovec problems
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1803 6046fb1f-dae2-0310-8472-869a43925389

commit 3e421fb9b4e198ae44a74634d6050bb304d08e09
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 21 14:41:40 2006 +0000

    Fix a shadowing warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1802 6046fb1f-dae2-0310-8472-869a43925389

commit a4d62550bef6fdc618ad435200412f122cd064fe
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 21 14:38:10 2006 +0000

    Fix a few more warnings
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1801 6046fb1f-dae2-0310-8472-869a43925389

commit 6859c92be345f3ce31e7de9abb0dafd89b2c8073
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 21 14:26:58 2006 +0000

    Some const qualifier fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1800 6046fb1f-dae2-0310-8472-869a43925389

commit 7deafcd506e923a374ee736b1ed8bc9c7b21d493
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 21 14:23:59 2006 +0000

    Fix a bunch of warnings
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1799 6046fb1f-dae2-0310-8472-869a43925389

commit 8ae25d346d411294ab384ec4dd2a2241392b7691
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Oct 17 20:34:53 2006 +0000

    This is development trunk for version 1.0.5
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1798 6046fb1f-dae2-0310-8472-869a43925389

commit 304161f421c6abbf70cbc580aa946b70a5a276bc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Oct 17 20:34:24 2006 +0000

    Don't abuse the "long" type when using libJudy.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1797 6046fb1f-dae2-0310-8472-869a43925389

commit 88e42b1d6e676f71661f5b19cbbcf5d124338ed2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 8 10:02:50 2006 +0000

    PO files for release 1.0.4
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1790 6046fb1f-dae2-0310-8472-869a43925389

commit 5862da8469b1878ab8ac535fa2e8b1d1302ee9fb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 8 10:00:24 2006 +0000

    News for release 1.0.4
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1789 6046fb1f-dae2-0310-8472-869a43925389

commit 1c30cd2591b11b952d6f9dccd123fcd7bf16ccc8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 8 09:44:02 2006 +0000

    Fix probe packets storm behind symmetric NATs
    (this should be Debian #391611)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1788 6046fb1f-dae2-0310-8472-869a43925389

commit efcd72e5dd6eec882e9b440b90ad2c1900bc116d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Oct 5 16:36:36 2006 +0000

    News for release 1.0.3
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1782 6046fb1f-dae2-0310-8472-869a43925389

commit 5589528b72c88e5d651a2971576024ea050759f4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Oct 5 16:36:17 2006 +0000

    Sync PO files for release 1.0.3
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1781 6046fb1f-dae2-0310-8472-869a43925389

commit 2f6b2c0a3cf4be6960f3d40ff3c9e0689a5630be
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Oct 5 16:31:52 2006 +0000

    Ignore failure to create a tunnel because of permission error
    in the test suite
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1780 6046fb1f-dae2-0310-8472-869a43925389

commit 6292558c49ec24a86f39739b88db242b6bfdc471
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Oct 5 16:07:35 2006 +0000

    Use an enumeration for to represent the qualfication state machine state
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1779 6046fb1f-dae2-0310-8472-869a43925389

commit 54f2da1cbb40e201511660afee72189d200d1e2d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Oct 5 16:06:07 2006 +0000

    Avoid spamming syslog with "normal" error states that are expected to
    last for some time
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1778 6046fb1f-dae2-0310-8472-869a43925389

commit 49b5edb602fe7838b6f976f8e6b20a5ca2bbe873
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Oct 5 15:50:51 2006 +0000

    - Rerun the whole qualification procedure when the external mapping
      changes since the NAT device/access network might have changed.
    - Some maintenance state machine code factorization.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1777 6046fb1f-dae2-0310-8472-869a43925389

commit 8ab98d34ff5df6028085b2816ae0e187993e811a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Oct 4 19:15:48 2006 +0000

    Ignore bogus advertisement silently
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1773 6046fb1f-dae2-0310-8472-869a43925389

commit 4cf7b3e547847718e8d726a2e6441f1b17c55ce1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Oct 4 19:13:12 2006 +0000

    Add work-around to use the standard prefix even though Microsoft Teredo
    advertise the old one.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1772 6046fb1f-dae2-0310-8472-869a43925389

commit ab8091872b8bc1ed44ac728c194385e77c3822f3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Oct 4 19:12:17 2006 +0000

    Record the old prefix for reference
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1771 6046fb1f-dae2-0310-8472-869a43925389

commit 41820a178ae31ccfa322aa7815e82955e8301881
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Oct 4 19:01:54 2006 +0000

    Try to detect more symmetric NATs,
    following discussion with Nathan Lutchansky
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1770 6046fb1f-dae2-0310-8472-869a43925389

commit f9742480c723aa3e317f6e0b8515e5c98db6e45c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Oct 4 19:01:17 2006 +0000

    More compact THANKS, add some entries that I can think of
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1769 6046fb1f-dae2-0310-8472-869a43925389

commit 2c339d98d3196db55e136fc5049b54b73a67649b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Oct 4 18:02:46 2006 +0000

    Cosmetic fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1768 6046fb1f-dae2-0310-8472-869a43925389

commit 74aea05758ce3bbc9b2c0eeb0f66bd9d77530262
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Oct 4 17:56:03 2006 +0000

    Minor code factorization
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1767 6046fb1f-dae2-0310-8472-869a43925389

commit c2b4ddba26e78cc83904e17ee3c4f8c8bd12ff7e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Sep 25 19:34:28 2006 +0000

    Bump libteredo revision number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1766 6046fb1f-dae2-0310-8472-869a43925389

commit 1c62e19e1a453d4b14e6d41dbef4b742c96efe26
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Sep 25 19:30:31 2006 +0000

    This is development branch toward 1.0.3
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1765 6046fb1f-dae2-0310-8472-869a43925389

commit 8a5bee2cc627f552363bfa5ce4d3d56d81b61997
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Sep 25 19:24:41 2006 +0000

    Remove pthread_barrier_* replacement (no longer needed)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1764 6046fb1f-dae2-0310-8472-869a43925389

commit c1da3167f85bea9403212a24d2490ae3e8e94814
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Sep 25 19:21:23 2006 +0000

    - Fix thread-safety for would-be multi-threaded maintenance usage
    - Replace overkill "packet processed" barrier with a condition
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1763 6046fb1f-dae2-0310-8472-869a43925389

commit 907672e1316acfb610cadef5eabf85ad5b529213
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Sep 18 15:38:12 2006 +0000

    Sync PO files for release 1.0.2
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1760 6046fb1f-dae2-0310-8472-869a43925389

commit 817ff4c005b3a84206ac0020e6535df1a8349a56
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Sep 18 15:21:28 2006 +0000

    News (so far) for 1.0.2
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1756 6046fb1f-dae2-0310-8472-869a43925389

commit f2c46be5f08d216d527dba1e421fde8968128ae6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 16 16:46:35 2006 +0000

    Warning fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1749 6046fb1f-dae2-0310-8472-869a43925389

commit e232ee6391de91bb359243eb85c52d4719bc9fdf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 16 16:42:53 2006 +0000

    Warning fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1748 6046fb1f-dae2-0310-8472-869a43925389

commit 107b5f46cd63e3673b47f3290ba775c9c514b92f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 16 16:34:46 2006 +0000

    Thread cancellation safety fix (typo!)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1747 6046fb1f-dae2-0310-8472-869a43925389

commit 69da26c78040402872514e06bf14347beffbde52
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 16 16:20:14 2006 +0000

    Don't redefine pthread_barrier_*; use compat_pthread_barrier_* instead.
    Might fix FreeBSD-6-latest sparc64 problem.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1746 6046fb1f-dae2-0310-8472-869a43925389

commit 49a7ab57d794dbc35541ec06bd91e8be1e29265a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Sep 3 19:22:35 2006 +0000

    Fix clock_nanosleep return value:
    clock_nanosleep shall return an error code (like pthread_*),
    rather than return -1 and set errno, in case of error.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1744 6046fb1f-dae2-0310-8472-869a43925389

commit 222a70c8d0db54afa4b7dea3c00600cfa59e18b8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Sep 3 16:22:45 2006 +0000

    Fix spelling mistake that hindered error in libJudy checks
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1742 6046fb1f-dae2-0310-8472-869a43925389

commit b58273fc7bb421dd372f63847c4f971c117cc6da
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Sep 3 16:21:10 2006 +0000

    Mark libtun6-diagnose as skipped rather than succesful if not allowed
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1741 6046fb1f-dae2-0310-8472-869a43925389

commit b23860e5c579f05769a1c1a52f5b932a8bbecedd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Sep 3 05:59:56 2006 +0000

    Increase libteredo revision
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1740 6046fb1f-dae2-0310-8472-869a43925389

commit db7f5970839c93fde9ad5371e6fa9578585eacde
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Sep 3 05:57:21 2006 +0000

    Fix return value and deadlock from teredo_set_prefix in client mode
    (this is never triggered by miredo).
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1739 6046fb1f-dae2-0310-8472-869a43925389

commit 640817ba4abba8231c5d7b5e01d0ada5df6556b9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 2 18:40:32 2006 +0000

    - Fix spelling mistake
    - Distribute missing file in tarball
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1738 6046fb1f-dae2-0310-8472-869a43925389

commit d8830e2cbe26d95c074fc614bc1752d01e7c2877
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 2 17:38:26 2006 +0000

    Separate "hidden" compatibility fixes from configure.ac
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1737 6046fb1f-dae2-0310-8472-869a43925389

commit 6e41265cdead6736f5c0fe8d2dbba5b1b10b7395
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 2 17:37:47 2006 +0000

    Fallback to real-time clock properly when pthread_condattr_setclock is
    present
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1736 6046fb1f-dae2-0310-8472-869a43925389

commit 587f007061943860265b523431a9ec44d4601337
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 2 17:11:20 2006 +0000

    Fix one barrier leak in maintainance procedure.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1735 6046fb1f-dae2-0310-8472-869a43925389

commit d7fe55587d2705a3de72145a37c68a378261f971
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 2 15:49:30 2006 +0000

    Cleanup pthread_barrier* replacement
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1732 6046fb1f-dae2-0310-8472-869a43925389

commit d041fcd15a84c86e613822ecf970947679efcd41
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 2 15:42:28 2006 +0000

    This is development tree toward version 1.0.2
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1731 6046fb1f-dae2-0310-8472-869a43925389

commit 843f5a7c2f6e09575b0c02b42283c207b8167e1d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 2 14:36:59 2006 +0000

    News for release 1.0.1
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1729 6046fb1f-dae2-0310-8472-869a43925389

commit 41d5bdce93a8199df1e6aafd026f67bced3d253c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 27 08:13:18 2006 +0000

    All fixes for $(CC) -Wundef (basically s/#if /#ifdef/ where appropriate)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1726 6046fb1f-dae2-0310-8472-869a43925389

commit 1e9ac37b44af4d4777b497a4415098963fde8e51
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 25 15:14:52 2006 +0000

    Revert extraneous commited file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1722 6046fb1f-dae2-0310-8472-869a43925389

commit 0e58d20b6bd6b6ddda4a8fae25d05816e3da8333
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 25 15:13:52 2006 +0000

    Simplify Debian packaging
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1721 6046fb1f-dae2-0310-8472-869a43925389

commit c5bc291138e8975daa1b9ef488584af06f4e2978
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 24 17:01:52 2006 +0000

    Fix sample conf installation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1720 6046fb1f-dae2-0310-8472-869a43925389

commit ad6e5fe3d1beecdd85a3d36ce48399cfb252b373
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 24 16:52:36 2006 +0000

    Fix typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1719 6046fb1f-dae2-0310-8472-869a43925389

commit 9fedb14c647476df40b8ddb1178ecdb60dcc1e32
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 24 16:38:19 2006 +0000

    Unexport internal teredo_list_* which were the last remaining exported
    internal symbols.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1718 6046fb1f-dae2-0310-8472-869a43925389

commit 0e075a8fc6bf22ea012c6670f100088330c240a6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 24 16:09:49 2006 +0000

    Remove non-existant symbol from export list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1717 6046fb1f-dae2-0310-8472-869a43925389

commit 9d1ee1e2407e9b22e884a65e459e690c5744ae78
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 24 16:07:34 2006 +0000

    Remove expanded keywords from Makefiles to avoid extra rebuild
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1716 6046fb1f-dae2-0310-8472-869a43925389

commit c956d124f5555fc65914186cb90a21544fb3cdc5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 24 16:05:53 2006 +0000

    Support for customizing sample config installation directory
    separately from actual system configuration directory
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1715 6046fb1f-dae2-0310-8472-869a43925389

commit cbd04cb8fc66011fb85ccecba686c31e88c4ddc5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 24 15:41:08 2006 +0000

    Fix regression test
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1714 6046fb1f-dae2-0310-8472-869a43925389

commit 3224872f11dcb3d5d226bf6133fdd176a6e42b72
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 24 15:38:19 2006 +0000

    Limit memory consumption of stress test
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1713 6046fb1f-dae2-0310-8472-869a43925389

commit ad9448ee27558ec3d963aae9ea80889d0f984f5e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 24 15:09:15 2006 +0000

    Begin development of version 1.0.1
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1712 6046fb1f-dae2-0310-8472-869a43925389

commit 05246859bdbb2d4a21877f949269a22521a80ae2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 21 20:13:52 2006 +0000

    News for release 1.0.0
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1708 6046fb1f-dae2-0310-8472-869a43925389

commit 6b53e0ec22686560ae4bc1bf3a1fd362d9282f8b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 21 20:11:08 2006 +0000

    Sync for release 1.0.0
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1707 6046fb1f-dae2-0310-8472-869a43925389

commit d8bb3df4ac2be4a376b782e7d351ab3aeb5f56f3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 21 17:04:32 2006 +0000

    Documentation for 1.0.0
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1706 6046fb1f-dae2-0310-8472-869a43925389

commit b6bf516b64291f3a879aadc52c8f6d70dc0e6b92
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 21 17:04:08 2006 +0000

    All: replace stdint.h with more portable (and as standard) inttypes.h
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1705 6046fb1f-dae2-0310-8472-869a43925389

commit e32ae3f72ccb26716f1512a4711f23d86bd2c0c1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 21 16:57:18 2006 +0000

    Restore configure invocation with --version
    (but that's an ugly trick)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1704 6046fb1f-dae2-0310-8472-869a43925389

commit 13304a8466f84890e279a32acf7ba8624a17ee0f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 21 16:18:02 2006 +0000

    Forgot this file in [1701]
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1703 6046fb1f-dae2-0310-8472-869a43925389

commit ebfd6730d90dd8e0320ccdf70986df2bdaf6c940
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 21 16:17:39 2006 +0000

    Avoid useless C++ and F77 configure checks
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1702 6046fb1f-dae2-0310-8472-869a43925389

commit d1df8031fc44f9dfa9757d67ff8f980673aeb04c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 21 16:16:21 2006 +0000

    Remove quite broken teredo_register_readset() API.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1701 6046fb1f-dae2-0310-8472-869a43925389

commit a2aba06894cfda4e30c53703b2d90b05b388554e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 21 16:00:51 2006 +0000

    Include inttypes.h instead of stdint.h (more portable)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1700 6046fb1f-dae2-0310-8472-869a43925389

commit 61140d92d1977bd538f0bb86aad5d989f929314d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 16 18:51:08 2006 +0000

    Fix compilation without client support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1699 6046fb1f-dae2-0310-8472-869a43925389

commit 5033b862e40a711e6649fcbac5c3c46ad485aa67
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 16 18:49:56 2006 +0000

    Fix return value of initialization function
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1698 6046fb1f-dae2-0310-8472-869a43925389

commit 76db80cfcb0888f563b65d9d72be27bcb7046632
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 16 17:48:18 2006 +0000

    - Remember PTHREAD_LDFLAGS and PTHREAD_LIBS
    - Support PTHREAD_CFLAGS from FreeBSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1697 6046fb1f-dae2-0310-8472-869a43925389

commit 7235b54869bbd6d47a80a011c1a80e0f324b9f25
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 16 16:43:26 2006 +0000

    FreeBSD 4 compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1696 6046fb1f-dae2-0310-8472-869a43925389

commit 01f5a00c98588b2a6a8e18a1aadd2d118fb46446
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 15 20:20:13 2006 +0000

    Fix svn:ignore
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1695 6046fb1f-dae2-0310-8472-869a43925389

commit da0ec4dac0dedec76fdaf2b35851a779ef40cf86
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 15 20:14:29 2006 +0000

    News for release 0.9.9
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1693 6046fb1f-dae2-0310-8472-869a43925389

commit 1ca1a436f4c48500afd2709b8d62f7daa1472373
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 15 20:13:58 2006 +0000

    Sync PO files for release 0.9.9
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1692 6046fb1f-dae2-0310-8472-869a43925389

commit 1e1e75e6cf647e974c79db86d1d66d7cac29bba6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 15 20:13:17 2006 +0000

    Kill t6cmp():
    - will allow unaligned comparisons,
    - it used to be buggy, so it's not such a bad idea,
    - is not used with libJudy, and libJudy is HIGHLY recommended.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1691 6046fb1f-dae2-0310-8472-869a43925389

commit 9fd944c9ffb0454c369e702a5b6e0f0dc87dda0e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 14 19:53:49 2006 +0000

    Increment libtun6 revision
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1690 6046fb1f-dae2-0310-8472-869a43925389

commit bfa583fa842b7ca0ca2b493ebd5818731991b3ad
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 14 19:53:00 2006 +0000

    Increment libteredo revision number.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1689 6046fb1f-dae2-0310-8472-869a43925389

commit 48a905b2c426520964d2bd48739659851214001a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 14 19:52:17 2006 +0000

    Restore libteredo_set_relay_mode().
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1688 6046fb1f-dae2-0310-8472-869a43925389

commit 952fe4297bdb96794ec9cb64f7cde493803a0ca4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 14 19:51:24 2006 +0000

    Revert [1682]
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1687 6046fb1f-dae2-0310-8472-869a43925389

commit 9472067f31a2fdd82de1e25d12427a6463ea0566
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 14 19:46:00 2006 +0000

    Define and future-proof teredo_set_prefix().
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1686 6046fb1f-dae2-0310-8472-869a43925389

commit 7b10a34543f1268e8310f0a264d1833d571caef0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 14 18:14:51 2006 +0000

    Some documentation update
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1684 6046fb1f-dae2-0310-8472-869a43925389

commit e82343886fbdc19687d54ed43bd22fb345654e2f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 14 17:57:17 2006 +0000

    Fix typo causing linking error on NetBSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1683 6046fb1f-dae2-0310-8472-869a43925389

commit 2012347ed458eb31dc4f998c23b29a37984d63e0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 13 16:43:44 2006 +0000

    Deprecate short-lived libteredo_set_relay_mode().
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1682 6046fb1f-dae2-0310-8472-869a43925389

commit 62a817afa32acb0b9c4cea4bf0582bf8677a6455
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 13 16:22:46 2006 +0000

    Fix for NetBSD that lacks devname_r
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1681 6046fb1f-dae2-0310-8472-869a43925389

commit 3fec5ec0eef1991ba4d2678302b0076b4daf00d2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 13 15:48:35 2006 +0000

    C99 cosmetic
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1680 6046fb1f-dae2-0310-8472-869a43925389

commit 16180cb7786a916585248ff4cb21c8dc13b31172
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 13 15:46:41 2006 +0000

    Fix comment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1679 6046fb1f-dae2-0310-8472-869a43925389

commit 5d7224e89e00303ffb3593c9cda61306fca9c9d5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 13 15:36:54 2006 +0000

    Clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1678 6046fb1f-dae2-0310-8472-869a43925389

commit 0f75cfbd015c906a6c01b1524aa7c785bcc3573a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 13 11:42:08 2006 +0000

    Bump version number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1677 6046fb1f-dae2-0310-8472-869a43925389

commit fe9122b8655cbdc91e3a38c962cdd42f6a30ce43
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 12 17:28:35 2006 +0000

    Updates toward 0.9.8
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1674 6046fb1f-dae2-0310-8472-869a43925389

commit 2474ea576836488b4ce4f683ecfdff5bf441d7ee
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 12 17:28:15 2006 +0000

    Remove useless #include
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1673 6046fb1f-dae2-0310-8472-869a43925389

commit 92929a1b475ff99fb2476a856260a174fefedef1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 12 08:40:12 2006 +0000

    Adapt initialization in relay-mode since it needs HMAC also now
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1672 6046fb1f-dae2-0310-8472-869a43925389

commit 47cf91bdb20a4b4f2edfb70ab371b460ed4e68d6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 12 08:31:13 2006 +0000

    Fix linking with --disable-teredo-client
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1671 6046fb1f-dae2-0310-8472-869a43925389

commit 9fac4fea87cef2bf910a19b0bda473b8eb2afb7e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 12 08:23:05 2006 +0000

    Only try symmetric traversal check with bubbles
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1670 6046fb1f-dae2-0310-8472-869a43925389

commit c511cc41991104a679dac3e5044e5a73c17db849
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 12 08:15:07 2006 +0000

    Support fairly secure (62-bits of entropy) traversal between nodes behind
    a symmetric NAT and nodes behind full/address cone NATs.
    
    This is an evil deviation from the Teredo RFC, but it is designed in a way
    that is fully interoperable (the change is transparent to the symmetric NAT
    node), and only requires update of the cone-side Teredo peer.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1669 6046fb1f-dae2-0310-8472-869a43925389

commit 637889ad686f5a7d418fbbebd69231b08f88094f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 12 07:54:35 2006 +0000

    Suppress never ever used API
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1668 6046fb1f-dae2-0310-8472-869a43925389

commit c963b5a88f45800fb331e423ddfe4e33fde6175e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 11 20:33:16 2006 +0000

    More cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1667 6046fb1f-dae2-0310-8472-869a43925389

commit c712052b0a17d8249a1c9dd011fa321e48bc7f7e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 11 20:16:17 2006 +0000

    Cosmetic change
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1666 6046fb1f-dae2-0310-8472-869a43925389

commit a87c2e94d0e32f4e0e38469b2845e7f92f615f9b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 11 15:51:10 2006 +0000

    Suppress useless RNG API, and hide it behind the HMAC one.
    No longer keep /dev/random after startup.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1665 6046fb1f-dae2-0310-8472-869a43925389

commit f2adb96226b93d7e3d59c82011410ee33c95eb16
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 11 15:31:07 2006 +0000

    Replace nonce with a 64-bits HMAC to authenticate server.
    
    Not only is this probably more secure than reusing the nonce for a full hour,
    it also remove the dependency on /dev/random while running (we only need it
    at startup).
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1664 6046fb1f-dae2-0310-8472-869a43925389

commit 8fedf093f13c15606434b982085cc1575e743272
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 11 15:14:24 2006 +0000

    Adding provisional API to replace nonce generation with hashing.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1663 6046fb1f-dae2-0310-8472-869a43925389

commit bc51d22c91e44ef5d03538bcb6acda5a9b8cddaa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 10 16:39:45 2006 +0000

    Prepare to re-use HMAC code.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1662 6046fb1f-dae2-0310-8472-869a43925389

commit 2921121c6dfde471ec326fc68e654a3c9e475a34
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 10 16:08:01 2006 +0000

    Big -yet partial- cleanup of the ping HMAC API:
    - renaming
    - unexport from the shared object
    - do not depend on time_t / <time.h>
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1661 6046fb1f-dae2-0310-8472-869a43925389

commit 9a6b0c8eec8b393f77d008602991cf4489d0467a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 10 15:06:23 2006 +0000

    Extra sanity check in Teredo server processing
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1660 6046fb1f-dae2-0310-8472-869a43925389

commit 2aee79807b3369c8f4acddeefc60f506f6604d9e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 9 19:53:38 2006 +0000

    Precompile-time sanity check
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1659 6046fb1f-dae2-0310-8472-869a43925389

commit f25e106a7742289f7ee8432d8f39af89a723db31
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 9 19:50:22 2006 +0000

    Use "random" rather than "nonce".
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1658 6046fb1f-dae2-0310-8472-869a43925389

commit 9036a2d9eb2027ffc70be7bc7db6e81dcc9fef52
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 9 19:26:08 2006 +0000

    More concise comments
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1657 6046fb1f-dae2-0310-8472-869a43925389

commit dcb421f6f4df09536e26215ac25eacafbf5c95ba
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 9 19:09:26 2006 +0000

    Recover from Teredo relay address change quicker
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1656 6046fb1f-dae2-0310-8472-869a43925389

commit 85a00122b8e878dbfe8f003b07a2e7b3dd35ace6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 9 18:51:38 2006 +0000

    Re-add Router Advertisement source UDP port check
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1655 6046fb1f-dae2-0310-8472-869a43925389

commit cd12dcb96c0c13402ed3ac4464ba47df0c5fe68b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 9 18:49:28 2006 +0000

    Cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1654 6046fb1f-dae2-0310-8472-869a43925389

commit 88b8d889e7e65bbb446d085497fa49b8701eb00a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 8 17:22:55 2006 +0000

    Pass time to HMAC functions explicitly.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1653 6046fb1f-dae2-0310-8472-869a43925389

commit e63c733dc5a18512fe4a30d4179cd195d3ce35b9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 8 17:07:50 2006 +0000

    Use new Teredo prefix.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1652 6046fb1f-dae2-0310-8472-869a43925389

commit 046c94a8b0a8c0974e18148ff4470248692cc200
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 8 17:06:46 2006 +0000

    Allow source address to be omitted when computing the HMAC-ping
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1651 6046fb1f-dae2-0310-8472-869a43925389

commit 2763cbb71ff2e0473587236268696138805ae277
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 8 16:04:48 2006 +0000

    Fix ordering of libteredo initialization.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1650 6046fb1f-dae2-0310-8472-869a43925389

commit 3e48cd9182cda8c008c7653639eed618df4d3db8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 8 16:04:04 2006 +0000

    Cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1649 6046fb1f-dae2-0310-8472-869a43925389

commit 6b7967b0826f31d371f735b90eddadc22b2c0585
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 8 15:37:10 2006 +0000

    Add an assertion
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1648 6046fb1f-dae2-0310-8472-869a43925389

commit daf53861eb6b4e714c3584838e05bb141bb14174
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 8 15:30:54 2006 +0000

    Remove useless reference to gettext
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1647 6046fb1f-dae2-0310-8472-869a43925389

commit ac3e9499663b021d9364f57935a2d5c588f9cdb3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 8 15:29:10 2006 +0000

    Put non-cryptographic part of the pings authentication token
    as a single block
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1646 6046fb1f-dae2-0310-8472-869a43925389

commit 2ca16b0c662b712bf2a59fd35250da0bafe814af
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 7 19:33:17 2006 +0000

    Note that the impersonation bug does not affect stable branch :)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1645 6046fb1f-dae2-0310-8472-869a43925389

commit 6dd90d1afcd8e241eb1a0764b3205e1317c0489b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 7 18:50:35 2006 +0000

    News for upcoming 0.9.8
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1643 6046fb1f-dae2-0310-8472-869a43925389

commit 24a19fce7b4cd586b6da029a19d90a5379319358
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 7 18:45:48 2006 +0000

    Comment updated
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1642 6046fb1f-dae2-0310-8472-869a43925389

commit 7e18ceed13d37f0507edf638fc2b83295056f0c3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 7 18:45:31 2006 +0000

    Update todos
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1641 6046fb1f-dae2-0310-8472-869a43925389

commit d01ec5a319255b5937b27566ce8949b4cfba2960
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 7 18:43:09 2006 +0000

    Write down world domination scheme.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1640 6046fb1f-dae2-0310-8472-869a43925389

commit c720d9f4e00c1588904d36ecb8229781f1ddc3e9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 7 18:25:55 2006 +0000

    Add comment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1639 6046fb1f-dae2-0310-8472-869a43925389

commit e326a75e49dd2b039c000e9c9601e4c83c8cea32
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 7 18:23:36 2006 +0000

    Use 32-bits timestamp.
    16-bits were wrapping every 18 hours,
    which is not quite long enough given that the HMAC key is never changed.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1638 6046fb1f-dae2-0310-8472-869a43925389

commit 820e0acf641c2c36c073aabde35b02f200fb8b64
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 7 17:56:29 2006 +0000

    Store the PID properly
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1637 6046fb1f-dae2-0310-8472-869a43925389

commit f9639cedc86ee6d1559e019420b6c723f790b0d7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 7 17:48:59 2006 +0000

    Cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1636 6046fb1f-dae2-0310-8472-869a43925389

commit d182db138ecddaeee9b478b80dd63ba5baf96af6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 7 17:45:15 2006 +0000

    - Save PID as uint16_t during initialization (simpler and faster)
    - Fix incorrect return value from HMAC checking function
      when the PID is wrong.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1635 6046fb1f-dae2-0310-8472-869a43925389

commit ff2d666f49bf6ce837455b97339faf0970211be6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 7 17:42:22 2006 +0000

    Test more possible modifications of the HMAC
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1634 6046fb1f-dae2-0310-8472-869a43925389

commit a4e64cb1c9814f024c4d085cae546cd5046a889c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 7 17:33:44 2006 +0000

    Unduplicate HMAC code
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1633 6046fb1f-dae2-0310-8472-869a43925389

commit c45d2c8566c89a6e99ad085718a098e0fe6762bb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 4 17:11:55 2006 +0000

    Cosmetic
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1632 6046fb1f-dae2-0310-8472-869a43925389

commit ab663bbaa7d80b3c48b9714b864d4d34a119f1b1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 4 17:09:16 2006 +0000

    Allow autoconfiguration on tunnel devices:
    - it did not actually avoid "no IPv6 router" errors,
    - Teredo is shielded against it thanks to the fe80::/12 source blackhole
      (which may also be needed for other ICMPv6 Neighborhood stuff),
    - ISATAP needs it, in the client case. ISATAP routers are protected by
      the standard procedure (i.e. forwarding disables autoconfiguration).
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1631 6046fb1f-dae2-0310-8472-869a43925389

commit 12ee729699c4a6a4716f06a5a257344e860f67b8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 4 16:57:52 2006 +0000

    Mark the clock as volatile just in case.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1630 6046fb1f-dae2-0310-8472-869a43925389

commit 101dba7ada6d4a3166096a9887050e572d1632c1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 4 16:17:30 2006 +0000

    Const string fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1627 6046fb1f-dae2-0310-8472-869a43925389

commit e297ca3883791080d16ffbce83975046736e04a9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 4 15:38:51 2006 +0000

    Comment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1626 6046fb1f-dae2-0310-8472-869a43925389

commit c9a4bbe68249e5b0324ff4427ebe1af73e68458f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 4 15:33:06 2006 +0000

    Turn a few const string pointer into arrays.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1625 6046fb1f-dae2-0310-8472-869a43925389

commit 3a7bb4ffad8963d2feb8634c62e20cc837ec340e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 3 20:25:08 2006 +0000

    libtun6 code split.
    No externally visible changes, of course.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1624 6046fb1f-dae2-0310-8472-869a43925389

commit 63de65dda9603c34f88343a25f98ca5640db31e6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 2 19:39:02 2006 +0000

    Typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1623 6046fb1f-dae2-0310-8472-869a43925389

commit e90300e113e19bca39126c2c6a30148217c9f176
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 2 19:15:00 2006 +0000

    (Pretend to) accept the same command line options in miredo-checkconf
    so that it is easier to use within initscripts.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1621 6046fb1f-dae2-0310-8472-869a43925389

commit 04839224577f40d7bf3a56f02025b2389d4d1257
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 2 16:54:33 2006 +0000

    Cosmetic fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1620 6046fb1f-dae2-0310-8472-869a43925389

commit 61e595ac0b4c3cce6f9c8e4ca875ce49abc0d6f0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 2 16:50:39 2006 +0000

    - Fix multicast TTL (not used yet fortunately)
    - Minor C99 cosmetics
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1619 6046fb1f-dae2-0310-8472-869a43925389

commit 375c66b2e47cac2a79855875c9dc277e8a35020f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 2 16:49:28 2006 +0000

    Bump version number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1618 6046fb1f-dae2-0310-8472-869a43925389

commit 4c8c26497fd3b232fad065a2a4504109e668705e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 30 19:12:05 2006 +0000

    Spelling fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1616 6046fb1f-dae2-0310-8472-869a43925389

commit 4689f0eca4d5460941152d3789fd1d98c81e2983
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 30 18:51:19 2006 +0000

    News for release 0.9.7
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1614 6046fb1f-dae2-0310-8472-869a43925389

commit 1f876f0d9921d1828492563bf67287a4561ecbb2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 30 18:49:29 2006 +0000

    Sync PO files for release 0.9.7
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1613 6046fb1f-dae2-0310-8472-869a43925389

commit 0a78400eb423750ec080912f9bdcd7debfaceeaa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 30 18:20:41 2006 +0000

    Allow UDP-forwarding of ICMPv6 packets of small size,
    instead of dropping them all.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1612 6046fb1f-dae2-0310-8472-869a43925389

commit d0e5fd54ed152dea37f11eb55ed048ee8d810a66
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 30 18:17:36 2006 +0000

    Further fix an infinite forwarding loop of UDP packets into the Teredo server.
    [1549] not only failed to fully address the problem,
    but I failed to notice that the problem was actually remotely exploitable.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1611 6046fb1f-dae2-0310-8472-869a43925389

commit de0d4383c1ad00d77afcf8f8224a20940f3073b7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 30 18:10:16 2006 +0000

    Cosmetic fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1610 6046fb1f-dae2-0310-8472-869a43925389

commit 7e65f3c8c511aa8ba89728a66c58db4c74e6042d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 30 15:02:50 2006 +0000

    Fix a few compiler warnings
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1609 6046fb1f-dae2-0310-8472-869a43925389

commit d359f19b0f2f25b407b348ae16f4320006a6a1b9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 30 14:45:40 2006 +0000

    Fix configuration files rules
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1607 6046fb1f-dae2-0310-8472-869a43925389

commit f58cda6c3653f4309a00a15109d50f7d919c2895
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 30 11:44:54 2006 +0000

    Update path to sample config when testing miredo-checkconf
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1606 6046fb1f-dae2-0310-8472-869a43925389

commit e64d6791df9c306eaede80cf8e894256b9f2eb96
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 30 11:34:46 2006 +0000

    Fix make dist
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1605 6046fb1f-dae2-0310-8472-869a43925389

commit 557e2600c5676f5d8ca75a4c4f605093cc12ed59
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 27 16:11:52 2006 +0000

    This is development for version 0.9.7
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1604 6046fb1f-dae2-0310-8472-869a43925389

commit 6b8d9b034bada25c9e8c264c417066907ab666dd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 27 16:11:22 2006 +0000

    Add --enable-erase-conf option to erase configuration files
    upon make install. This is mostly useful when building packages.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1603 6046fb1f-dae2-0310-8472-869a43925389

commit a2be13abb3c88758670f39d47839a1b58e4594da
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 13 14:41:41 2006 +0000

    Sync translation files for release 0.9.6
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1600 6046fb1f-dae2-0310-8472-869a43925389

commit b5ce488308a2f0209f9d97e87aabf38fb35b3567
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 13 14:40:37 2006 +0000

    Changes documentation for release 0.9.6
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1599 6046fb1f-dae2-0310-8472-869a43925389

commit 04394d22b175ed592d4531f46f9600433b7bc5d6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jul 12 17:13:45 2006 +0000

    Add some verbose diagnostic messages for possibly confused BSD users
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1597 6046fb1f-dae2-0310-8472-869a43925389

commit b95849dd8f471435c267bedffc03b5c17c38736e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jul 12 17:13:16 2006 +0000

    Remove the ugly kludge for system that do not support interface naming
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1596 6046fb1f-dae2-0310-8472-869a43925389

commit 76853f23ce00ba36a22cbdb9b3a840598414bf16
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jul 11 16:48:19 2006 +0000

    Fix the FreeBSD recvfrom work-around
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1595 6046fb1f-dae2-0310-8472-869a43925389

commit 74d847d772c1c4057d8002e722f6d818aa86fc80
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jul 11 16:23:08 2006 +0000

    Work-around for FreeBSD thread library bug whereby recvfrom() is not a
    cancellation point
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1594 6046fb1f-dae2-0310-8472-869a43925389

commit 529ff913258def9325239eb9aa2a70d3c0562d29
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jul 11 15:50:18 2006 +0000

    Don't run miredo-checkconf with --disable-teredo-client since it does
    NOT work
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1593 6046fb1f-dae2-0310-8472-869a43925389

commit e8fb8f9b0c8cd992c9d29ab349d8ff35bf4ad163
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jul 11 15:48:54 2006 +0000

    Fix error handling
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1592 6046fb1f-dae2-0310-8472-869a43925389

commit c6c7229f815d326f0787231dd6368a7562dc1dbd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jul 11 15:47:14 2006 +0000

    Fix compiler warnings
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1591 6046fb1f-dae2-0310-8472-869a43925389

commit 40105744ec82dce79273026d5d7c3ad782fadf4d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jul 11 15:46:14 2006 +0000

    Fix run_tunnel fatal failure on FreeBSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1590 6046fb1f-dae2-0310-8472-869a43925389

commit d6a0e5405e100b03f5529c6c836264d2889b777c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jul 11 15:44:51 2006 +0000

    Fix memory leak and a few extra warnings on FreeBSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1589 6046fb1f-dae2-0310-8472-869a43925389

commit 1ea01d149801d24b3f39d895aec8a93b1a9ca027
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jul 11 15:38:12 2006 +0000

    FreeBSD compiler warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1588 6046fb1f-dae2-0310-8472-869a43925389

commit 99537d3c361a068224487c6e20eef9bf22eab980
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jul 11 15:17:06 2006 +0000

    Fix client-less compiler warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1587 6046fb1f-dae2-0310-8472-869a43925389

commit 0ed25d658e883d8834a17aaeede46b2e97c3347d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jul 11 15:16:32 2006 +0000

    Fix client-less compilation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1586 6046fb1f-dae2-0310-8472-869a43925389

commit adc4125fe93812c93846ed0685a4f4e1368718bb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jul 11 15:00:05 2006 +0000

    Attempt to fix compilation on POSIX-incompliant FreeBSD 4/5
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1585 6046fb1f-dae2-0310-8472-869a43925389

commit e1c6fbf79060cd1c84aa317be62cc4d1b5321961
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jul 11 14:20:53 2006 +0000

    Fix [1575]
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1584 6046fb1f-dae2-0310-8472-869a43925389

commit 576f0c3cd334f881be329de35a33acfbbe95241a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jul 10 20:19:57 2006 +0000

    Tunnel interface cleanup code cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1583 6046fb1f-dae2-0310-8472-869a43925389

commit 33a697177e9315234c9660453c6130ed6249359b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jul 10 20:19:16 2006 +0000

    Completely remove setuid handling code when building with "root" user
    (typically for embedded setups)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1582 6046fb1f-dae2-0310-8472-869a43925389

commit 1d259c787cc5f7ea9ed429ef2da76b7ee280b2f7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jul 10 20:12:38 2006 +0000

    --disable-miredo-user now means root as a user rather than nobody
    That should be more intuitive, and more consistent
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1581 6046fb1f-dae2-0310-8472-869a43925389

commit d0619fd649e1c529bef5288029b97c200fa13c41
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jul 10 20:00:42 2006 +0000

    Remove non ASCII character
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1580 6046fb1f-dae2-0310-8472-869a43925389

commit b34a3bffdddb752e6e58a560bccc43ffcf3bc94c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jul 10 19:23:16 2006 +0000

    Move the decision to "steal" incoming UDP packets for the maintenance
    procedure to maintain.c; and only steal packets that have the right
    destination address, rather than all packets with a Teredo
    authentication indication header
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1579 6046fb1f-dae2-0310-8472-869a43925389

commit 24e0acd95eafec19e67344d33d6cd0862529db59
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jul 10 19:15:41 2006 +0000

    Attempt to fix flawed clock_nanosleep() replacement
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1578 6046fb1f-dae2-0310-8472-869a43925389

commit a8eefacd68dcd2b2b09cdfe878b10adf06a8a5f7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jul 10 17:51:11 2006 +0000

    Remove useless #include
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1577 6046fb1f-dae2-0310-8472-869a43925389

commit 94688d6419993d1c1395dc699d7f4a65c496a25d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jul 10 17:37:01 2006 +0000

    Finally implement tunnel interface name determination properly on FreeBSD!
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1576 6046fb1f-dae2-0310-8472-869a43925389

commit 665d6e58cfab9ee768adf0a895b0c3e11ee6f6e1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jul 10 17:20:17 2006 +0000

    Missing #include
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1575 6046fb1f-dae2-0310-8472-869a43925389

commit 0e6adfa1c9019bb596287cc622a1f85138debbc8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jul 10 17:17:13 2006 +0000

    Include teredo-mire.1 in source tarball
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1574 6046fb1f-dae2-0310-8472-869a43925389

commit c891b2717d19aa91f7ea59aed55fd98439e99844
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jul 8 06:32:17 2006 +0000

    Provide a rudimentary manual page for teredo-mire
    and install it in @bindir@
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1571 6046fb1f-dae2-0310-8472-869a43925389

commit 44b0466039aec1ed73e596819f98c11527716dd9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jul 8 06:31:04 2006 +0000

    Exit teredo-mire in case of invalid command line option
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1570 6046fb1f-dae2-0310-8472-869a43925389

commit 683df211fe126fe833260efe9ec6600290b38cd0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jul 8 06:30:28 2006 +0000

    This is development branch 0.9.6
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1569 6046fb1f-dae2-0310-8472-869a43925389

commit 24517e95daae7c9387227e0b014c27a32c9060b3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jul 7 20:10:42 2006 +0000

    Simplify nonce generator code (fortunately no exported API involved)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1568 6046fb1f-dae2-0310-8472-869a43925389

commit fe953750c108cc21be3468ee5519ef3e2fe801d8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jul 7 17:27:37 2006 +0000

    Sync translation files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1566 6046fb1f-dae2-0310-8472-869a43925389

commit 45133e0389810fc46ea1dd68dd7c46660f1d32a4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jul 7 17:20:45 2006 +0000

    Updated docs for release 0.9.5
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1564 6046fb1f-dae2-0310-8472-869a43925389

commit 8a843accc144a68d06d4987265c1b71bb21e7f98
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jul 7 17:16:08 2006 +0000

    Remove IgnoreConeBit from sample configuration
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1563 6046fb1f-dae2-0310-8472-869a43925389

commit 72abde22fb4ab659c1725838c85cc7e9837e5862
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jul 7 16:13:35 2006 +0000

    Print explicitly that the configuration is broken when miredo-checkconf fails
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1560 6046fb1f-dae2-0310-8472-869a43925389

commit 1032c4ce9d417a70e66207a20abce13f51f9f7b4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jul 7 15:15:30 2006 +0000

    Cosmetic change
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1558 6046fb1f-dae2-0310-8472-869a43925389

commit 131fd4ee76474e3f85cb918cdc0f4a77e1e6cc3f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jul 5 18:25:44 2006 +0000

    Detect and report missing ServerAddress directive as an error.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1553 6046fb1f-dae2-0310-8472-869a43925389

commit 1b885c23eb4c0d3a146a16a3f1a35dc142f27999
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jul 4 15:38:38 2006 +0000

    Fix GCC C89 inclusion of all installed headers
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1552 6046fb1f-dae2-0310-8472-869a43925389

commit 69d4972301e829ffc1e7f6cd6af981bfb3961943
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jul 4 15:18:17 2006 +0000

    Allow inclusion of <libteredo/tunnel.h> from non-C99 source code
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1551 6046fb1f-dae2-0310-8472-869a43925389

commit f93891c28c8203e0f800540c6fc72785494ffc23
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 30 19:49:37 2006 +0000

    Replace the horrible (spec-incompliant) Teredo hop limit kludge
    with another more conformant, not so ugly and not so brittle klude.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1550 6046fb1f-dae2-0310-8472-869a43925389

commit a765199bd187daf382d977a2abae98d6e68a968f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 28 19:29:45 2006 +0000

    Avoid loop of Teredo bubble into the Teredo server.
    (In practice, this could only happen if the Teredo server has a
    malicious local user able to send packet because the UDP packet source
    and destination IPv4 address would have to be identical)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1549 6046fb1f-dae2-0310-8472-869a43925389

commit 23fc49c8d02d5dcff7f6a9c565938a03e618ed94
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 28 17:30:48 2006 +0000

    Fix compiler warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1548 6046fb1f-dae2-0310-8472-869a43925389

commit 369fc488eeaf7c8c817d17612f424bb1f96e8b78
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 28 16:31:01 2006 +0000

    Factorize teredo_run_inner() post-processing
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1547 6046fb1f-dae2-0310-8472-869a43925389

commit 2dbaf1e5f62b488ade04e939c2d250f5da75457a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 28 16:19:03 2006 +0000

    Some code factorization in teredo_transmit()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1546 6046fb1f-dae2-0310-8472-869a43925389

commit c68cfb6609c92e801f0d91a0c48f760a32a74654
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 28 16:08:04 2006 +0000

    Fix comment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1545 6046fb1f-dae2-0310-8472-869a43925389

commit 6084a1f46ed7c2f6b91f99918e7ece61c21c868f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 28 15:56:23 2006 +0000

    Use received packet source IPv4/port instead of extracting them from
    the Teredo IPv6 address when dequeuing packet
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1544 6046fb1f-dae2-0310-8472-869a43925389

commit 9cd1e939e56888c2b71161aeffb5d743adf1d645
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 28 15:41:58 2006 +0000

    Use libteredo_set_relay_mode
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1543 6046fb1f-dae2-0310-8472-869a43925389

commit fc4a151c0d017f5a2620a9bd403d343da4fe7cdb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 28 15:41:27 2006 +0000

    - Add libteredo_set_relay_mode()
    - Obsolete libteredo_set_cone_flag()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1542 6046fb1f-dae2-0310-8472-869a43925389

commit 15fd08a6d4dd68c2d98cfc5173151977f4a8bc09
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 28 15:24:19 2006 +0000

    Mark libteredo_set_cone_ignore as obsolete
    (it is a stub nowadays)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1541 6046fb1f-dae2-0310-8472-869a43925389

commit 6c404f21178a47b8c73fd1f69298e037b4ff79a2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 28 15:21:37 2006 +0000

    Update RelayType directive documentation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1540 6046fb1f-dae2-0310-8472-869a43925389

commit c887b4c49bf0218908d6498db76d4656d533aef4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 28 15:12:01 2006 +0000

    - Remove some "cone" relay code that was made redumdant
    - Add "relay" as a the canonical RelayType; retain "cone" and "restricted"
      for backward compatibility
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1539 6046fb1f-dae2-0310-8472-869a43925389

commit 809dec48005da340714f34fa840eeb4c8960f309
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 27 16:52:20 2006 +0000

    Remove optional interval determination procedure from the TODO list
    as it is considered too brittle
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1538 6046fb1f-dae2-0310-8472-869a43925389

commit fabf804ad01e0915f159c15f80e6ce14e5da08e9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 27 16:41:46 2006 +0000

    Comment out miredo_conf_parse_bool() (dead code)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1537 6046fb1f-dae2-0310-8472-869a43925389

commit de57cc3aa189c2a9b4754dd2268f3a248b415731
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 27 16:13:33 2006 +0000

    Undocument IgnoreConeBit option
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1536 6046fb1f-dae2-0310-8472-869a43925389

commit 42a45643bbcb3cca157c992ad442127079782895
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 27 16:11:52 2006 +0000

    Remove IgnoreConeBit configuration option (it should always be true).
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1535 6046fb1f-dae2-0310-8472-869a43925389

commit e4cd1ef9a50f1018f068ca9fc8336661c9dd23be
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 27 16:07:04 2006 +0000

    Suppress cone NAT detection from qualification procedure
    as it is nowadays considered too brittle.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1534 6046fb1f-dae2-0310-8472-869a43925389

commit 68fcf40cd947c476aaa3fe85565801e68acb5e7e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 27 15:54:08 2006 +0000

    Disable code specific to peers behind cone NAT for extra reliability,
    in accordance with the Teredo RFC, and following RFC3489bis.
    This code was already disabled by default.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1533 6046fb1f-dae2-0310-8472-869a43925389

commit 8353b1a6bb275153ef9daf4c02cbbd38734392f8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 27 07:09:02 2006 +0000

    Suppress useless "cone" parameter from SendBubbleFromDst
    internal (not exported) API
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1532 6046fb1f-dae2-0310-8472-869a43925389

commit c3ec997586d83ce64307c01a9159c660bf48ae9c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 27 07:05:58 2006 +0000

    Removed cone NAT enhancement from Teredo relay code
    in accordance with latest RFC3489bis IETF draft
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1531 6046fb1f-dae2-0310-8472-869a43925389

commit 44e625f6aca1e5f2e63668213c40bc1979a72f6d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 27 06:51:55 2006 +0000

    Use SetMappingFromPacket() instead of SetMapping() from IPv6 address.
    This does not change the logic for the time being, but it will make it
    easier to handle clients behind symmetric NATs later.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1530 6046fb1f-dae2-0310-8472-869a43925389

commit addbbd299533cd7d6d91f96ab1460fa255369db4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jun 26 19:17:30 2006 +0000

    No longer send a dummy link-layer option in Router Solicitation
    (Windows XP does it, but it is not specified and Vista does not do it)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1529 6046fb1f-dae2-0310-8472-869a43925389

commit b4c0d407ae5873ac50b59d28bf70c4cbc6374a97
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 20 20:27:58 2006 +0000

    - Add unused standard Teredo flags and non-standard ones
    - Some cosmetic fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1528 6046fb1f-dae2-0310-8472-869a43925389

commit 8dda94f3e414565de728dfaebbd4a68a95c04931
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 20 20:14:16 2006 +0000

    Clean up IN6_* Teredo macros
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1527 6046fb1f-dae2-0310-8472-869a43925389

commit 3f55f00070def8027182a6f80c7c96199464f093
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 20 20:04:16 2006 +0000

    Fix IN6_TEREDO_PORT
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1526 6046fb1f-dae2-0310-8472-869a43925389

commit 9410b7f4b7eb76fcbac3c528f08160f2b68a0c83
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 20 19:51:26 2006 +0000

    Unit tests for IN6_* Teredo macros.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1525 6046fb1f-dae2-0310-8472-869a43925389

commit 81550fada30704ce51063294990841f2f33f0232
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 20 19:35:26 2006 +0000

    Rewrite test with IANA Teredo prefix, and sample IPv4 addresses
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1524 6046fb1f-dae2-0310-8472-869a43925389

commit 3438f8dfdee4df846e21638311355b931ffc6085
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 20 16:37:51 2006 +0000

    Explicit list of exported libteredo symbols; this is limited to:
    - symbols defined in the two installed headers (obviously),
    - internal functions that are called from unit tests
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1523 6046fb1f-dae2-0310-8472-869a43925389

commit db8791c1c5c0fdfd4ea0649f200a16ba95c14978
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 20 15:25:25 2006 +0000

    Ignore queued incoming packets whose source IPv4 and port do not match
    the ones obtained through the "direct IPv6 connectivity check"
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1522 6046fb1f-dae2-0310-8472-869a43925389

commit 11eefac4aef9e97ea231eaf5681b14d344aa57aa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jun 18 16:30:57 2006 +0000

    Bump version number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1521 6046fb1f-dae2-0310-8472-869a43925389

commit ca6a86028736d02db6c64e7acdeff79427f762ca
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jun 18 16:27:38 2006 +0000

    Fix Router Solicitation sanity checks.
    This allows miredo-server to interact with Windows Vista.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1519 6046fb1f-dae2-0310-8472-869a43925389

commit aa35865e01cb489f78ae2fc07802555985551f18
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jun 18 16:26:29 2006 +0000

    Cosmetic fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1518 6046fb1f-dae2-0310-8472-869a43925389

commit 567c00c595438dcb8e9ee3b453bca20bd0055eae
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 16 19:15:22 2006 +0000

    Prepare release 0.9.4
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1515 6046fb1f-dae2-0310-8472-869a43925389

commit 986a70062ccde5eba8b448918123c8a1230e74d4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 16 16:12:53 2006 +0000

    Fix compiler warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1511 6046fb1f-dae2-0310-8472-869a43925389

commit fc9448b54c8b7227122685cf554b32f5cbe2d7a5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 16 16:11:11 2006 +0000

    Fix O(1) memory leak
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1510 6046fb1f-dae2-0310-8472-869a43925389

commit fff255e831d028f31bedb8e276161fea4b15cf94
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 16 16:07:32 2006 +0000

    Run our own 1 Hz clock so we don't have to syscall the system date at
    every packet receival. This reduces latency and increase performance
    significantly.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1509 6046fb1f-dae2-0310-8472-869a43925389

commit 511359793254c64017d1a97af27797638238ce2f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 16 15:37:40 2006 +0000

    Review TODO list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1508 6046fb1f-dae2-0310-8472-869a43925389

commit 54f8bc07da8ef03be5be98a8135e934c5038b00a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 14 19:36:47 2006 +0000

    Remove bogus FIXME comment:
    The monotonic does surely not warranty that we won't go past the
    deadline. This is quite obvious if we get a SIGSTOP...
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1505 6046fb1f-dae2-0310-8472-869a43925389

commit c02eea3cee06620e5c48a3eb789e9ed5b899fd3c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 14 19:33:26 2006 +0000

    Realtime clock fallback code cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1504 6046fb1f-dae2-0310-8472-869a43925389

commit ae782c636ff5e003f9a5e1b07dccdbf20a35c3c3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 14 15:46:04 2006 +0000

    Kill a few memset()s
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1503 6046fb1f-dae2-0310-8472-869a43925389

commit ee5c377f4d4aeb875d9a7d4ffc339525cc7e28ce
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 14 15:45:47 2006 +0000

    Bump version number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1502 6046fb1f-dae2-0310-8472-869a43925389

commit bed0b1005a0bf600f0b76c37641cdc673665d7ca
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 14 15:26:47 2006 +0000

    - Fix memleak when the (Linux) interface name is invalid
    - Replace a few memset()s
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1501 6046fb1f-dae2-0310-8472-869a43925389

commit 03422bcd9151f386858be109201b13c56cecc5e1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 14 15:16:09 2006 +0000

    - Add a few missing sockaddr.sa_len settings (isatapd)
    - Get rid of a few memset()s
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1500 6046fb1f-dae2-0310-8472-869a43925389

commit fb6f26d616fbcf6de194d1d52f15f79a9fc5189e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 13 16:04:51 2006 +0000

    Prepare release 0.9.3
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1498 6046fb1f-dae2-0310-8472-869a43925389

commit 543d3dcf2243556b7b9bb4ca04bf4eea85c21226
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 10 14:13:44 2006 +0000

    Remove broken useless obsolete file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1496 6046fb1f-dae2-0310-8472-869a43925389

commit 695adf45f23f2baada0c4f8b9d218c9131674ad6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 10 08:25:06 2006 +0000

    Making a shared library out of an unstable library might not be such a
    good idea afterall.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1490 6046fb1f-dae2-0310-8472-869a43925389

commit b0fd6eaad224a1c420c2c06d6d842ef70f0ec0df
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 10 07:51:38 2006 +0000

    Dismantle misc/ directory.
    The only significant operations there were Debian-specific.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1489 6046fb1f-dae2-0310-8472-869a43925389

commit 6169b42e390dce98f5e74ce44271c12984885355
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 10 07:40:15 2006 +0000

    Make libcompat.la a genuine convenience library
    (It is incorrect to use a static library within a shared one with libtool).
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1487 6046fb1f-dae2-0310-8472-869a43925389

commit 404a23c84737ad8b3b2a7b440d5d2783b56b056f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 9 18:58:59 2006 +0000

    Fix spelling error
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1485 6046fb1f-dae2-0310-8472-869a43925389

commit dc64165ad46e93fe3663d4425fe1afcb2cdab126
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 9 18:41:20 2006 +0000

    Fix previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1484 6046fb1f-dae2-0310-8472-869a43925389

commit 37f9112ae67873e5c3c9cb4e76244f0a465eb122
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 9 18:40:21 2006 +0000

    Fix compilation with -lcap
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1483 6046fb1f-dae2-0310-8472-869a43925389

commit 260e3ec49b9cb8c3c5ddca17ea98eb8896a940eb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 9 17:23:19 2006 +0000

    svn:ignore fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1482 6046fb1f-dae2-0310-8472-869a43925389

commit 111818568ea9c0f17e01f8f9c67eb6c5f753544a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 9 17:14:29 2006 +0000

    Remove obsolete comment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1481 6046fb1f-dae2-0310-8472-869a43925389

commit 201899f603b2771879a7c8f1ee42c608b407bbd7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 9 17:14:01 2006 +0000

    Some autotools update
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1480 6046fb1f-dae2-0310-8472-869a43925389

commit 594f946329f8014cfe43c05e0548603688acdbf8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 9 16:59:33 2006 +0000

    svn:ignore isatapd binaries
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1479 6046fb1f-dae2-0310-8472-869a43925389

commit fe602ec3a5b22ef718f159bf2f6d96dcb2697554
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 9 16:54:32 2006 +0000

    Update localizations for release 0.9.3
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1478 6046fb1f-dae2-0310-8472-869a43925389

commit 70079ef3cbc267496ef8e62120d1fe64a74b2ce2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 9 16:53:53 2006 +0000

    Update documentation for release 0.9.3
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1477 6046fb1f-dae2-0310-8472-869a43925389

commit 1d50ddc05cdd0d1030605f2cf6d612adce15fb13
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 9 15:39:24 2006 +0000

    Remove another “beta” status reference
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1476 6046fb1f-dae2-0310-8472-869a43925389

commit 6bfd8ce2c6002565036f194dccd67cce2c6f5cb4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 9 15:30:04 2006 +0000

    Build system cosmetics
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1475 6046fb1f-dae2-0310-8472-869a43925389

commit 47153d89765d847f505bb882bdefb79e85daa65a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 9 14:40:30 2006 +0000

    Build libmiredo as a release-specific shared library, since most of the
    code is common to miredo, miredo-server and isatapd, and some is also
    common to miredo-checkconf.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1474 6046fb1f-dae2-0310-8472-869a43925389

commit de6a9392ed5bc8d238c04983b5616f024fe4cc0c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 9 14:38:22 2006 +0000

    make check should not fail on platforms that can't rename tunnels
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1473 6046fb1f-dae2-0310-8472-869a43925389

commit 89c5da08281e6d2f7263ea73bba653bae42617ef
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 9 14:34:07 2006 +0000

    Work-around for OSes that do not support setting the tunnel name
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1472 6046fb1f-dae2-0310-8472-869a43925389

commit 471721b03b072717e9a2111bb854ff58a5977390
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 8 15:20:45 2006 +0000

    Use libmiredo version infos for miredo-checkconf,
    since it is much more comprehensive than the former checkconf builtin.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1471 6046fb1f-dae2-0310-8472-869a43925389

commit 36efcf664aaa42375ab530c322d339fd63763b85
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 8 15:11:33 2006 +0000

    Make libmiredo a undefined symbol-less library
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1470 6046fb1f-dae2-0310-8472-869a43925389

commit e6832aaa5a8734406cdabe172aaa8e9476f97585
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 7 18:27:24 2006 +0000

    libteredo.so and libtun6.so no longer leak internal APIs to the outside
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1469 6046fb1f-dae2-0310-8472-869a43925389

commit a802e799eb6bf2f8a9ece122f9cfa68f7623a841
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 7 18:14:57 2006 +0000

    - Add version information for libteredo.
    - Restore teredo_register_readset for backward ABI compatibility
    - Mark teredo_register_readset as deprecated
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1468 6046fb1f-dae2-0310-8472-869a43925389

commit c9a79f83e9ab6aa6b29dc97e6d0ec482fd6e1f7e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 7 18:14:06 2006 +0000

    Add version information for libtun6.so
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1467 6046fb1f-dae2-0310-8472-869a43925389

commit a0274b8fe0e23d9d8a6fe18906a49239a0bd4efd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 3 18:24:57 2006 +0000

    Fix encoding of manual pages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1466 6046fb1f-dae2-0310-8472-869a43925389

commit 65574abacd45d619e8d90303d7e31fdbb68045f0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 2 17:11:16 2006 +0000

    Don't build teredo-mire until it is properly documented,
    and made usable to not just me.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1465 6046fb1f-dae2-0310-8472-869a43925389

commit 17782ac708ba353d0134e6a9d9adb89dc222d9d2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 2 16:47:55 2006 +0000

    - Infer default PID file path from miredo_name, as for the config file,
    - Do not allocate a char buffer of negative length
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1464 6046fb1f-dae2-0310-8472-869a43925389

commit 8bbfff091d575cd0b430cf9e8ba226d912994f0a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 1 17:23:26 2006 +0000

    Truncate PID file before writing to it, so that there is no extra
    digits if a uncleanly removed longer PID file was left
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1463 6046fb1f-dae2-0310-8472-869a43925389

commit f7365b4797ec8710f9c4aafe96dfa7cdcea45469
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 1 17:18:24 2006 +0000

    Teredo server should not forward ICMPv6 packets over UDP.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1462 6046fb1f-dae2-0310-8472-869a43925389

commit 7e67ed8c51053870da4ee709bb5dbab6bacd5d70
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 31 19:22:40 2006 +0000

    Cosmetics
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1461 6046fb1f-dae2-0310-8472-869a43925389

commit c51bef7d7e3577d3ed7a69e89920c84c9142c47a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 31 18:50:27 2006 +0000

    Remove useless variable
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1460 6046fb1f-dae2-0310-8472-869a43925389

commit 121ab9df9a2a05a27e3317f052687bfe6eb4445d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 31 18:00:44 2006 +0000

    Fix file name
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1459 6046fb1f-dae2-0310-8472-869a43925389

commit 7b5b3e7cf07e46d7360633901acc02ba23ad9628
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 31 17:59:41 2006 +0000

    Provide sample conf for isatapd
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1458 6046fb1f-dae2-0310-8472-869a43925389

commit 8f1b325cd1262bb11e9b1469234020725344ed80
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 31 17:22:05 2006 +0000

    Remove empty section
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1457 6046fb1f-dae2-0310-8472-869a43925389

commit a687d4ca26146fb8d5f950f2c15591cda1e95371
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 31 17:19:57 2006 +0000

    Update isatapd documentation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1456 6046fb1f-dae2-0310-8472-869a43925389

commit 1edc5735d23a7db74c4a0f06b4846697d5967892
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 31 17:12:19 2006 +0000

    - Untested ISATAP client limited support
    - Fix encapsulated ISATAP packets destination
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1455 6046fb1f-dae2-0310-8472-869a43925389

commit 7c95b675adfeb8fb2b7225d889c5aaca8d71d81b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 28 10:37:04 2006 +0000

    Fix spelling error
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1454 6046fb1f-dae2-0310-8472-869a43925389

commit e2da90ecec18e3d8e37a35f931b30c2ca9bd4a5a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 28 07:52:04 2006 +0000

    Only link against librt when needed
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1453 6046fb1f-dae2-0310-8472-869a43925389

commit 2f3793b7fc00e6d6f9b54a8e0acb21e10d67b0c1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 28 07:46:13 2006 +0000

    fix typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1452 6046fb1f-dae2-0310-8472-869a43925389

commit 70616645eb04e9bb779865fd4999735f712bc258
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 28 07:39:09 2006 +0000

    libcompat must not have any undefined symbols at run-time
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1451 6046fb1f-dae2-0310-8472-869a43925389

commit b488375670dd00f28c0adf6990e7174bc19918e7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 28 07:36:45 2006 +0000

    libmiredo has undefined symbols... don't use -no-undefined
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1450 6046fb1f-dae2-0310-8472-869a43925389

commit 3b2a82a4f5c9169dd9a5733f3a56c1a4abc01390
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 26 19:16:06 2006 +0000

    News so far for 0.9.3
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1449 6046fb1f-dae2-0310-8472-869a43925389

commit a7d486ad549c345f781b9b9e2211e7b7c15948e0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 26 15:40:05 2006 +0000

    partial namespace cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1448 6046fb1f-dae2-0310-8472-869a43925389

commit 1fe7dc9f2669401191255ab3317a887e1a8d14ab
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 25 18:29:33 2006 +0000

    Add restrict keywords where appropriate in libtun6/ and libteredo/
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1447 6046fb1f-dae2-0310-8472-869a43925389

commit 6624ae1b697e7d1c809b3ef3ce3c0340b2437c3e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 25 18:05:14 2006 +0000

    - Fix a client-less warning
    - Add restrict keyword
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1446 6046fb1f-dae2-0310-8472-869a43925389

commit a7e8b1184799ffd411af16ffdc92b5ab416d173e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 25 14:41:23 2006 +0000

    Mac OS X compilation fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1445 6046fb1f-dae2-0310-8472-869a43925389

commit ad3bc4cae463a6f749bb4e3caf725c597d44ec56
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 25 14:40:17 2006 +0000

    - Check for clockid_t, clock_gettime(), clock_nanosleep()
    - Define _APPLE_C_SOURCE in config.h
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1444 6046fb1f-dae2-0310-8472-869a43925389

commit ed6e27740a1e3a2cb630656dba8d4568e7589470
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 25 14:39:35 2006 +0000

    Replacements for clock_gettime() and clock_nanosleep()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1443 6046fb1f-dae2-0310-8472-869a43925389

commit f859395b43f1255ad6df6376fa25f2e0f0c08289
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 25 14:37:33 2006 +0000

    Simplify code a lot via thread cancellation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1442 6046fb1f-dae2-0310-8472-869a43925389

commit e447bffa5ea2c550117f160fa124aff92adc9379
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 25 08:56:30 2006 +0000

    Code factorization and clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1441 6046fb1f-dae2-0310-8472-869a43925389

commit 3feaba329c4e7126df822fa11b77e4712f92b1d8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 25 08:41:54 2006 +0000

    Use clock selection when available to really use the monotonic clock
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1440 6046fb1f-dae2-0310-8472-869a43925389

commit 020604471e29f1a6bdffa6b30e7dc88b29d30316
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 24 20:02:08 2006 +0000

    - Fix deadlock in case of server DNS resolution failure
      (extraneous semi-colon after a while())
    - Handle would-be spurious wakeups properly in maintenance
      (should already be OK in peer list garbage collector)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1439 6046fb1f-dae2-0310-8472-869a43925389

commit 49d7e77902b0c389829ebcb5d462807952f510e7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 24 19:49:19 2006 +0000

    Comment typo fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1438 6046fb1f-dae2-0310-8472-869a43925389

commit de9191343a91a6044e0be7b506e4748f3e2a6bab
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 23 18:38:51 2006 +0000

    Partial function naming cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1437 6046fb1f-dae2-0310-8472-869a43925389

commit 33b6ae6bf0b3df085c2ab8bdbe56717175d2c2a3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 23 18:14:59 2006 +0000

    Drop encapsulated multicast traffic until we define something sensible
    to do with it
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1436 6046fb1f-dae2-0310-8472-869a43925389

commit cda1bfacacc199f200334c386c0a4a357904983f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 23 18:07:55 2006 +0000

    Remove multicast source address on outgoing packets. If the local
    administraror wants to send bogus packets, we don't really care - it's
    not going to break the running host. That doesn't mean anyone should do
    it... and it's probably completely useless, given any sensible IPv6
    stck will trash such a packet after Teredo decapsulation.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1435 6046fb1f-dae2-0310-8472-869a43925389

commit 6152a7268da6e6fff6a9f19e6d3b8880e52cd15d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 23 18:04:11 2006 +0000

    Fix link-local source address black-list on incoming packets:
    ff80::/12 was also black-listed. This is really not a real problem
    since Teredo does not currently implement multicast anyway.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1434 6046fb1f-dae2-0310-8472-869a43925389

commit 33da916b5185e4d0841ee011c5fbaf1700cff71a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 23 17:52:47 2006 +0000

    Cosmetic fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1433 6046fb1f-dae2-0310-8472-869a43925389

commit 570485c3bda2826ebd9410abafc6a791abaf6ac0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 22 15:17:56 2006 +0000

    Fix a test that was never true
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1432 6046fb1f-dae2-0310-8472-869a43925389

commit 47401b015fa1631065b315747bc4e4ca33c8ba34
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 22 15:07:47 2006 +0000

    Use thread cancellation *safely* to terminate the GC thread
    and simplify teredo_list_destroy().
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1431 6046fb1f-dae2-0310-8472-869a43925389

commit d09b083db37c407abde096733d20e1cce5b9e31b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 22 15:06:57 2006 +0000

    Add easy to uncomment defines
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1430 6046fb1f-dae2-0310-8472-869a43925389

commit a30400a8e9577fb36135834e4cfdf838f00603aa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 17:05:25 2006 +0000

    Fix default value not set in parse_teredo_prefix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1429 6046fb1f-dae2-0310-8472-869a43925389

commit 6eb58b9fad2ab9ff9111d00bdd45056b50b74ced
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 14:45:21 2006 +0000

    Fix pthread_barrier_wait() wrt ptread_cancel()
    (pthread_barrier_wait() must NOT be a cancellation point).
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1428 6046fb1f-dae2-0310-8472-869a43925389

commit e2f6682aa19c1290b443e7a4aca5a19772df01f6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 13:37:37 2006 +0000

    Work-around for uClibc that doesn't implement readv()
    as a cancellation point.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1427 6046fb1f-dae2-0310-8472-869a43925389

commit bf5e6db350c2932e4873b57cb8f20d59e5036432
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 13:08:06 2006 +0000

    Fix segmentation fault in case of insufficient memory
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1426 6046fb1f-dae2-0310-8472-869a43925389

commit 39046a642f5880bbf7845477cb7834f30e5c0ba0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 13:05:11 2006 +0000

    Solaris compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1425 6046fb1f-dae2-0310-8472-869a43925389

commit 5d27a2b8126139780e9b5f2c4c48d7978f07e030
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 13:05:00 2006 +0000

    Solaris compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1424 6046fb1f-dae2-0310-8472-869a43925389

commit 5a6c650b0870afa75c60d59ed4753f9b7149f102
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 12:59:01 2006 +0000

    Partial Solaris compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1423 6046fb1f-dae2-0310-8472-869a43925389

commit 3542203cd44d198cd407314c6963771ed4ad115c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 12:45:54 2006 +0000

    Use new standard autoconf stuff for _GNU_SOURCE and NDEBUG
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1422 6046fb1f-dae2-0310-8472-869a43925389

commit 1f611fa3204c746774609f4877b67d0bc2996549
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 12:21:26 2006 +0000

    Rely on autoconf for C99 support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1421 6046fb1f-dae2-0310-8472-869a43925389

commit 58476086f4b16dd0777b8c179cf04090537b3095
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 11:58:42 2006 +0000

    We need not check for the C++ compiler anymore
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1420 6046fb1f-dae2-0310-8472-869a43925389

commit afaad46e327f357691d7eb0b64b54d159de48ade
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 11:58:12 2006 +0000

    Update translated files list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1419 6046fb1f-dae2-0310-8472-869a43925389

commit fd90d221f34f839476cb5d705cfa6a387908742b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 11:53:52 2006 +0000

    Compile and link miredo entirely with the C compiler.
    This should make it much easier to cross-compile to embedded platforms.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1418 6046fb1f-dae2-0310-8472-869a43925389

commit 74663e2e4c71c038f85456512f5ff3b4c4e65ccb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 11:49:56 2006 +0000

    Kill remnants of MiredoConf, which was the last C++ class in the whole
    project.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1417 6046fb1f-dae2-0310-8472-869a43925389

commit ade646776d6efab9a149d3bf303920c61706166f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 11:43:10 2006 +0000

    Convert checkconf to C
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1416 6046fb1f-dae2-0310-8472-869a43925389

commit 9f886bb6aaf1716bea28296482c3b7ffab33c0c8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 11:42:00 2006 +0000

    Migrate checkconf.cpp to C bindings
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1415 6046fb1f-dae2-0310-8472-869a43925389

commit a93a480294d19adaf0e83063cbe02b3077724921
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 11:36:13 2006 +0000

    Convert miredo.cpp to C (signal handling, forking and config loading)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1414 6046fb1f-dae2-0310-8472-869a43925389

commit ca4dbbecd04c515646f60de12ef120cbdea109e3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 11:33:13 2006 +0000

    Use C bindings
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1413 6046fb1f-dae2-0310-8472-869a43925389

commit c802e1d15977df99e27d3820cbff9ec2a40860d1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 11:32:48 2006 +0000

    Complete C binding for MiredoConf
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1412 6046fb1f-dae2-0310-8472-869a43925389

commit cf6528a20ab26ec77a8922f239d36c1eb40976d3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 11:16:33 2006 +0000

    Fix files header comment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1411 6046fb1f-dae2-0310-8472-869a43925389

commit 8388470063f14a33c5b11a4e5220ce4fe0a582dc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 11:15:48 2006 +0000

    Further internal conversion of MiredoConf to C
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1410 6046fb1f-dae2-0310-8472-869a43925389

commit 6bdedb9f3c6be8b0d361b187bd7fe7dc70043512
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 09:47:14 2006 +0000

    Almost dismantled MiredoConf C++ class
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1409 6046fb1f-dae2-0310-8472-869a43925389

commit cfcd06c5b224e9331ca07220a41dc7cbb2a128e4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 09:34:39 2006 +0000

    Further convert to C
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1408 6046fb1f-dae2-0310-8472-869a43925389

commit 1664956627fb6d75aaf43819f11ac651c4d3077d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 09:14:29 2006 +0000

    C++ ParseSyslogFacility -> c miredo_conf_parse_syslog_facility
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1407 6046fb1f-dae2-0310-8472-869a43925389

commit 6a4c98cb5036af2466b2ef1789ffe975e7189e75
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 09:10:21 2006 +0000

    Partially convert checkconf to C
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1406 6046fb1f-dae2-0310-8472-869a43925389

commit bab7d73ee1932be629ede9b1e05170a455fc80aa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 08:50:17 2006 +0000

    Use parse_teredo_prefix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1405 6046fb1f-dae2-0310-8472-869a43925389

commit 223bbe45e71f7e9aea5c700b70af8ef42e993b62
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 08:48:49 2006 +0000

    Resurrect parse_teredo_prefix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1404 6046fb1f-dae2-0310-8472-869a43925389

commit e869b3baa72fddefe21507e2abbd8717ef869b01
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 08:44:23 2006 +0000

    Suppress ParseIPv(6|4), C-style C++-only functions
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1403 6046fb1f-dae2-0310-8472-869a43925389

commit 6cfb839f44e71bb0adc7c0b90c264be6be81eca1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 08:33:22 2006 +0000

    Converts all three daemons core to C (only config parsing was C++)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1402 6046fb1f-dae2-0310-8472-869a43925389

commit a1e4d026c1ca73e5b8e94db173776b312c17b4e2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 08:28:25 2006 +0000

    Made GetIPv4ByName() a C function
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1401 6046fb1f-dae2-0310-8472-869a43925389

commit 58ca724e576e3a3c3e79f8d999f667e92facad05
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 08:17:32 2006 +0000

    Cosmetic
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1400 6046fb1f-dae2-0310-8472-869a43925389

commit f28a438e97567ac2b30dfa872822ceabed1bbad6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 07:55:34 2006 +0000

    Partial C bindings for MiredoConf
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1399 6046fb1f-dae2-0310-8472-869a43925389

commit 6b6c70dc80a7d3a4b8f2b12bd77f2f75887fc322
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 21 07:08:11 2006 +0000

    Some commented out custom mire modifications for stress testing
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1398 6046fb1f-dae2-0310-8472-869a43925389

commit 4f9442512a39a4f35e60830a252074fc5a251a80
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 20 19:03:57 2006 +0000

    Fix for uclibc which has the very poor idea of defining
    PTHREAD_BARRIER_SERIAL_THREAD and pthread_barrier_t but not the
    functions to use them
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1397 6046fb1f-dae2-0310-8472-869a43925389

commit ffddcce73dc90b3036c598fd47e1e298dd33a61a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 20 09:14:56 2006 +0000

    - Restore addrwatch
    - Fix pselect() signal sets
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1396 6046fb1f-dae2-0310-8472-869a43925389

commit fc86639512e265a48dc68e95ce1d8227d5421789
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 20 09:03:10 2006 +0000

    Revert addrwatch NULL optimization, which is made utterly useless by
    the switch to blocking mode and multiple threads.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1395 6046fb1f-dae2-0310-8472-869a43925389

commit ce13e6b1059605859ffd94bbd2823c5e94eac868
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 20 08:57:45 2006 +0000

    Get rid of poll() that is made redumdant while using blocking mode
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1394 6046fb1f-dae2-0310-8472-869a43925389

commit da457ceec0122779c4cb7e3fda91cd1e24010d15
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 20 08:56:34 2006 +0000

    Remove useless #include
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1393 6046fb1f-dae2-0310-8472-869a43925389

commit dd2a2b4990a0cd2736f8f4549a038f15d99fc817
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 20 08:54:13 2006 +0000

    Use blocking mode for UDP sockets to increase performance.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1392 6046fb1f-dae2-0310-8472-869a43925389

commit 01f34842591fc44fabc7fe8d3142fa134a013742
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 20 08:52:55 2006 +0000

    Use blocking mode for the tunnel device.
    This increases performance by about 10% on my box when using
    tun6_wait_recv(), with logically no impact on tun6_recv().
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1391 6046fb1f-dae2-0310-8472-869a43925389

commit 623152dba0fb6c2ca4799415c9c2b0c1f9d7a03d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 20 08:28:09 2006 +0000

    Fix sigwait() usage: ignore EINTR errors, and only catch handled signals
    The glibc documentation is defective.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1390 6046fb1f-dae2-0310-8472-869a43925389

commit 8c8cbcd756c2955a958068b584f7ccfb53722c09
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 20 07:56:38 2006 +0000

    Suppress miredo_done()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1389 6046fb1f-dae2-0310-8472-869a43925389

commit 44a79c7fc6a99a4a30bb215585d7234836d372d3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 20 07:56:12 2006 +0000

    Also get rid of miredo_done() here
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1388 6046fb1f-dae2-0310-8472-869a43925389

commit bdb508f872153ada2b435826f464314d5be6e1d9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 20 07:52:38 2006 +0000

    Use sigwait() - break addrwatch
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1387 6046fb1f-dae2-0310-8472-869a43925389

commit 671b900066454a996ccdfddee64e37eb0fc7e104
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 20 07:49:16 2006 +0000

    Remove usage miredo_done(). With sigwait() signal handlers are not called,
    so miredo_done() will never return true.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1386 6046fb1f-dae2-0310-8472-869a43925389

commit cef64b048168923662e295c635d7cb83008b48c9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 20 07:21:01 2006 +0000

    Fix previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1385 6046fb1f-dae2-0310-8472-869a43925389

commit fc368c51cac8239a7bddafaf7ba9300fcbce4824
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 20 07:19:18 2006 +0000

    Fix client-less compilation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1384 6046fb1f-dae2-0310-8472-869a43925389

commit b070299105e8f0844ee2f7bd188d96d08e4c47a2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 20 07:13:32 2006 +0000

    Run packet encapsulation in a dedicated separate thread,
    so that we can block in tun6_wait_recv, which is a little bit faster.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1383 6046fb1f-dae2-0310-8472-869a43925389

commit 80281d8bc48cf389f325850ca2140e68af119b6b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 19 20:48:53 2006 +0000

    SO_REUSEADDR muts be set before bind()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1382 6046fb1f-dae2-0310-8472-869a43925389

commit 9f39c74ceba7425a584ca1885d3e855a3b339762
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 19 20:34:13 2006 +0000

    Use thread cancellation rather than a pipe to terminate receive thread
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1381 6046fb1f-dae2-0310-8472-869a43925389

commit 3d200f524ea54493652b90df7d372074eabfd5d9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 19 20:20:54 2006 +0000

    Some documentation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1380 6046fb1f-dae2-0310-8472-869a43925389

commit 0d3dbafeaa13a8526eb7462c79d23b322312f80f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 19 19:15:00 2006 +0000

    Code simplification
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1379 6046fb1f-dae2-0310-8472-869a43925389

commit f0ea35aa041dc8b4f92808e66e0186e01ff3900c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 19 19:13:45 2006 +0000

    - Minor optimization: don't call teredo_queue_emit when not needed
    - Some cosmetics
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1378 6046fb1f-dae2-0310-8472-869a43925389

commit 8cf3bc1db34de7ab202c11d661f5760e18915d1d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 19 18:48:18 2006 +0000

    Cosmetic
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1377 6046fb1f-dae2-0310-8472-869a43925389

commit 126800eac983d9baedc6f39a37edb81826805b12
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 19 18:35:59 2006 +0000

    RFC-compliant global unicast IPv4 check
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1376 6046fb1f-dae2-0310-8472-869a43925389

commit fc29fe40c113979081f4418dcc3fbc255439c573
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 19 17:01:23 2006 +0000

    Do not call miredo_addrwatch_available when not used
    (speeds up run_tunnel quite a bit).
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1375 6046fb1f-dae2-0310-8472-869a43925389

commit bf8cb0a5cb258a5bf95c54cddb6eebf8663101c6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 19 16:56:01 2006 +0000

    boolean are well below the atomic read/write size on any arch,
    so don't lock a mutex to read them
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1374 6046fb1f-dae2-0310-8472-869a43925389

commit 3db3727c287443a7b6bee4d974ed91d74113b27a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 18 19:48:30 2006 +0000

    - Use times() instead of gettimeofday() for maintenance timings.
      This should further improve handling of system suspend and system date
      changes: gettimeofday() would detect if miredo is late, but not if it
      is ahead of time (such as when the system clock is set back).
    - Handle bare authenticated packet while waiting for DNS to come back.
    - Kill minor bug-typo in time drift detection (tv_sec instead of tv_usec)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1373 6046fb1f-dae2-0310-8472-869a43925389

commit 8d85ffa5bba3621c408131fde3481b354e165753
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 18 19:41:20 2006 +0000

    Fix typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1372 6046fb1f-dae2-0310-8472-869a43925389

commit b68b30b5886544c766a3ac6ad482550f3207bef4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 18 14:47:37 2006 +0000

    Fix contradiction spotted by Christophe Mutricy
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1371 6046fb1f-dae2-0310-8472-869a43925389

commit fedffb0885dcd08bfaad109a6c6090619476a033
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 15 17:15:58 2006 +0000

    Use non-LSB “fancy” Debian initscript log messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1370 6046fb1f-dae2-0310-8472-869a43925389

commit 5115e963806260160b3c85a5d2bad1c464c4fe47
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 15 16:11:22 2006 +0000

    Debian seems to favor initscripts without .sh at the end.
    Follows this convention.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1369 6046fb1f-dae2-0310-8472-869a43925389

commit a3788a66f864be61eabd10d83bf073f83d38091b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 14 16:25:56 2006 +0000

    Remove debug message
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1368 6046fb1f-dae2-0310-8472-869a43925389

commit 3a5c7f65e43066a8eb2844d88946bb990fbb6f24
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 14 15:00:03 2006 +0000

    Receiving thread must not die on ignored signals (such as SIGCONT)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1367 6046fb1f-dae2-0310-8472-869a43925389

commit b4be1c28c4ca56597a68bf39f350138c1aeb68b2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 14 10:22:28 2006 +0000

    rename libteredo-mire to teredo-mire as it is not a library
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1366 6046fb1f-dae2-0310-8472-869a43925389

commit 9e713605f52c6754a31a952fb0e436a175e7a5ec
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 14 10:22:01 2006 +0000

    Suppress GCC 4.1 warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1365 6046fb1f-dae2-0310-8472-869a43925389

commit be702a11c645fdd5a30f671f3d53ef9138a8622a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 12 19:15:43 2006 +0000

    - Wait for symmetric probe for 4 seconds, not 4 seconds plus almost 4
      seconds left from the restricted probe.
    - Factorize timespec/timeval conversion
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1351 6046fb1f-dae2-0310-8472-869a43925389

commit 200d0f1d3670f9279efccd8df1e3485b9fd9d85f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 12 19:00:12 2006 +0000

    Cosmetics
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1350 6046fb1f-dae2-0310-8472-869a43925389

commit 62f1009ebb8820b5987bbb1e7a3ede667359a0dd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 12 18:59:32 2006 +0000

    Do not accept invalid RA
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1349 6046fb1f-dae2-0310-8472-869a43925389

commit 870922fa9b508609c3527b0a227b2753d35c90d5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 12 18:41:43 2006 +0000

    Check that we should actually exit for pselect()/sigwait() returns EINTR.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1348 6046fb1f-dae2-0310-8472-869a43925389

commit fc796b3444af34ad16984bae3b10dfe8f98583ae
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 12 16:12:09 2006 +0000

    DragonFly tests done
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1347 6046fb1f-dae2-0310-8472-869a43925389

commit 40f2de02620f3f6671e61d92cb8cc6ce1efa60fd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 12 16:11:00 2006 +0000

    DragonFly and FreeBSD 4 instructions
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1346 6046fb1f-dae2-0310-8472-869a43925389

commit a45dd40b6d4992eacbc9b07006259e02f31719b5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 12 16:02:50 2006 +0000

    Another DragonFly compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1345 6046fb1f-dae2-0310-8472-869a43925389

commit 6365f4788044b7a489fa10587ef544139028b642
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 12 15:52:02 2006 +0000

    DragonFlyBSD compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1344 6046fb1f-dae2-0310-8472-869a43925389

commit 016e59c342fa978243706e9e97ffe188fae4668d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 12 14:41:31 2006 +0000

    Work-around for pthread_barrier_* on DragonFly
    also from NetBSD pkgsrc
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1343 6046fb1f-dae2-0310-8472-869a43925389

commit a202c00f7e5c328fc7fdec2e0fab1fbf5c7bad88
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 12 14:27:32 2006 +0000

    Use net/tun/if_tun.h as a fallback instead of net/if_tun.h
    (another DragonFly fix adapted from NetBSD pkgsrc)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1342 6046fb1f-dae2-0310-8472-869a43925389

commit 4f2590ae4b10767107175b694e2bf42dda2e0970
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 12 14:18:40 2006 +0000

    <net/if_var.h> test fix from NetBSD CVS (miredo 0.8.4nb1)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1341 6046fb1f-dae2-0310-8472-869a43925389

commit 7d33353cc1925b121f0944916c343ddb493fe358
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 11 16:38:11 2006 +0000

    * miredo-server does not _create_ packet that it sends through via
    SOCK_RAW, so we can't trust them, and we must NOT assume they are
    properly summed
    * libtun6 must not disable checksum verification
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1340 6046fb1f-dae2-0310-8472-869a43925389

commit 2958c8c47cab1970a088d6218ea19360a5dd3d39
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 11 16:28:03 2006 +0000

    Darwin was done already
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1339 6046fb1f-dae2-0310-8472-869a43925389

commit c8cdf145aa43ad0a3d4696d82297234661f7368e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 11 16:26:53 2006 +0000

    Rewrite task status description
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1338 6046fb1f-dae2-0310-8472-869a43925389

commit fa1b842b252be3d4721beb4a60b19492127da7ce
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 11 15:56:19 2006 +0000

    This is 0.9.2-svn
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1337 6046fb1f-dae2-0310-8472-869a43925389

commit 0d44a6fa11483f3da627dd6f2f16298c97854099
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 10 18:14:31 2006 +0000

    Sync PO files for release 0.9.1
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1335 6046fb1f-dae2-0310-8472-869a43925389

commit 888eba0c69df3aa503c201c668aadc800d8d7de0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 10 17:56:14 2006 +0000

    Update infos for release 0.9.1
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1334 6046fb1f-dae2-0310-8472-869a43925389

commit 92d9b8c6ecaf042552a7c4182a821729b51df9bc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 10 17:44:25 2006 +0000

    Remove beta-time warnings
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1333 6046fb1f-dae2-0310-8472-869a43925389

commit 3669c38e95983f476af5d5f3b8b507347ffd5cf1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 10 16:49:22 2006 +0000

    Manual pages for isatapd and isatapd.conf
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1332 6046fb1f-dae2-0310-8472-869a43925389

commit 3afde485c28009427935a003d05c0b3f86f7beaf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 10 15:30:42 2006 +0000

    Fix naming os isatapd related files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1331 6046fb1f-dae2-0310-8472-869a43925389

commit 1a6f398a84b9ee397b9eb29cdd02076e8a0e1753
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 10 15:27:24 2006 +0000

    tun-tap-osx vendor has confirmed the TUNSIFHEAD bug.
    On Mac OS X, only ignore EINVAL error with TUNSIFHEAD.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1330 6046fb1f-dae2-0310-8472-869a43925389

commit b2618b56e0ced9f3b92d9c54e21365ea075be56f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 9 19:29:45 2006 +0000

    Ceil closefrom() with FD_SETSIZE rather than 0x10000
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1329 6046fb1f-dae2-0310-8472-869a43925389

commit b46345f6aa54df6f84251e33dd89d66567bf80f3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 9 18:07:38 2006 +0000

    Sync PO files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1328 6046fb1f-dae2-0310-8472-869a43925389

commit 64941510966052036e91885383e65a39cd586455
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 9 18:05:19 2006 +0000

    Support for Mac OS X via (buggy) tun-tap-osx
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1327 6046fb1f-dae2-0310-8472-869a43925389

commit 9a5c72ab3124030cfb0df11ee6c91c505f870daf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 9 17:23:31 2006 +0000

    Attempt to fix pthread_cancel() on Mac OS X
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1326 6046fb1f-dae2-0310-8472-869a43925389

commit 5f6b7931772aa6d5e8feb1e7e079bab1117a8edc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 9 17:23:07 2006 +0000

    BSD compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1325 6046fb1f-dae2-0310-8472-869a43925389

commit 537c6c85d96be69dffb8aa2f57e936e42e185472
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 8 19:36:24 2006 +0000

    Credits André-John Mas
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1324 6046fb1f-dae2-0310-8472-869a43925389

commit 74a94a69323233a9417d6ca20f581bab37cb5ddf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 8 18:21:40 2006 +0000

    Cosmetic fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1323 6046fb1f-dae2-0310-8472-869a43925389

commit 83412bdd90e9d1ffabba7476eab80f8e94dab4d9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 8 18:20:46 2006 +0000

    Work-around Mac OS X falacious file descriptors limit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1322 6046fb1f-dae2-0310-8472-869a43925389

commit aafeabc741f5f5355833b03c7e07cd0e43665952
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 8 18:00:45 2006 +0000

    Compile libteredo before libtun5 (cosmetic)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1321 6046fb1f-dae2-0310-8472-869a43925389

commit 342c7376ac1d2c6633d148a0b49841c47bcc700c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 8 17:56:15 2006 +0000

    Fix a race condition in the peer list regression test
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1320 6046fb1f-dae2-0310-8472-869a43925389

commit 75b5e1b034657f660ab9ea7bde1ef9d485d6f61f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 8 17:27:19 2006 +0000

    BSD compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1319 6046fb1f-dae2-0310-8472-869a43925389

commit aeda27ad8f14b3a74eae8227f0ed0e6c7b3cfd20
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 8 17:18:26 2006 +0000

    Big endian fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1318 6046fb1f-dae2-0310-8472-869a43925389

commit 11a20b8f2afe58b60f65dac716672b8c2f87c3fc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 8 17:16:48 2006 +0000

    Mac OS X compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1317 6046fb1f-dae2-0310-8472-869a43925389

commit 3d530cc3da2c70254c6150defffe6fa7d14645fc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 8 17:08:30 2006 +0000

    Rename miredo-isatap as isatapd
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1316 6046fb1f-dae2-0310-8472-869a43925389

commit 6af4e1286c7fa4fb714e525b8b2111b02e53c590
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 7 18:52:58 2006 +0000

    Some more update and simplification
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1315 6046fb1f-dae2-0310-8472-869a43925389

commit d3a8fee7689f5f2faef719490e1dc56c7835a476
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 7 18:43:30 2006 +0000

    Use nice quotes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1314 6046fb1f-dae2-0310-8472-869a43925389

commit 8e53126427eb57ac14318d72e834615db88ad0df
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 7 18:39:45 2006 +0000

    Hmm, miredo is now used in production, and is quite stable...
    remove the scary alpha version note
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1313 6046fb1f-dae2-0310-8472-869a43925389

commit cada47a55a19690f36d84884e606daf65e275d0a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 6 18:46:23 2006 +0000

    Add miredo-devel mailing list address or replace my personal own with that
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1312 6046fb1f-dae2-0310-8472-869a43925389

commit 6f4d20a808c706116ded1aa27f28d479b7e014df
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 5 20:33:54 2006 +0000

    Add option --disable-sample-conf to configure so that downstream
    packagers need not patch the build system to (not) install config files
    their own way.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1311 6046fb1f-dae2-0310-8472-869a43925389

commit 91a3afd7bdbb0d3f40425e5cd5e9219ca6fe2100
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 5 15:41:14 2006 +0000

    Improved error messages for BSD tunnel allocation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1310 6046fb1f-dae2-0310-8472-869a43925389

commit a69039cca01d0a67663689bb91ee2893e95e2583
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 5 15:34:16 2006 +0000

    Remove extra non-ASCII character
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1309 6046fb1f-dae2-0310-8472-869a43925389

commit 92b2560a7c05141681f0a9c5442eec19aa943f94
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 2 15:14:27 2006 +0000

    teredo_run() now process all pending packets rather than a single one
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1308 6046fb1f-dae2-0310-8472-869a43925389

commit a77e9cd635178a1a378088060c492164f00ffa51
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 2 15:05:34 2006 +0000

    kill teredo_register_read_set() that is not used anymore
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1307 6046fb1f-dae2-0310-8472-869a43925389

commit 1c3a22eb90e5bbfcd6207fe47747236bd604123b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 1 17:09:22 2006 +0000

    Make sure svn log does not ask questions
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1306 6046fb1f-dae2-0310-8472-869a43925389

commit 0c67078cead31adc2aeb25538b36eff89f60d8c6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 1 16:48:10 2006 +0000

    Miredo now runs Packet reception asynchronously.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1305 6046fb1f-dae2-0310-8472-869a43925389

commit 811d350bc17b85ba6d8d199847e92ff3f29caa6f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 1 16:30:26 2006 +0000

    Add checkconf.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1304 6046fb1f-dae2-0310-8472-869a43925389

commit 9306b6f2158b7fb2dae3bf706c260c6587531476
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 1 16:28:51 2006 +0000

    Untested teredo_run_async() to perform Packet reception in a separate thread
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1303 6046fb1f-dae2-0310-8472-869a43925389

commit 715a1d67126c30e17569a2d162a037b3b94277df
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 1 10:23:46 2006 +0000

    Update miredo-checkconf.8 wrt previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1299 6046fb1f-dae2-0310-8472-869a43925389

commit 3d45242daa4b533ed8f5840f50e2dc6a5b5d6f6e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 1 10:22:34 2006 +0000

    - miredo-checkconf detects superfluous directives
    - miredo-checkconf handles RelayType and follows the same logic as
      miredo depending on that setting
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1298 6046fb1f-dae2-0310-8472-869a43925389

commit 139b4d49a08ce73ec284c1df1d5d76af4dbf2f59
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 1 08:40:04 2006 +0000

    Update svn:ignore wrt automated ChangeLog
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1297 6046fb1f-dae2-0310-8472-869a43925389

commit 4e7d5704754b1f9f819683259aa178adb1a3da13
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 30 17:07:40 2006 +0000

    Automatic ChangeLog updates adapted from ndisc6 package
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1296 6046fb1f-dae2-0310-8472-869a43925389

commit 9880ec9eba263669e970a57f4be7a34e8502fe8a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 30 16:49:21 2006 +0000

    Rudimentary --help and --version for libteredo-mire
    This program really needs some documentation.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1295 6046fb1f-dae2-0310-8472-869a43925389

commit 7495c4161355ec9636ab88ab115cdd1ee81bf762
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 30 16:25:00 2006 +0000

    Document resetting of the Judy dynamic arrays
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1294 6046fb1f-dae2-0310-8472-869a43925389

commit d7bdf0f57e2161a361a1972fc62d904453f627e9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 30 16:22:33 2006 +0000

    Revert [1287] - there was really no bug to fix there.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1292 6046fb1f-dae2-0310-8472-869a43925389

commit 4209313084dfc38043bfacbc3c5263cc6630483e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 30 16:05:08 2006 +0000

    Peer list reset thread-safety fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1287 6046fb1f-dae2-0310-8472-869a43925389

commit 9af32a6dc3984a8e092201797656fa3a3499f436
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 30 15:50:57 2006 +0000

    Fix initialization of the tunnel in teredo_create().
    I'm afraid this fatality affects 0.8.2.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1286 6046fb1f-dae2-0310-8472-869a43925389

commit 2d5eb8bd692a15014fc7a459f586a8002f72a6aa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 30 15:50:22 2006 +0000

    Fix inconsistencies in documentation of the garbage collector
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1285 6046fb1f-dae2-0310-8472-869a43925389

commit b99f603d67764c292d8fd003e40af5b099cbb2b7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 30 15:37:30 2006 +0000

    Document most of libteredo thread-safety considerations
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1284 6046fb1f-dae2-0310-8472-869a43925389

commit 6179a4da091dda52df92c1a181eefc0de4cb8bc9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 30 10:41:57 2006 +0000

    Release list lock before emitting queued packets
    There should not be any case where we call teredo_send, recv_cb or
    icmpv6_cb while holding the list lock
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1283 6046fb1f-dae2-0310-8472-869a43925389

commit e35f1a5ef17cd2649f9ef06577f5b3b31a8b5efd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 30 10:11:51 2006 +0000

    Rename struct packet to struct teredo_queue
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1282 6046fb1f-dae2-0310-8472-869a43925389

commit fac75d3a3d59546d5d1beb52ef7e10317eb249c0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 30 09:40:06 2006 +0000

    Release list lock before sending pings (Direct connectivity check)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1281 6046fb1f-dae2-0310-8472-869a43925389

commit f9400741cf76b6158c2e91e180a9267671864bcb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 30 09:32:28 2006 +0000

    Unlock the peer list before transmitting packets over the tunnel
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1280 6046fb1f-dae2-0310-8472-869a43925389

commit f8f1d2fb32dd12e70133aa25403abbec95d01ce4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 29 11:46:12 2006 +0000

    libteredo: Handle case whereby fd >= FD_SETSIZE cleanly.
    This could not happen in miredo anyway given the call of closefrom(3).
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1279 6046fb1f-dae2-0310-8472-869a43925389

commit 47daf11facb76bba34894f03b13ff6aeacd08af0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 29 11:43:32 2006 +0000

    Document usefulness of closefrom()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1278 6046fb1f-dae2-0310-8472-869a43925389

commit b946ddf2f3f321952d963cb03bf5a589e75bca84
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 29 11:40:52 2006 +0000

    tun6_recv(): - avoid out-of-bound read if fd >= FD_SETSIZE
                 - still obey documented semantics regardless
    tun6_registerReadSet(): - return an error if fd >= FD_SETSIZE
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1277 6046fb1f-dae2-0310-8472-869a43925389

commit 9b943eaffd7442bb37cfed16f9db94b4372f04d1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 29 11:15:24 2006 +0000

    teredo_wait_recv(): Use poll() instead of select()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1276 6046fb1f-dae2-0310-8472-869a43925389

commit 9e8ac73711fcc3be178ce6a4495750404770a81a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 29 11:12:08 2006 +0000

    - tun6_wait_recv(): poll() + tun6_recv()
    - put tunnel device into non blocking mode to make sure we won't block
    - remove const qualifier to tun6* fro tun6_recv/tun6_send so that we
      can modify the struct later (for instance to keep usage statistics)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1275 6046fb1f-dae2-0310-8472-869a43925389

commit 3659c1042552c8c74d08282125e19b8f470bcceb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 24 17:22:06 2006 +0000

    - Set unique bit properly in our own ISATAP IPv6 address EUI64
    - Ignore unique and group bit upon receival
    - Some cleanup and fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1274 6046fb1f-dae2-0310-8472-869a43925389

commit 922245a4c8923e2778628aaf9dc4a8048ec5a5ef
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 24 14:38:36 2006 +0000

    miredo-isatap: Brand-new bleeding-edge ISATAP router
    based on libtun6 and miredo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1273 6046fb1f-dae2-0310-8472-869a43925389

commit d4cda079039c544026636d5040af722b494f949a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 24 14:35:44 2006 +0000

    TODO: Some more items
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1272 6046fb1f-dae2-0310-8472-869a43925389

commit 3b5ee6d64e7611374cfc5aa661a4721ba8868cb8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 23 17:43:38 2006 +0000

    Fix typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1271 6046fb1f-dae2-0310-8472-869a43925389

commit 41e4da2a21a51c2634e6c7ba5101d6e24da4993a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 23 08:46:54 2006 +0000

    Spelling mistake fixed
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1270 6046fb1f-dae2-0310-8472-869a43925389

commit 3a5b1dac1dbe6a06822aed87db6d202e2c300b3f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 20 21:30:30 2006 +0000

    Print automake warnings
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1269 6046fb1f-dae2-0310-8472-869a43925389

commit 7809e48a75c28d0dbd11b969c0e2237b1efc12d3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 18 11:48:23 2006 +0000

    Ignore libteredo-mire binaries
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1268 6046fb1f-dae2-0310-8472-869a43925389

commit 28c5345ee639ea857bca9b1b4b49e004ed280ef1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 18 11:47:05 2006 +0000

    New (non-privileged!) program: libteredo-mire
    Stateless Teredo responder that can be used to diagnose connectivity
    toward Teredo clients (from another client or from the IPv6 Internet)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1267 6046fb1f-dae2-0310-8472-869a43925389

commit fda1fb08e23989e6484dbba7aad0b616a44bf088
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 16 15:12:10 2006 +0000

    Initialize genuine additionnal groups rather instead of clearing them
    all. Sometimes groups are used to actually forbid something. Also,
    additionnal groups might be necessary to operate properly (such as the
    group of users allowed to read /proc with grsecurity patch for Linux).
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1266 6046fb1f-dae2-0310-8472-869a43925389

commit e33f72f636aa6d06ffc9fb128f652e336e8f1529
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 15 18:39:38 2006 +0000

    Compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1265 6046fb1f-dae2-0310-8472-869a43925389

commit b5d86b4b425268f34e71bfc5c77923fd70b87049
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 15 18:38:21 2006 +0000

    - Make sure setgid() works properly while using libcap
    - Only requests CAP_SYS_CHROOT when actually using chroot()
    - Commoditize capabilities required by src/miredo.cpp
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1264 6046fb1f-dae2-0310-8472-869a43925389

commit 1672d6c825a12dbbe3a5b5fb16b4e43b4ed4a3a4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 15 18:26:31 2006 +0000

    Don't handle impossible error.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1263 6046fb1f-dae2-0310-8472-869a43925389

commit 7a4530230094a9be7ee6088319704d4d3ce07e3a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 15 18:24:11 2006 +0000

    seteuid() before setgid(), so that setgid() won't fail if the initial
    effective user is not root.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1262 6046fb1f-dae2-0310-8472-869a43925389

commit 87330207526f98fccbab5576fb99531a5521a02a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 15 18:10:52 2006 +0000

    Fix setuid to root error message
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1261 6046fb1f-dae2-0310-8472-869a43925389

commit 6dd75f745c4b12dae131bed45f34a5687921e4c3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 15 16:44:50 2006 +0000

    Remove useless code.
    Switch to unstable branch version number.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1260 6046fb1f-dae2-0310-8472-869a43925389

commit baf0a025256d5eb47262c9277f59f331e3810910
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 15 16:13:56 2006 +0000

    Switching to version 0.8.3-pre
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1259 6046fb1f-dae2-0310-8472-869a43925389

commit e9f048b7d428dfe0c252ea17bd9a006285931acd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 21:15:21 2006 +0000

    Fix bootstrap
    That's the kind of regression you detect once you tagged the release...
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1257 6046fb1f-dae2-0310-8472-869a43925389

commit 0ea0adea50c846cf6f0be6218e81e98bbf8b39b0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 21:09:42 2006 +0000

    Fix $Id$ in ChangeLog again
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1256 6046fb1f-dae2-0310-8472-869a43925389

commit 5e1502af88238600e40425a8c4e87a05ba962ee8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 21:07:25 2006 +0000

    ChangeLog for release 0.8.2
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1254 6046fb1f-dae2-0310-8472-869a43925389

commit fc431ba1dbf08cb09683f8728d3d1d7a60e55631
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 21:00:34 2006 +0000

    NEWS for upcoming release 0.8.2
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1253 6046fb1f-dae2-0310-8472-869a43925389

commit 7fcd3f0534701eca1b15e63fee91b2714489db85
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 20:46:05 2006 +0000

    Update PO files for 0.8.2 release
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1252 6046fb1f-dae2-0310-8472-869a43925389

commit 3b7e38c0098305a94ffb8392ff50a35062ed85b0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 17:18:36 2006 +0000

    Document teredo_register_readset()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1251 6046fb1f-dae2-0310-8472-869a43925389

commit 440d6462785b0aa2023a593d692f57abfb412dbc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 16:40:28 2006 +0000

    Another OpenBSD compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1250 6046fb1f-dae2-0310-8472-869a43925389

commit fe45ff9336015c670d6e08f9acc01eafdcee6c48
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 16:38:43 2006 +0000

    Fix strlcpy() again. It didn't match the official OpenBSD semantics.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1249 6046fb1f-dae2-0310-8472-869a43925389

commit d2e8bd4741d20fdffcb3ea73daf90ac6a0265630
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 16:28:57 2006 +0000

    Warning fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1248 6046fb1f-dae2-0310-8472-869a43925389

commit 1cf63ea4fe48f29f0bd77439004f3ff5e540a5e2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 16:27:36 2006 +0000

    OpenBSD compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1247 6046fb1f-dae2-0310-8472-869a43925389

commit ba234d551ddfbb90678f2cf3af286fee697a44b2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 16:25:34 2006 +0000

    Cosmetic fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1246 6046fb1f-dae2-0310-8472-869a43925389

commit 7a9c5c6710b05a97b49c4c18022ac0c39aed4f42
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 16:18:16 2006 +0000

    Fix compilation with libcap and client support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1245 6046fb1f-dae2-0310-8472-869a43925389

commit 8d89a1ac0d3c2652169302522e998d6ac6ea1c35
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 16:17:49 2006 +0000

    svn:ignore for strlcpy unit test
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1244 6046fb1f-dae2-0310-8472-869a43925389

commit fad5e6073b4a536a474562a30870fe2d9e477b65
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 16:12:29 2006 +0000

    Commoditize pthread_mutex Linux-specific debugging
    and use it everywhere in libteredo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1243 6046fb1f-dae2-0310-8472-869a43925389

commit ef27f86d420ebe9d77b414bedac996fc6a25bffd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 11:24:56 2006 +0000

    Compute ICMPv6 rate limiting per tunnel instance
    (it was previously static)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1242 6046fb1f-dae2-0310-8472-869a43925389

commit 1058003ee5ae38c7d247b024df28758905965002
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 11:03:58 2006 +0000

    Use a pipe instead of a timeout to signal addrwatch state changes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1241 6046fb1f-dae2-0310-8472-869a43925389

commit d5882e21aaa8c1ee9b359ed052f1aeabe7fc0329
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 10:42:30 2006 +0000

    Move the previous new functions to miredo only (ie. out of miredo-server)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1240 6046fb1f-dae2-0310-8472-869a43925389

commit 0faf1b620aec860625ff1ea2d07bf8b09fde1e6e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 09:50:12 2006 +0000

    Use miredo_setup_(nonblock_)fd() from previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1239 6046fb1f-dae2-0310-8472-869a43925389

commit 91e0144bea2439346e08a139d9f47a9c407f0a3b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 09:47:05 2006 +0000

    Commoditize close-on-exec and non-blocking flags settings
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1238 6046fb1f-dae2-0310-8472-869a43925389

commit b30b44b9214affb3aa55a18b4aaf0bd34e1b6ca6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 06:39:20 2006 +0000

    Warning fixes: #include <config.h>
    to ensure declaration and definition prototypes match
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1237 6046fb1f-dae2-0310-8472-869a43925389

commit e825cf14b169a7a58ceed883092a3de1850d53f4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 06:33:49 2006 +0000

    Compiler warning fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1236 6046fb1f-dae2-0310-8472-869a43925389

commit 284406db41c07007d371d91f2b0e432bbe67bba6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 14 06:31:33 2006 +0000

    ICC compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1235 6046fb1f-dae2-0310-8472-869a43925389

commit e7534d04ae1416d0c2a63f10165527df85a753eb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 13 21:21:28 2006 +0000

    Make valgrind happy
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1234 6046fb1f-dae2-0310-8472-869a43925389

commit 1bd22af6f06b53d41b0bf54b4b656ae7bd25a596
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 13 17:47:21 2006 +0000

    Fix typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1233 6046fb1f-dae2-0310-8472-869a43925389

commit edd608ee16e58b5ab39a300794dec6d99935c805
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 13 17:43:04 2006 +0000

    Simplify sample configuration a lot
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1232 6046fb1f-dae2-0310-8472-869a43925389

commit 6bb3304828261dc6612d73e23e7122d44247903b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 13 14:38:16 2006 +0000

    Document autoclient mode
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1231 6046fb1f-dae2-0310-8472-869a43925389

commit cb56a9e1475d61ac3896644787e2225ed49f6e4a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 13 14:19:02 2006 +0000

    Fix encoding of man pages. Apparently Latin-1 is expected by default.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1230 6046fb1f-dae2-0310-8472-869a43925389

commit a7ed6cd2f919d1a6a94185431ab85ae8802e6454
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 13 13:50:56 2006 +0000

    Fix typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1229 6046fb1f-dae2-0310-8472-869a43925389

commit 6dfb085235a1d44874d28d3ad5df50fc8b6f7c8f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 13 13:49:57 2006 +0000

    Support for “autoclient” RelayType, same as client with the
    exception that it only runs when there is no other IPv6 connectivity.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1228 6046fb1f-dae2-0310-8472-869a43925389

commit d14e7b2234171b634f7efbf51eff4a1d372dcc47
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 13 13:38:06 2006 +0000

    - Fix parsing of interface index: that's hexadecimal, not decimal
    - Remove useless callback support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1227 6046fb1f-dae2-0310-8472-869a43925389

commit 7d6ce11183a8276dc49a0fc293170a4099d8f11a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 13 13:32:33 2006 +0000

    Add unit test for tun6_getId()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1226 6046fb1f-dae2-0310-8472-869a43925389

commit 0b0e1e20fcef821ae265ab7ed56eae1c8e176911
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 13 11:48:02 2006 +0000

    Regression test and another fix for strlcpy()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1225 6046fb1f-dae2-0310-8472-869a43925389

commit 62e43d21820448f85e2afb237e5da03bc53bee08
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 13 11:30:03 2006 +0000

    Fix insertion of nul at end of string in strlcpy() replacement.
    It is fortunate the previous version never made it to a release.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1224 6046fb1f-dae2-0310-8472-869a43925389

commit fb118f8b4861f2418a996c5cf3ee7ba17ce980f9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 12 20:48:54 2006 +0000

    Force the proc file into non-blocking mode.
    It should not normally block, unless it's not actually what it's
    supposed to be. If it blocked, we could have deadlocks while trying to
    terminate the addrwatch thread.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1223 6046fb1f-dae2-0310-8472-869a43925389

commit 1ec6f9055a857c6749d3b1311259b32ea1b00413
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 12 19:25:04 2006 +0000

    Set close-on-exec flag on pipes and sockets
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1222 6046fb1f-dae2-0310-8472-869a43925389

commit 399375402f549583ed03b2e8affa050c955493ea
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 12 19:10:18 2006 +0000

    Added recent contributors, updated global copyright infos
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1221 6046fb1f-dae2-0310-8472-869a43925389

commit 813b473d5baa335f731e50ef2b00672e08a40d3f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 12 18:25:26 2006 +0000

    Add modification notice on the MD5 implementation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1220 6046fb1f-dae2-0310-8472-869a43925389

commit 1792b8bb1f75916594033afcc5b37f417b6fc2c1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 12 17:55:47 2006 +0000

    - close libteredo's sockets at exec(),
    - don't leak file descriptor when bind() fails,
    - always set non-blocking mode regardless of earlier fnctl() failures
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1219 6046fb1f-dae2-0310-8472-869a43925389

commit 6cc1fabfa58c5892a4c8cf3efe96c284b3803ba6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 11 17:31:46 2006 +0000

    Update PO files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1218 6046fb1f-dae2-0310-8472-869a43925389

commit 36039696ed04d085735ef768ed1caf662ae573a2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 11 17:31:07 2006 +0000

    libteredo-common.la: explicit convenience library for lower level code
    that is shared between the tunnel (client/relay) and server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1217 6046fb1f-dae2-0310-8472-869a43925389

commit b8f4cdc244512ee2c70235b6f036deaa516464f7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 11 17:21:11 2006 +0000

    POTFILES: libteredo/relay.c replaces libteredo/relay.cpp
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1216 6046fb1f-dae2-0310-8472-869a43925389

commit de7afeeca31f263028147138cc738733591ea813
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 11 17:16:30 2006 +0000

    s/libteredo_/teredo_/g and some conflicting name fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1215 6046fb1f-dae2-0310-8472-869a43925389

commit 2402e620bc3f4aee29f9265a76d9fadda4bbbca3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 11 11:36:31 2006 +0000

    miredo-server: Use "miredo-server" as identity in syslog
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1214 6046fb1f-dae2-0310-8472-869a43925389

commit 85d7018d90bb9750c573bf00b11aa90ce8864edf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 10 21:35:01 2006 +0000

    Fix typos
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1213 6046fb1f-dae2-0310-8472-869a43925389

commit e380eb8db6a832f8511df6cb6a183191e973807f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 10 21:32:09 2006 +0000

    Updated TODO list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1212 6046fb1f-dae2-0310-8472-869a43925389

commit e5ad2d0a062fc6a3633d19c9a28f21059a0bd0ea
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 10 21:06:28 2006 +0000

    Revert back to an interface name request that is different from
    miredo's default, so that the test does not fail when running miredo on
    the build host because of a duplicate interface name.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1211 6046fb1f-dae2-0310-8472-869a43925389

commit 5979f6f4c3c2b1f79670611921f205cbe96d5d21
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 10 21:00:39 2006 +0000

    libteredo is now a pure C library
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1210 6046fb1f-dae2-0310-8472-869a43925389

commit a301959ff436d1ff191c3c65630d7a89e7809527
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 10 20:55:49 2006 +0000

    The TeredoRelay class is no more.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1209 6046fb1f-dae2-0310-8472-869a43925389

commit a603424a440b8f9b007abcdb490b72686cd3f82b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 10 20:24:58 2006 +0000

    Move maintenance initialization code to the new C functions.
    TeredoRelay no longer needs a destructor, and hardly has a constructor.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1208 6046fb1f-dae2-0310-8472-869a43925389

commit 645e413f8561e5cd730c51f0cd8d08e0dabf1610
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 10 20:09:25 2006 +0000

    Suppress redundant _sendIPv6Packet and SendIPv6Packet from the code
    path to send a decapsulated packet to the kernel
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1207 6046fb1f-dae2-0310-8472-869a43925389

commit c9af31ce9a0a730152d9b5b11bc0c773b1835a09
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 10 20:01:38 2006 +0000

    Use dummy callbacks for libteredo instead of NULL
    so that we never have to check for non-NULL callback before calling one
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1206 6046fb1f-dae2-0310-8472-869a43925389

commit ebe5f36dfb6e53aff51edc84aa0e633ac0c66fcc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 10 19:49:27 2006 +0000

    More common relay/client create/destroy code factorization
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1205 6046fb1f-dae2-0310-8472-869a43925389

commit 30febe2e350d3ef8e9851a25ed8a0548b102c730
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 10 19:03:48 2006 +0000

    Remove unused struct member
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1204 6046fb1f-dae2-0310-8472-869a43925389

commit ccc9eea3060bb2d87bb0cc79b646b6e61772dc96
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 10 19:02:35 2006 +0000

    Factor common Teredo socket creation code between client and relay
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1203 6046fb1f-dae2-0310-8472-869a43925389

commit 74c755e3547d42a5c3302a2b7a64568dd0b7c22a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 10 18:45:56 2006 +0000

    Fix memory leak
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1202 6046fb1f-dae2-0310-8472-869a43925389

commit 1a2c5096790abd6e0cb774869445698bcf982665
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 10 18:36:14 2006 +0000

    Fix allow_cone flag duplication
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1201 6046fb1f-dae2-0310-8472-869a43925389

commit 4bd7d42ce86e9f312bf3e4e66a651853714ab4e5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 10 15:48:16 2006 +0000

    Avoid calling libteredo_get_privdata() - pass opaque pointer directly
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1200 6046fb1f-dae2-0310-8472-869a43925389

commit 2c55f92840ac3801199748df00d846862809b642
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 10 11:19:10 2006 +0000

    Merge cTeredoRelay with parent class TeredoRelay, as it was its only
    non-abstract derivative. Kill all virtual functions.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1199 6046fb1f-dae2-0310-8472-869a43925389

commit 5d12318a0f19b06eea38f6b841718acea8a08f6b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 21:01:03 2006 +0000

    Remove (now) useless empty file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1198 6046fb1f-dae2-0310-8472-869a43925389

commit 2def7d42e23513a6e4c66eea7c810595e554c2cc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 20:59:06 2006 +0000

    peerlist.cpp -> peerlist.c
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1197 6046fb1f-dae2-0310-8472-869a43925389

commit b764e6b466867a77e655a391acaa1348dc450dde
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 20:49:51 2006 +0000

    Kill libteredo/relay.h
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1196 6046fb1f-dae2-0310-8472-869a43925389

commit 6a44526d6ae2864e32ad7f7afa097d41adfa010c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 20:38:33 2006 +0000

    Further dismantle relay.h
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1195 6046fb1f-dae2-0310-8472-869a43925389

commit cfa732356bc0be14049a2854aee30771bc38a8a7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 20:24:21 2006 +0000

    Move teredo_state to <maintain.h>
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1194 6046fb1f-dae2-0310-8472-869a43925389

commit 0454fcdb305a50b286b4f501a04bdd5038840eed
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 20:11:35 2006 +0000

    Burry the internal C++ API in private libteredo headers.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1193 6046fb1f-dae2-0310-8472-869a43925389

commit c2b3a7c309420ab83f61e9585a6746f869898b04
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 19:41:39 2006 +0000

    Fix writing to /proc on Linux
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1192 6046fb1f-dae2-0310-8472-869a43925389

commit 1799fe889a9e58ac73a3a7e626859615802e50ff
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 18:15:39 2006 +0000

    Fix another inverted error check
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1191 6046fb1f-dae2-0310-8472-869a43925389

commit 6c642b02d52ff886ad7e9a2bd448a61e5def81f2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 18:09:14 2006 +0000

    Fix inverted error condition
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1190 6046fb1f-dae2-0310-8472-869a43925389

commit 043f874cb08a5b47101d7be7ad0a88bba98d9ec9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 18:00:35 2006 +0000

    client-less compilation fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1189 6046fb1f-dae2-0310-8472-869a43925389

commit a626a77a0073be82a4644a27f549cd4aba743a7d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 17:59:21 2006 +0000

    Port miredo to the C libteredo API
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1188 6046fb1f-dae2-0310-8472-869a43925389

commit 8ee1c863fbeab921920c93cb731ada3f1b2fd566
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 17:55:55 2006 +0000

    Fix an obvious bug
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1187 6046fb1f-dae2-0310-8472-869a43925389

commit 1658c1d7a8c62359869d9f324bc61247c83de810
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 17:50:12 2006 +0000

    Implement libteredo_send
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1186 6046fb1f-dae2-0310-8472-869a43925389

commit 3b3488d75a191061dc300b3864210819fb7d6003
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 17:45:13 2006 +0000

    Kill an useful function
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1185 6046fb1f-dae2-0310-8472-869a43925389

commit 5b9475d860e719b268c53c0f65986fb7b8f2006a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 17:41:01 2006 +0000

    Two more and very important missing functions
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1184 6046fb1f-dae2-0310-8472-869a43925389

commit c668ef2d5729bb23bbd8635b1780b0d4314c723e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 17:24:27 2006 +0000

    Use shorter function names
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1183 6046fb1f-dae2-0310-8472-869a43925389

commit f2981e59f403ccfc6853d66cbda5e7e5c8a39ca1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 17:20:16 2006 +0000

    Add a missing binding in the libteredo C API
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1182 6046fb1f-dae2-0310-8472-869a43925389

commit 2d06e1ab1fb94604eb3feeb2bffdb58c03a612f4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 17:00:42 2006 +0000

    Small step toward usage of the libteredo C API
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1181 6046fb1f-dae2-0310-8472-869a43925389

commit ad8efbf908cd06ad331e2da2914ed7904a1c2879
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 16:54:06 2006 +0000

    Cosmetic
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1180 6046fb1f-dae2-0310-8472-869a43925389

commit 67252a6488afd14c434a2a572ee8b34e4fcd8294
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 15:56:26 2006 +0000

    Destroy created tunnel even if the test fails to limit the risk of
    messing to much with the build host kernel.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1179 6046fb1f-dae2-0310-8472-869a43925389

commit ab44ccdeb9e1937086c04aca73a3a659a089f662
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 15:54:30 2006 +0000

    Try to use FreeBSD dynamic “/dev/tun” and improves BSD interface naming
    work arounds.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1178 6046fb1f-dae2-0310-8472-869a43925389

commit c883784d6debc146f634b40a778efe13a1036c45
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 15:39:36 2006 +0000

    - Set FD_CLOEXEC so that it is safe to exec() while using libtun6.
    - Rename interface back to its original name on BSD in tun6_destroy
      to mitigate the risk of triggering a situation whereby another
      program (typically a restarted miredo) cannot find out the
      interface name/index.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1177 6046fb1f-dae2-0310-8472-869a43925389

commit 50dd9bbee32618c692a000c302c11296d33550c8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 12:23:12 2006 +0000

    BSD name problem partial/would-be work-around
    I can't fix the BSD tunnel driver.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1176 6046fb1f-dae2-0310-8472-869a43925389

commit edff103df55f3f40fdd71da791a17adbb3c02d47
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 08:33:53 2006 +0000

    Ugly kludge for the unguessable tunnel name issue on BSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1175 6046fb1f-dae2-0310-8472-869a43925389

commit d0a0310d9810630a981f2fabf4b00283139d70c9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 08:04:53 2006 +0000

    Only use interface id instead of interface name when setting up
    addresses or routes, as far as possible (fixes a few minor race
    condition and simplifies code).
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1174 6046fb1f-dae2-0310-8472-869a43925389

commit af99c240aecb32e3b673dc01956ce42c551a8f35
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 9 07:52:35 2006 +0000

    Keep tunnel interface id (which should be immutable) instead of its
    name which can be modified by the user. As such, if the user ever
    renames the tunnel, libtun6 will still work. Also, we'll detect
    immediatly if the BSD tunnel name is not detected properly.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1173 6046fb1f-dae2-0310-8472-869a43925389

commit 78303add61071f229db204c9d18d50237d2293ec
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 21:17:02 2006 +0000

    Initial (yet to be tested) C bindings for libteredo
    The C++ bindings will probably be dumped someday
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1172 6046fb1f-dae2-0310-8472-869a43925389

commit 11a0cd729579b680e79c95d23f9175a600fded7e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 21:15:06 2006 +0000

    InterfaceName directive is no longer Linux specific, so don't say it is
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1171 6046fb1f-dae2-0310-8472-869a43925389

commit 8c676ce3b3a3353b0b3a4d11af0ea7653caf26e3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 19:14:32 2006 +0000

    Don't use assert() on an expression with side effects
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1170 6046fb1f-dae2-0310-8472-869a43925389

commit 8a909e1da0d66ddfa6fc76fd0888f0a804cb1dc7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 19:13:53 2006 +0000

    Run-time fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1169 6046fb1f-dae2-0310-8472-869a43925389

commit 0af34681712f1961a89345b24ee4e1e1e886f04e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 18:54:49 2006 +0000

    sprintf() -> snprintf() to make OpenBSD happy
    (these sprintf() where designed to be overflow-proof anyway)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1168 6046fb1f-dae2-0310-8472-869a43925389

commit 6373a59c6fb33278ee464f4f427582b17e932fd6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 18:54:00 2006 +0000

    Typo/compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1167 6046fb1f-dae2-0310-8472-869a43925389

commit 8ba62518213cc2d12019ccc21546662e25d03833
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 17:46:30 2006 +0000

    Make addrwatch a stub on non-Linux as it won't work
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1166 6046fb1f-dae2-0310-8472-869a43925389

commit 652c5060c28a98d6658ad9c9fed16cba636114cb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 17:38:00 2006 +0000

    As far as I can tell, there is no route “metric” on BSD
    (BSD route “metrics” are anything but a priority value).
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1165 6046fb1f-dae2-0310-8472-869a43925389

commit 0442e3293a2483ed645a4cba4a7020bd181b862d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 17:35:33 2006 +0000

    Fix net/if_var.h check
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1164 6046fb1f-dae2-0310-8472-869a43925389

commit c31832fa2998ca760c598fdc30a38c2f197a4aa1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 17:12:42 2006 +0000

    Dirty and quite broken work-around for tunnel interface naming on BSD.
    Unfortunately, there doesn't seem to be any proper light solution to
    this problem.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1163 6046fb1f-dae2-0310-8472-869a43925389

commit 932e0d5a291e6ecc53fc1062b5980dc9978d22fa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 16:44:56 2006 +0000

    Don't comment out SIOCSIFNAME - it works
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1162 6046fb1f-dae2-0310-8472-869a43925389

commit 977a6fbe2fe204efa0121a465973b0d5d6944f70
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 16:44:19 2006 +0000

    Interface (re)naming now works on FreeBSD !
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1161 6046fb1f-dae2-0310-8472-869a43925389

commit 170c44413126768b6521d72b99deb787e04f5dac
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 16:17:19 2006 +0000

    Compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1160 6046fb1f-dae2-0310-8472-869a43925389

commit ef0923dacebaf3b7662784298edddc19f727da62
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 16:10:54 2006 +0000

    Seemingly insufficient fixes for SIOCSIFNAME on FreeBSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1159 6046fb1f-dae2-0310-8472-869a43925389

commit 5e0ac51819ccda0e78a6d362728c6bb80e11e0fb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 15:56:56 2006 +0000

    Test tun6_create with a non-NULL interface name
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1158 6046fb1f-dae2-0310-8472-869a43925389

commit e9706637e1c84314f003b8917f81d9d89d28f165
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 11:59:07 2006 +0000

    Use ${PTHREAD_LDFLAGS} and ${PTHREAD_LIBS} when they are defined by
    the configure's caller
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1157 6046fb1f-dae2-0310-8472-869a43925389

commit 4318d5c69e70cff5b640cdec3939ffae00dff792
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 11:41:58 2006 +0000

    Untested attempt to fix address family preprend for tun driver on Mac OS X
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1156 6046fb1f-dae2-0310-8472-869a43925389

commit 610931c3f36458cbaf807d7b8afc57cb01e89eb7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 11:30:46 2006 +0000

    Linking fix for Mac OS X (res_init requires -lresolv)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1155 6046fb1f-dae2-0310-8472-869a43925389

commit 7a091d0c72ec3ab6ca386524b6342f4b1cc8a028
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 10:23:01 2006 +0000

    Mac OS X already defines DELAY, so use another constant name
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1154 6046fb1f-dae2-0310-8472-869a43925389

commit 7a0cde4b1776fbe4378b5508f57750242d3ed37a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 10:18:14 2006 +0000

    Make the Teredo state_lock instance-specific, which is how it should
    be anyway. This should also fix one compilation issue on Mac OS X
    (which does not have PTHREAD_RWLOCK_INITIALIZER).
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1153 6046fb1f-dae2-0310-8472-869a43925389

commit 14dc917b4d5833208d5e266876c82e5caf5856e5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 10:09:48 2006 +0000

    Remove non-ASCII character
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1152 6046fb1f-dae2-0310-8472-869a43925389

commit 6c52439f07e9bf705ec412543bf27462a4ce2d83
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 10:00:29 2006 +0000

    Would-be fix for would-be OpenBSD kernel with non-BSD userland
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1151 6046fb1f-dae2-0310-8472-869a43925389

commit 702e8f7f84f56f913f8406564067b503c72736b8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 8 09:44:16 2006 +0000

    Untested support for GNU/k*BSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1150 6046fb1f-dae2-0310-8472-869a43925389

commit 5b9af012c1e9aeeb27b685a00cd82d1e460565f3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 7 22:02:22 2006 +0000

    - Remove all HAVE_xxx (xxx = some kernel/OS name)
      and use predefined constants instead
    - Fix a warning on BSDs within libtun6-diagnose
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1149 6046fb1f-dae2-0310-8472-869a43925389

commit a37706fe2e1d9b4b3efdb551905071363ad79d96
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 7 18:21:50 2006 +0000

    Update TODO list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1148 6046fb1f-dae2-0310-8472-869a43925389

commit 6bc99e6d1ca78cb4d7a28cb731e79c613fda308c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 7 18:15:36 2006 +0000

    Remove useless #define
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1147 6046fb1f-dae2-0310-8472-869a43925389

commit c13ced661db30f37753928580af1dd153a4018b2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 7 11:47:13 2006 +0000

    Mac OS X compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1146 6046fb1f-dae2-0310-8472-869a43925389

commit ad836000d887b375f46892e09a81e4bfae9dee7a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 6 21:00:13 2006 +0000

    Further improve error messages in BSD tun6_create()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1145 6046fb1f-dae2-0310-8472-869a43925389

commit acbfa3e6216642e711c4f2d9930b55285018f434
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 6 20:54:27 2006 +0000

    pselect() replacement for OpenBSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1144 6046fb1f-dae2-0310-8472-869a43925389

commit 2241ec8df6ae830e0df024083734e14468616fc9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 6 12:22:35 2006 +0000

    Remove erroneous static qualifier
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1143 6046fb1f-dae2-0310-8472-869a43925389

commit 1aa74f0f7ef6086fcf4f9c423e9b5182e7d01e30
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 6 12:11:56 2006 +0000

    Compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1142 6046fb1f-dae2-0310-8472-869a43925389

commit 8ab90e14485f4ed2a01fa3a0dcff26f14a4bc093
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 6 12:05:33 2006 +0000

    Compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1141 6046fb1f-dae2-0310-8472-869a43925389

commit a42b0a3cb1cd9cd835525e817370f7b764ff04ed
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 6 06:43:44 2006 +0000

    Make sure pthread_barrier_destroy() replacement does not block
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1140 6046fb1f-dae2-0310-8472-869a43925389

commit bd282470af215af2afb47e51e1132e5798d3f127
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 5 21:46:19 2006 +0000

    Move clearenv() and strlcpy() replacement to libcompat
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1139 6046fb1f-dae2-0310-8472-869a43925389

commit 5f9b4874d647d79e513f411b10c8ada56a3f5b66
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 5 21:34:54 2006 +0000

    - Link with libcompat when appropriate
    - Set LIBOBJS as appropriate
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1138 6046fb1f-dae2-0310-8472-869a43925389

commit f3dca347776f8e26bb0702666540d1c493b0aa7f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 5 21:34:09 2006 +0000

    - Replacement for pthread_barrier* (which is missing on several BSD)
      This is UNTESTED.
    - Move closefrom() replacement here.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1137 6046fb1f-dae2-0310-8472-869a43925389

commit 6e150be6dbba1d97204fe916e072b9801c5b3478
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 5 21:05:04 2006 +0000

    Prepare new directory for replacement functions
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1136 6046fb1f-dae2-0310-8472-869a43925389

commit fd435f9111e3012e81d31598c23fc2644dc5e66e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 5 21:02:18 2006 +0000

    Remove old stuff from svn:ignore
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1135 6046fb1f-dae2-0310-8472-869a43925389

commit e389ba5ef19bfe7c2d4795995a157c88ce4ab404
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 5 16:06:55 2006 +0000

    Fix error message in case of failure to open any BSD tunnel interface
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1134 6046fb1f-dae2-0310-8472-869a43925389

commit 12b0cad869fc0ef0941b4d0d10485770b54fb5bb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 5 15:59:51 2006 +0000

    Fix typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1133 6046fb1f-dae2-0310-8472-869a43925389

commit eecd0c0b66ed3aa2d6ff89cf61a02ce4628ca4f8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 5 15:41:47 2006 +0000

    Be less strict in what we accept from dup(2)
    so that the check for 0, 1 and 2 file descriptors works on OpenBSD (?)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1132 6046fb1f-dae2-0310-8472-869a43925389

commit f1ddfa077404b7d3e86845c296f367c4a35d3c4a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 5 15:26:40 2006 +0000

    Close all descriptors up to the maximum limit, not the current one
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1131 6046fb1f-dae2-0310-8472-869a43925389

commit aa295c4a78b8b87044d75c95a538c87c6609d245
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 5 15:18:52 2006 +0000

    - Check for closefrom() (available on some BSDs)
    - Provide a replacement when it is not found
    - Use it to close all file descriptros above fileno(STDERR)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1130 6046fb1f-dae2-0310-8472-869a43925389

commit 238b86a6ae5ef97687c3ce59795f619b6f7bcaa3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 5 11:36:22 2006 +0000

    Check for failure with overly long interface name requests
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1129 6046fb1f-dae2-0310-8472-869a43925389

commit f6cb8d25b08f9871997a73bb329fc132b1a548d8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Apr 5 11:33:42 2006 +0000

    - Replacement for strlcpy() when it is not supported (ie. on Linux)
    - Return an error to the caller when the interface name is too long
      instead of truncating it.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1128 6046fb1f-dae2-0310-8472-869a43925389

commit f147620270b589865327e6488184917890597042
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 4 20:13:44 2006 +0000

    Last warning fix for gcc 3.3
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1127 6046fb1f-dae2-0310-8472-869a43925389

commit c18d8702607929c9a6329c60b5e044d1462e0fcb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 4 20:11:59 2006 +0000

    Don't use warn_unused on gcc-3.3 as it is not supported
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1126 6046fb1f-dae2-0310-8472-869a43925389

commit 6b42afa50c89976e6c40c3222350ebdfd801c1f1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 4 20:09:35 2006 +0000

    Same as previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1125 6046fb1f-dae2-0310-8472-869a43925389

commit 2b6d3086021354c1c7fff3efa15a6aa84104ea68
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 4 20:09:06 2006 +0000

    Fix warnings
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1124 6046fb1f-dae2-0310-8472-869a43925389

commit 4872c2631e227906bb0c5abf28b3e44ec6a2d556
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 4 18:44:19 2006 +0000

    DragonFlyBSD derives from FreeBSD 4, so there is no need to make it yet
    another case. I believe this is consistent with the way NetBSD pkgsrc
    patches libtun6/ for DragonFlyBSD.
    
    Unfortunately, because of some differences on OpenBSD (strange dup()
    behavior, and different location for /dev/random), we can't merge all
    BSDs defines.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1123 6046fb1f-dae2-0310-8472-869a43925389

commit 08258ee6bc0779e98dd168c5306550a9790fd5ba
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 4 18:14:30 2006 +0000

    Big libtun6 clean up/simplification:
    - always use prepended address family, drop (probably broken) head-less mode,
    - configure checks for net/if_tun.h and net/if_var.h for BSDs,
      so that we no longer need kernel-specific #ifdef's
    - Darwin compilation fix (but the driver does probably not work)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1122 6046fb1f-dae2-0310-8472-869a43925389

commit 788ea966e14254d4e3147ea8ccedc72d91904fa5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 4 15:42:30 2006 +0000

    Clean up BSD-specific preprocessor directives
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1121 6046fb1f-dae2-0310-8472-869a43925389

commit 3788320d73ef36cf9dfeff527ab7b89b99799dea
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 4 15:30:26 2006 +0000

    Check for EPROTO only when it is defined.
    Some BSDs variants lack EPROTO. Maybe it's not really standard.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1120 6046fb1f-dae2-0310-8472-869a43925389

commit d255beb833b90f4a75a3badc944edf60604c0902
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Apr 4 15:26:12 2006 +0000

    #include <sys/uio.h> when using iovec
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1119 6046fb1f-dae2-0310-8472-869a43925389

commit e66e7de8b466c722e404edb66ff90978baf184e6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 3 16:53:14 2006 +0000

    #include clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1118 6046fb1f-dae2-0310-8472-869a43925389

commit 4ef7f334f91a0dca6716fb54d3111ea10cb01e06
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 2 08:44:02 2006 +0000

    Typo - fix make dist
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1117 6046fb1f-dae2-0310-8472-869a43925389

commit 4ec52175c3122abdbd9473dca37178f825f3f3bc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 2 08:42:00 2006 +0000

    Man page for miredo-checkconf
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1116 6046fb1f-dae2-0310-8472-869a43925389

commit 5a24193a1aea1ebaaac0d35a02fa4216bb7c7b95
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 2 08:10:23 2006 +0000

    Fix client-less compilation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1115 6046fb1f-dae2-0310-8472-869a43925389

commit 0c8bee2a39ae31713d1ca6af8b317b4ae87d46d2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 2 08:05:51 2006 +0000

    No longer hard-code file path in man page
    so that the paths will be correct if miredo is packaged, and installed
    in, say, /usr/sbin, /etc and /var instead of /usr/local/sbin,
    /usr/local/etc and /usr/local/var.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1114 6046fb1f-dae2-0310-8472-869a43925389

commit 8244f2e4f6e7f916c08c1e00da4b4aa3debd1ece
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 2 08:04:00 2006 +0000

    Reverse commit of extra not-for-commit-yet files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1113 6046fb1f-dae2-0310-8472-869a43925389

commit 546e262e1999479ecae8feb601efa3109e5d7a89
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 2 08:00:42 2006 +0000

    Resurrect doc/Makefile to support substitution of prefix/path
    within man pages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1112 6046fb1f-dae2-0310-8472-869a43925389

commit 043d1b2374159861876cb85cc22d77ad05fe8f0d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 2 07:50:15 2006 +0000

    Remove hard-coded reference to the chroot directory
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1111 6046fb1f-dae2-0310-8472-869a43925389

commit 56faa6a2f6c208f301e0300559991f918abcb1b7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Apr 2 07:24:28 2006 +0000

    Document --chrootdir option
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1110 6046fb1f-dae2-0310-8472-869a43925389

commit 959723ffb66e476354de28c88ab22ed45da8f915
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 20:08:53 2006 +0000

    Don't annoy brave user with hundreds of lines of comment...
    miredo.conf-dist is now “only” 48 lines long.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1109 6046fb1f-dae2-0310-8472-869a43925389

commit 3dc7993dc075e3844bd6f04aebea11223108c27e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 20:07:55 2006 +0000

    Document poor forgotten IgnoreConeBit option
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1108 6046fb1f-dae2-0310-8472-869a43925389

commit d420a0f0d52f80fb1fef7e9fda885b0052962bb0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 19:37:02 2006 +0000

    - Remove reference to "disabled" mode which disappeared a long time ago
    (ie. when miredo-server was splitted from miredo)
    - Remove reference to the experimental Teredo prefix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1107 6046fb1f-dae2-0310-8472-869a43925389

commit 67bbcffc23fdd174b6e0390e5417a5c28bd173a2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 19:25:56 2006 +0000

    Prepare addition of a forth mode: exclusive client
    A Teredo client that only works only when IPv6 connectivity is not
    available otherwise
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1106 6046fb1f-dae2-0310-8472-869a43925389

commit bac6fec3a461235e33a9ef4b1106b91b486db0b3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 19:15:51 2006 +0000

    More clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1105 6046fb1f-dae2-0310-8472-869a43925389

commit 17f5250f8c9bd30c471271d61d9dea3c8b87e847
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 18:56:12 2006 +0000

    Burn the remnants of the DefaultRoute option
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1104 6046fb1f-dae2-0310-8472-869a43925389

commit dbaa80d3fb5033ee0fb5af73b649616c4b0e285f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 18:52:35 2006 +0000

    Kill the DefaultRoute option that probably nobody ever set to false.
    It was theoretically useful when the metric was the same on the Teredo
    tunnel as that of the other interfaces, though fairly impractical
    anyway. People that statically want a Teredo relay should and will use
    the RelayType stuff.
    On top of that, it will shortly be possible to add the default route
    dynamically thanks to <src/addrwatch.c>.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1103 6046fb1f-dae2-0310-8472-869a43925389

commit 430b09dfc4eadac382f9c0d0be3dc3d95a2bc82e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 18:45:46 2006 +0000

    Further clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1102 6046fb1f-dae2-0310-8472-869a43925389

commit 8e6863e074b380df35854d7480779eeeef20c9be
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 17:39:49 2006 +0000

    Clean up, minor error-handling fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1101 6046fb1f-dae2-0310-8472-869a43925389

commit dba97c663ce351891319c530bd022974fa057f7f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 16:29:46 2006 +0000

    Fix warning with --disable-teredo-client
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1100 6046fb1f-dae2-0310-8472-869a43925389

commit bffbe825cbf5d429c42be6cbd306cb893b019389
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 16:16:33 2006 +0000

    Allow passing an opaque pointer to the addrwatch callback
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1099 6046fb1f-dae2-0310-8472-869a43925389

commit d70a147d379b54243b994d345b27330f0e5eacfd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 16:03:15 2006 +0000

    Provisional API to check if a non-Teredo connectivity is available
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1098 6046fb1f-dae2-0310-8472-869a43925389

commit 8101dc52ec22d750c451f01a6d922a3a46d1aa7d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 15:11:16 2006 +0000

    tun6_getId(): return scope id of the interface
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1097 6046fb1f-dae2-0310-8472-869a43925389

commit bf46d9219793b92c7990f7e572751091fc0bca01
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 14:08:52 2006 +0000

    Cosmetic fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1096 6046fb1f-dae2-0310-8472-869a43925389

commit b68b34f8ca44a606445dece23f2a67911752e152
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 14:00:38 2006 +0000

    Cosmetic fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1095 6046fb1f-dae2-0310-8472-869a43925389

commit 755b747d99216c0de6b91509ca8e9f832ec1ca96
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 13:29:41 2006 +0000

    Partial update of the autopackage spec - still severely broken
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1094 6046fb1f-dae2-0310-8472-869a43925389

commit fd09a2925b8cd7d9fce2438a422100d6e649513b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 12:39:29 2006 +0000

    Use BinReloc for configuration file
    (it was removed a while ago because autopackage was inconsistent, but
     then, it's an autopackage bug)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1093 6046fb1f-dae2-0310-8472-869a43925389

commit 3bb75e9e584fc6c9d698df56db515e297d966e29
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 12:23:23 2006 +0000

    Update BinReloc to version 2.0, plus
    - two fixes for -Wextra compilation
    - include <config.h> in binreloc.c so that ENABLE_BINRELOC gets defined
      (adding $(BINRELOC_CFLAGS) to AM_CPPLFLAGS would conflict)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1092 6046fb1f-dae2-0310-8472-869a43925389

commit 352be1bcc58f525c682060386d884ff2082ace45
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 1 08:48:59 2006 +0000

    Fix G++ 4.1 warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1091 6046fb1f-dae2-0310-8472-869a43925389

commit d3c2261cc8a2813e5db42e18bee137bb5287becb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 31 20:05:08 2006 +0000

    tun6_getName(): returns the tunnel interface name
    Will probably be useful if parsing /proc/dev/if_inet6
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1090 6046fb1f-dae2-0310-8472-869a43925389

commit 1d7b2a25e1cfe15856a828b3bce5c97062a4a1bf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 31 18:24:28 2006 +0000

    Make sure every file has a MIME type
    (at least, for non-ASCII file, this is needed for proper display within
    a web browser)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1089 6046fb1f-dae2-0310-8472-869a43925389

commit 8ad6e9d08c58bf8084d87dabe0e166e5837dc359
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 31 18:12:33 2006 +0000

    A whole bunch of missing svn:eol-style
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1088 6046fb1f-dae2-0310-8472-869a43925389

commit 636511bc9897bf224d4abc1c9336ab072467ea98
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 31 18:09:12 2006 +0000

    Uniformize / fix svn:keywords
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1087 6046fb1f-dae2-0310-8472-869a43925389

commit 48cab08f4a33577b58bb568c977eb300d2a28bbf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 31 18:02:25 2006 +0000

    Add a few useful registry exports for Windows XP
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1086 6046fb1f-dae2-0310-8472-869a43925389

commit 7e8324a42f427506adedfbb34ca959b1760fd0ca
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 31 09:33:37 2006 +0000

    One small step toward teredo server statistics
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1085 6046fb1f-dae2-0310-8472-869a43925389

commit 62bcf5793697bcddadcfe324ac46cd7560049802
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 30 16:53:32 2006 +0000

    Use curve quote when available
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1084 6046fb1f-dae2-0310-8472-869a43925389

commit 00dcfe72947190348f026784ec6acc088acb0af3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 30 16:50:32 2006 +0000

    Same as previous commits
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1083 6046fb1f-dae2-0310-8472-869a43925389

commit 4578f6b839aacf3654a3df9fdf810e0ad3d55091
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 30 15:48:13 2006 +0000

    More Unicode cosmetics
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1082 6046fb1f-dae2-0310-8472-869a43925389

commit 632cb4f764c06ee038ee26e92c6d9127eaa804cf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 30 13:56:31 2006 +0000

    Same as previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1081 6046fb1f-dae2-0310-8472-869a43925389

commit 0377d78e5ed9c369f9575ad58b5d7b656cc8384f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 30 13:51:05 2006 +0000

    Fix copyright string; add svn:mime-type for explicit charset
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1080 6046fb1f-dae2-0310-8472-869a43925389

commit 6d0602379b5d13165fbc4313111f680cd385769d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 30 12:32:13 2006 +0000

    Some extra Unicode characters
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1079 6046fb1f-dae2-0310-8472-869a43925389

commit d2b161ae29ae4cda2dca280e42533dea41d4602d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 30 12:19:41 2006 +0000

    - Document removal of --enable-miredo-chroot and addition of -t
    - Set svn:mime-type on some non-ASCII file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1078 6046fb1f-dae2-0310-8472-869a43925389

commit 4b92c8ff03e11e8ade3329cdb9c942de12ca864c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 30 11:33:08 2006 +0000

    Do not create chrootdir at install time as we have no default value anymore
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1077 6046fb1f-dae2-0310-8472-869a43925389

commit 879a19670c2dc4a974f351d685b86b5a8fc1d1b0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 30 11:32:03 2006 +0000

    svn:ignore update
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1076 6046fb1f-dae2-0310-8472-869a43925389

commit e7e641dd41a93ff5b86a040199940befc808a0f7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 30 11:30:42 2006 +0000

    - (Re?)introduce -t run-time option to specify chroot directory
    - Support --username resp. --chrootdir as -u resp. -t like radvd
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1075 6046fb1f-dae2-0310-8472-869a43925389

commit fd11cfcab4fa39553f86e1fb303e7d71506f8908
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Mar 29 17:23:06 2006 +0000

    - Restore misc/Makefile* so that we can dynamically include install prefix
      with sample Debian initscripts
    - Remove Mandrake initscripts from tarball as I do not maintain them anymore
      and they seems to trigger a bug in the build-system (make distcheck)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1074 6046fb1f-dae2-0310-8472-869a43925389

commit 4c6a9759ad4adab5d3439fe66a67b860dc61de00
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Mar 29 17:13:47 2006 +0000

    NetBSD compile fix as reported by Rui Paulo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1073 6046fb1f-dae2-0310-8472-869a43925389

commit 2f02a4cf63ceead52419230716a0a8470ee9b040
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Mar 29 13:01:54 2006 +0000

    Init scripts clean ups from Anand Kumria
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1072 6046fb1f-dae2-0310-8472-869a43925389

commit 7ce850d6da1564ff2afbf37ee23ed9b25bf64cc4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Mar 27 09:11:12 2006 +0000

    Fix miredo_capc
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1071 6046fb1f-dae2-0310-8472-869a43925389

commit 0a2dfce5df2b2e1d8dd4ea3c6b53a4b6f8a8c8bd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 23 21:34:00 2006 +0000

    Remove a bunch of *.m4 files that are no longer used
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1070 6046fb1f-dae2-0310-8472-869a43925389

commit d9c969f3dbe82d25cd41847ab95c53a7e878296c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 23 21:19:51 2006 +0000

    This is 0.8.2-trunk
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1069 6046fb1f-dae2-0310-8472-869a43925389

commit 9baa90f5b40679957747cc1db360f2a9f62e57aa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 23 21:17:49 2006 +0000

    ChangeLog for 0.8.1
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1067 6046fb1f-dae2-0310-8472-869a43925389

commit 032bb02b1cbe8fa31d285a76215b737762d0f08c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 23 21:16:37 2006 +0000

    Sync PO files for 0.8.1 release
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1066 6046fb1f-dae2-0310-8472-869a43925389

commit 3125fae6e58b5326836ddddc73e9df603c1268af
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 23 21:09:45 2006 +0000

    NEWS for upcoming 0.8.1 release
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1065 6046fb1f-dae2-0310-8472-869a43925389

commit b5fac578cc52c4d481059c80f1c10ed7194162c4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 23 21:09:00 2006 +0000

    Only accept ICMPv6 Unreachable Destination error packet
    as a replacement for an ICMPv6 Echo Reply during IPv6 direct
    connectivity check if the error packet source is the same as the
    embedded Echo Request destination, to avoid possible impersonation.
    
    Also perform a similar check for error packet destination and echo
    request source (though I can't think of any security issue there), just
    in case. A mismatch would be invalid here anyway, ie. only malicious
    users might ever emit such packets, AFAIK.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1064 6046fb1f-dae2-0310-8472-869a43925389

commit d79052ee741de9075f547b683935bba5c6cdd48b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 23 20:47:51 2006 +0000

    Yet another cosmetic fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1063 6046fb1f-dae2-0310-8472-869a43925389

commit f9608f9a1142da56c05720d6f561ca73ea293160
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 23 19:27:10 2006 +0000

    (Partially?) fix the administratively prohibited error
    relay detection work-around
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1062 6046fb1f-dae2-0310-8472-869a43925389

commit fd4b7e5de084562957950b30044fe4093e94afbb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 23 19:02:18 2006 +0000

    Cosmetics
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1061 6046fb1f-dae2-0310-8472-869a43925389

commit 6dc7ee1bb7bdfecd84bf73b45a4f47d5c95cf841
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 23 18:50:51 2006 +0000

    Cosmetics
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1060 6046fb1f-dae2-0310-8472-869a43925389

commit a94fd14427e58904e975f896a41da69284866d5e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 23 17:49:49 2006 +0000

    Fix libtun6 linking
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1059 6046fb1f-dae2-0310-8472-869a43925389

commit 19389563ad78f70f63f117fd94e203d3f2506081
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Mar 22 08:09:57 2006 +0000

    Rationalize *_LIBADD and *_LDADD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1058 6046fb1f-dae2-0310-8472-869a43925389

commit 7b3ea37e3e282428efbb4d926fbf3c4fe6770258
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Mar 20 17:58:30 2006 +0000

    Fix signal handling within miredo-server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1057 6046fb1f-dae2-0310-8472-869a43925389

commit 726f5379c32bbeee0a248975d862028ecc3c3ba5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Mar 20 17:51:14 2006 +0000

    libcap: add required CAP_KILL
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1056 6046fb1f-dae2-0310-8472-869a43925389

commit 849360509c3f2c45ba2ae56290624b045d08c350
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Mar 20 17:10:41 2006 +0000

    Attempt to fix miredo-server signal handling (needs testing)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1055 6046fb1f-dae2-0310-8472-869a43925389

commit 00a0ad7f87a181ac993856e6ce50dc8bf15450c3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Mar 20 17:03:59 2006 +0000

    Use pselect instead of pipe to handle signal properly
    --> simplifies signaling code quite a lot
    --> miredo-server is currently broken (cannot be stopped)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1054 6046fb1f-dae2-0310-8472-869a43925389

commit 03c6f51446d9a7ccd1ed3b912d6e63fc34071222
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Mar 20 14:40:08 2006 +0000

    Update translations
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1053 6046fb1f-dae2-0310-8472-869a43925389

commit 1445b19ab5f153aec2a511eab101005346f3b0a1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Mar 20 14:35:52 2006 +0000

    Error messages rationalization
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1052 6046fb1f-dae2-0310-8472-869a43925389

commit 2c0616b707a25774032422056da9d76853847f1b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Mar 20 14:21:04 2006 +0000

    Fix typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1051 6046fb1f-dae2-0310-8472-869a43925389

commit da105121bcb5b94782196bd16bc22c1d4c628403
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Mar 20 14:20:15 2006 +0000

    Use %s and strerror(errno) explicitly instead of %m
    --> will ease moving away from syslog() and kill icc warnings
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1050 6046fb1f-dae2-0310-8472-869a43925389

commit c7e4c67b93b86ade546885058e058aab6b8ac861
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Mar 20 14:18:20 2006 +0000

    Fix ICC warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1049 6046fb1f-dae2-0310-8472-869a43925389

commit 4eba000968e4a212fe582b8f5859c6de03b3226e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Mar 20 12:47:35 2006 +0000

    - Only create /var/run/miredo/ when chroot is enabled
      (it is no longer needed for the pidfile)
    - Never try to remove /var/run upon uninstall; it could bother other
      programs
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1048 6046fb1f-dae2-0310-8472-869a43925389

commit 16d09ebe6aa5c3449e5ea25f8571b4538b2b6021
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Mar 20 12:46:15 2006 +0000

    - BSD: set TUNSIFMODE to the appropriate value (IFF_BROADCAST)
      IFF_POINTOPOINT would render the tunnel unusable, probably because
      the route we insert have no “destination”
    - BSD: set TUNSLMODE when TUNSLMODE is supported and TUNSIFHEAD is not
      (may fix troubles on NetBSD 4.0, though I doubt it)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1047 6046fb1f-dae2-0310-8472-869a43925389

commit 816ed0ed48de5468d7009993f60f7ad2799f5222
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Mar 19 21:21:04 2006 +0000

    Our authoritative RFC - purposedly not included in tarball
    because of probably GPL-incompatible licensing terms
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1046 6046fb1f-dae2-0310-8472-869a43925389

commit 5ff4fb099cf07c88a41dfacb6c086cc3a8ab3738
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Mar 19 20:54:50 2006 +0000

    Add some comments
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1045 6046fb1f-dae2-0310-8472-869a43925389

commit 321a592b1fc8e645103e7868386f494505308b1d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Mar 19 16:29:30 2006 +0000

    Fix broken sa_len detection
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1044 6046fb1f-dae2-0310-8472-869a43925389

commit 359b6ff645ea160c0efd3dc8671869b0a6209942
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Mar 19 15:20:34 2006 +0000

    Set sin6_len when HAVE_SA_LEN is true
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1043 6046fb1f-dae2-0310-8472-869a43925389

commit 8b4653cc46017a19c0fe849272b8fb2847a95376
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Mar 19 15:09:00 2006 +0000

    Fix old $Id$ in ChangeLog
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1042 6046fb1f-dae2-0310-8472-869a43925389

commit 902764f5a2253d4a9abe621a361bb23e39ca6131
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Mar 19 14:31:02 2006 +0000

    Fix commented-out code
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1041 6046fb1f-dae2-0310-8472-869a43925389

commit e20388afaec9c2cfc6972479a5ee6a918d30848d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Mar 18 23:19:28 2006 +0000

    - include bootstrap within tarball
    - don't include files from admin/ explicitly;
      automake will take care of that better than I do
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1040 6046fb1f-dae2-0310-8472-869a43925389

commit 40d7c06fb81193702f419c972d4fdb0fe3be3a4f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Mar 18 23:15:06 2006 +0000

    Kill misc/Makefile.am and merge with top Makefile.am
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1039 6046fb1f-dae2-0310-8472-869a43925389

commit 590ccf353f0193fa1f376008346868b580837fb7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Mar 18 21:50:38 2006 +0000

    - Fix PID file locking when not running in the foreground, while not
      breaking foreground run (previous commits fixed one case while
      breaking the other). To achieve this, we perform a simple check
      before daemon(), while actually locking the file after daemon().
      Much like early calls of access(), this allows printing useful error
      messages before the program detaches, while not falling in the ToCToU
      trap, given we still perform atomic check & use after detaching.
      If an error occurs after detaching, we can no longer print an error,
      but we can still fail safe. Such a situation is a race condition and
      is unlikely to occur in front of good-faithed users.
    - Use O_NOFOLLOW if available when opening the pid file
      to avoid insecure file override (however, $(prefix)/var/run should
      not be writeable by non-trustworthy users)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1038 6046fb1f-dae2-0310-8472-869a43925389

commit 0c35aae5ed6bc6ea071128a4eaa94fa2ad3eed20
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Mar 18 20:12:20 2006 +0000

    Resync sockaddr.m4 with tcpreen
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1037 6046fb1f-dae2-0310-8472-869a43925389

commit 9937c43fcfd4bb6bfcbb3c242012a6c4440bfab4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Mar 18 20:08:46 2006 +0000

    Don't build in m4 as there is nothing to be built there
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1036 6046fb1f-dae2-0310-8472-869a43925389

commit 0e65f2ce8b2af44eec958a3788ab5a8126ac7c18
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 17 10:53:15 2006 +0000

    Update README:
     - some cleanup
     - NetBSD 4.0 tentative support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1035 6046fb1f-dae2-0310-8472-869a43925389

commit 67a90cd3e118f2014965b174c593a961fd1a13c6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 17 10:20:15 2006 +0000

    Link libraries against LTLIBINTL where appropriate
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1034 6046fb1f-dae2-0310-8472-869a43925389

commit d415db249606efc6e777e47f06c633739b25a835
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 17 10:18:56 2006 +0000

    BSD compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1033 6046fb1f-dae2-0310-8472-869a43925389

commit 1a7dfae3dafe7c28b8e778e27dd200f93d0ed964
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 16 13:02:57 2006 +0000

    teredo.via.ecp.fr -> teredo.remlab.net
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1032 6046fb1f-dae2-0310-8472-869a43925389

commit d2878598675560c801016dd988a556abb473766b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 16 12:17:16 2006 +0000

    - Don't set IFF_POINTOPOINT, as it is not a point-to-point tunnel
    - Remove IFF_RUNNING flag when the tunnel is brought down
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1031 6046fb1f-dae2-0310-8472-869a43925389

commit c582bdc353156606ad2ba1a8f0fc30c1c8b86bac
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 16 12:13:40 2006 +0000

    Cosmetics
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1030 6046fb1f-dae2-0310-8472-869a43925389

commit 45b9ac98d17d30e19cd2018479eb5a06c0bf93b7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 16 10:42:37 2006 +0000

    Add some functions __attribute__ where appropriate
    while trying to retain compatibility with non-gcc (non-icc either) compilers
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1029 6046fb1f-dae2-0310-8472-869a43925389

commit ab81bdbaab468333ebe0bf5a46df9e99f0683d1c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Mar 14 17:55:42 2006 +0000

    Use autopoint instead of gettextize
    so that we no longer need (so many) post-gettextize kludges
    and that we no longer have to hit enter manually
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1028 6046fb1f-dae2-0310-8472-869a43925389

commit 41fb56624bf7573173b30b335316cd4095427c4d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Mar 14 17:51:15 2006 +0000

    BSD thread safety fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1027 6046fb1f-dae2-0310-8472-869a43925389

commit f025348e597cbc526456dbfc9682e17d084702ca
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Mar 14 17:29:16 2006 +0000

    Added missing extern "C" qualifiers in functions definition
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1026 6046fb1f-dae2-0310-8472-869a43925389

commit 25e483a97fc5640327ddd3b55e2d24ee6ed1fa64
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Mar 14 07:51:18 2006 +0000

    Also check IPv6 stack availability within libtun6_diagnose
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1025 6046fb1f-dae2-0310-8472-869a43925389

commit 1ca2f282cda5525e5d81ecf3523f909c3738fc47
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 22:41:03 2006 +0000

    Fix assertion failure again *whistles*
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1024 6046fb1f-dae2-0310-8472-869a43925389

commit ed7cb259a903517814bd390c7b71a3ec5bd586a9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 22:37:51 2006 +0000

    Minimalistic implementation of --version and --help for checkconf
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1023 6046fb1f-dae2-0310-8472-869a43925389

commit 668eb7d6b6749857da3450f97d2b2832c7c5cbba
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 22:35:03 2006 +0000

    Cosmetic
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1022 6046fb1f-dae2-0310-8472-869a43925389

commit 955f89b817f0cea7aafa771925c0a1f33b724d25
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 22:24:06 2006 +0000

    Reorganize checkconf
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1021 6046fb1f-dae2-0310-8472-869a43925389

commit f23a9f41d9a9acf10ddfd5be7f73ceae96baa72b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 22:14:18 2006 +0000

    Probably fix probably broken linking of miredo-checkconf when libintl is not built-in
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1020 6046fb1f-dae2-0310-8472-869a43925389

commit 69d58e985a8bfeca01420fc88ef45d9020894e59
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 22:10:44 2006 +0000

    Now build shared library by default
    Only libtun6 is not forcefully static though
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1019 6046fb1f-dae2-0310-8472-869a43925389

commit 33c85019e93919c11a9a6fae69a0996f1acceb3d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 22:10:20 2006 +0000

    Fix HMAC test that was broken by libteredo_preinit API change
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1018 6046fb1f-dae2-0310-8472-869a43925389

commit d6345ee0b929ffaddf1cc3b07a789be3c7a05889
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 22:09:52 2006 +0000

    Force libteredo*.la to static libraries for now
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1017 6046fb1f-dae2-0310-8472-869a43925389

commit 46ea16a54fca6ef7589be2a2923e146dbc5e3200
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 22:09:08 2006 +0000

    Update translation for conf.cpp
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1016 6046fb1f-dae2-0310-8472-869a43925389

commit d7991ae76df6431774e3696905de720682cf0cbc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 22:07:47 2006 +0000

    Fix checkconf.cpp
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1015 6046fb1f-dae2-0310-8472-869a43925389

commit 0a8114bcc6b7a0b3fba98f08c7be49987c49bdbb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 22:05:49 2006 +0000

    A few asserts
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1014 6046fb1f-dae2-0310-8472-869a43925389

commit 39fb2a24bd2e0ddb659b5d4ecc3320789dcd2ea9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 21:51:21 2006 +0000

    - Polish configuration file test
    - Promote miredo-checkconf to a real installed binary
      instead of a test program
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1013 6046fb1f-dae2-0310-8472-869a43925389

commit 9fb8a896e76d34638cccc2e3ec1b086afe3086da
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 21:41:57 2006 +0000

    Use syslog() for configuration file error within miredo(-server)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1012 6046fb1f-dae2-0310-8472-869a43925389

commit 03c289b7959f200a5aed82555448c4ed1e7e13b0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 21:31:02 2006 +0000

    Use a virtual function for logging
    so that we don't assume syslog()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1011 6046fb1f-dae2-0310-8472-869a43925389

commit 8b8805460cc0a0b7ce56a4db017a1c78d74601b9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 17:00:54 2006 +0000

    Use no-exeext to simplify makefiles
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1010 6046fb1f-dae2-0310-8472-869a43925389

commit 2e9d6cd4fdb591a12d83b76915df72cfc52174fa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 16:57:32 2006 +0000

    Do not build gzip'd tarball - I only use bzip2 anyway
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1009 6046fb1f-dae2-0310-8472-869a43925389

commit 10219f70ab76ebc6c20ada614aa82f11c7ee952e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 14:25:33 2006 +0000

    Various spelling fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1008 6046fb1f-dae2-0310-8472-869a43925389

commit 587f016c66208981ab8398fda711bdce5a12bbb3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 14:24:54 2006 +0000

    Spelling mistake
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1007 6046fb1f-dae2-0310-8472-869a43925389

commit 1c9a4d74c9a98af22e0bd804863989ea1aae86c1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 13:49:16 2006 +0000

    #include <stdint.h> for uint_
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1006 6046fb1f-dae2-0310-8472-869a43925389

commit 42a8da54957e2069aa5a8ce174019b666e30c5f3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 13:47:23 2006 +0000

    #include <limits.h> when we use *_MAX constants
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1005 6046fb1f-dae2-0310-8472-869a43925389

commit 30dc2b6cf09014928687672b25bf60f3c737e0ba
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 13:33:38 2006 +0000

    Update copyright with --version
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1004 6046fb1f-dae2-0310-8472-869a43925389

commit 43fa3eb6221d89e32b5226a260b394b153aa419e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 12:54:37 2006 +0000

    Compile fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1003 6046fb1f-dae2-0310-8472-869a43925389

commit 6741637b5cd1c1dec63d7d8b4c87e3df9d1b4e4f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 12:50:37 2006 +0000

    Compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1002 6046fb1f-dae2-0310-8472-869a43925389

commit 7e82d1217f63856c04afb45f85801a3f7c6c3e29
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 12:48:27 2006 +0000

    - Fix broken design of libteredo_init/terminate
    - Some clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1001 6046fb1f-dae2-0310-8472-869a43925389

commit be8d6f1321123cee58b10a0e03d1df0eaac77af0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 10:30:47 2006 +0000

    Fix tun6.h installation path
    (this is going to annoy downstream packagers)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1000 6046fb1f-dae2-0310-8472-869a43925389

commit cf102be1e2754e2007a26e3d8fdb7b97dcb66f1a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Mar 10 10:17:01 2006 +0000

    - Define USE_TUNHEAD on NetBSD, in accordance with its package CVSweb
    - #ifdefs simplification
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@999 6046fb1f-dae2-0310-8472-869a43925389

commit 3c07b787565804bebec8c787584198d84620e372
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Mar 8 16:41:43 2006 +0000

    - Improve British english translation
    - Resync PO files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@998 6046fb1f-dae2-0310-8472-869a43925389

commit 274621b08ce0c4125dd5e0d8621a57acf0cb0ade
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Mar 8 09:35:41 2006 +0000

    Uniformize line spacing
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@997 6046fb1f-dae2-0310-8472-869a43925389

commit 3f59016206214ee86eed0b694c6db88a0981db71
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Mar 6 17:28:43 2006 +0000

    Cosmetic fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@996 6046fb1f-dae2-0310-8472-869a43925389

commit 1229d271fdb69da9c308655736e2bf381d4994b8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Mar 6 10:08:05 2006 +0000

    Convert libtun6, libteredo and libteredo-server to library-type gettext usage
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@995 6046fb1f-dae2-0310-8472-869a43925389

commit 364ed51787b563fe1ae28060ce1e575b77508bda
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Mar 4 10:16:53 2006 +0000

    Use libtool for libmiredo and some fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@994 6046fb1f-dae2-0310-8472-869a43925389

commit 92f81991538534f8d0784c1c295d2254963ef972
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Mar 4 10:12:14 2006 +0000

    Clean up libcap check
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@993 6046fb1f-dae2-0310-8472-869a43925389

commit 9425de4f22e2ebed5793fec3871979ff3d8df6e8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Mar 4 10:02:13 2006 +0000

    Clean up -lJudy check, only link libteredo.la against libJudy
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@992 6046fb1f-dae2-0310-8472-869a43925389

commit 000be9571326434d53c2a48fe34e054d95b65fbe
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Mar 4 09:47:39 2006 +0000

    use -no-undefined (might break BSD)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@991 6046fb1f-dae2-0310-8472-869a43925389

commit d259e309d7bf6a094928f52e1aaf0bb633a08f6d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Mar 4 09:46:58 2006 +0000

    Update provisional C API
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@990 6046fb1f-dae2-0310-8472-869a43925389

commit 554c98d65142902870dae37064443ffd9c256ea8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Feb 15 14:44:59 2006 +0000

    - Fix invalid free() on exit when specifying a server name
      from the command line
    - Fix strdup() failure detection (almost impossible bug)
    - Fix memory leak when libteredo_client_preinit() fails
      (which is to say when /dev/urandom cannot be opened)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@989 6046fb1f-dae2-0310-8472-869a43925389

commit ca4f63db5435b58ecacd236a855797d3fc6d63d5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Feb 3 19:03:29 2006 +0000

    All fixes for -Wextra
    (turns out it is good to find bugs such as the one fixed in [986].
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@988 6046fb1f-dae2-0310-8472-869a43925389

commit 1ff20e7757715fa9d502dbd70abea4d9be506b64
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Feb 3 19:01:13 2006 +0000

    This is trunk for release 0.8.1
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@987 6046fb1f-dae2-0310-8472-869a43925389

commit a41f19bafc3a4e9aa213b1db947ddd83435a6026
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Feb 3 18:09:04 2006 +0000

    Ensure expiry is set properly at startup.
    Depending on its initial undefined, it could prevent the nonce from being
    generated (thanks to -Wextra for finding that error).
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@986 6046fb1f-dae2-0310-8472-869a43925389

commit b60707a5126c231c885bca5acc1618595993b715
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 2 20:54:01 2006 +0000

    Update PO files and ChangeLog for 0.8.0
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@984 6046fb1f-dae2-0310-8472-869a43925389

commit 478309f88af971d15eb52cf7b2b90ce28ac447ec
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 2 20:51:28 2006 +0000

    Refer to 0.7.3 rather than 0.7.2 (which was cancelled)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@983 6046fb1f-dae2-0310-8472-869a43925389

commit c08e11115b5879c5977e6fbbe64ef9cdb04f298a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Feb 2 20:48:34 2006 +0000

    Refer to RFC 4380
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@982 6046fb1f-dae2-0310-8472-869a43925389

commit 76f690ecd7a41615acdc68e4d5e34cab4374b40f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 30 13:46:33 2006 +0000

    Fix tunneling driver on *BSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@973 6046fb1f-dae2-0310-8472-869a43925389

commit bc5922df10d56e7b0477c35cbfeb5db6af0d6e01
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 30 13:16:56 2006 +0000

    Fix test linking
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@972 6046fb1f-dae2-0310-8472-869a43925389

commit d31de60f91821ca79d2e3e2540e00221603d7f2b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 30 13:12:02 2006 +0000

    Fix shell equal comparisons
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@971 6046fb1f-dae2-0310-8472-869a43925389

commit fcc208e66186ef2cd1adfb7452f812de9b58130f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 30 12:45:52 2006 +0000

    Fix typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@970 6046fb1f-dae2-0310-8472-869a43925389

commit e575201a11d7c3d8f250da6c04ec46829fdd0046
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 29 21:32:57 2006 +0000

    Update NEWS
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@969 6046fb1f-dae2-0310-8472-869a43925389

commit 6a52ef1a48793813033deff892be7a2e7e7c8f0f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 29 18:06:22 2006 +0000

    svn:ignore updates
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@964 6046fb1f-dae2-0310-8472-869a43925389

commit 0fc72aed716b4762ea84550f0cbf3bc4a4c4779c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 29 18:04:03 2006 +0000

    Fix test linking
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@962 6046fb1f-dae2-0310-8472-869a43925389

commit 00e4121c247f5c2dded13079e3e82a27031bb94f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 29 17:59:46 2006 +0000

    Fix test linking on BSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@961 6046fb1f-dae2-0310-8472-869a43925389

commit c40614eb1b9e39dc81fe33e6df4ead37a4bd51b7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 29 17:54:58 2006 +0000

    Undo [959] and really fix compilation on BSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@960 6046fb1f-dae2-0310-8472-869a43925389

commit 496b4b3aeee3d2b84fd2c74e9795d106b6be7f3a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 29 17:54:07 2006 +0000

    Fix check and use syslog
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@959 6046fb1f-dae2-0310-8472-869a43925389

commit eae57bc1a63c8da356e3d4239b024d987eeb68a7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 29 17:43:00 2006 +0000

    FreeBSD compatibility hack
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@958 6046fb1f-dae2-0310-8472-869a43925389

commit 9d8e52234a5e950ba47f7903a68e2ee48c7dc7e3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 29 17:28:40 2006 +0000

    Fix --enable-debug logic
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@953 6046fb1f-dae2-0310-8472-869a43925389

commit d015f9edabe4e657412d178cc739073771849229
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 29 17:24:20 2006 +0000

    Another BSD fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@952 6046fb1f-dae2-0310-8472-869a43925389

commit 9e7c510049c582907ffea5257163c3aadc034a93
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 29 17:20:13 2006 +0000

    Another BSD fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@951 6046fb1f-dae2-0310-8472-869a43925389

commit 119185595b4d8e931995548b50b5f897dd42abad
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 29 17:10:11 2006 +0000

    Another FreeBSD compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@950 6046fb1f-dae2-0310-8472-869a43925389

commit 8da2e3d329f4a33894ec33bc9da4ef59a439e173
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 29 12:28:49 2006 +0000

    BSD compilation fix
    Bug reported by Richard Bejtlich from taosecurity.com
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@949 6046fb1f-dae2-0310-8472-869a43925389

commit 1719ce36b1340316a7cab4000a7689c78ee95d48
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 22 16:41:59 2006 +0000

    Sync PO files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@948 6046fb1f-dae2-0310-8472-869a43925389

commit ed4eb5b2660abe23241b09d996d28fb777b31d52
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 22 16:39:22 2006 +0000

    Define Teredo multicast discovery address as is now defined in
    http://www.iana.org/assignments/multicast-addresses
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@947 6046fb1f-dae2-0310-8472-869a43925389

commit 462ccf316ed97d53cdd16c0bff4b5da697389ef3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 18 18:52:58 2006 +0000

    Very trivial check for libtun6
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@946 6046fb1f-dae2-0310-8472-869a43925389

commit b1c6d766e29de56f2b3a490c87f2202d553c3af5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 18 18:25:38 2006 +0000

    News for 0.8.0
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@945 6046fb1f-dae2-0310-8472-869a43925389

commit e30f5219c91d7c78fc96bab98d9bf5443a69ac1a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 18 17:54:50 2006 +0000

    Return error value from privileged process in case of error
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@944 6046fb1f-dae2-0310-8472-869a43925389

commit fc59340dc74020aa81ee288a6ca6d8d9166eebd5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 18 09:13:10 2006 +0000

    Only try to write to /proc when adding an address succeeded
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@943 6046fb1f-dae2-0310-8472-869a43925389

commit 28617033185330c0c058a0eddd4bdc6eff9a3bbe
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 18 09:12:06 2006 +0000

    Fix /proc Linux-specific settings:
    they have to be done after an address is added, rather than after bringing up
    the tunnel interface
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@942 6046fb1f-dae2-0310-8472-869a43925389

commit 7305fe24fb010547cdb3e21df30470feff2f8a5c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 17 18:17:32 2006 +0000

    Remove big fat warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@941 6046fb1f-dae2-0310-8472-869a43925389

commit dc2b969550887ea8c3f59db792b61bf3a80abf80
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 17 16:31:11 2006 +0000

    Typo fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@940 6046fb1f-dae2-0310-8472-869a43925389

commit 3981cc5c4d6bdcaa81d68e8bd27982b0ce5fca68
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 17 16:30:22 2006 +0000

    Use 192.0.2.0/24 sample address space instead of my own server address
    in configuration sample
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@939 6046fb1f-dae2-0310-8472-869a43925389

commit 8c4b85cbe776b0b3bea164cecf217d4099351061
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 17 16:19:27 2006 +0000

    Update sample configurations with new Teredo prefix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@938 6046fb1f-dae2-0310-8472-869a43925389

commit f151ef5f2033cd802bd7ac667900477690684a4e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 17 16:09:56 2006 +0000

    At long last, use permanent Teredo prefix 2001:0000::/32
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@937 6046fb1f-dae2-0310-8472-869a43925389

commit 0125c52a6b0f0f19e45d79c415a0486e154c9dcf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 17 16:09:16 2006 +0000

    Bump version number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@936 6046fb1f-dae2-0310-8472-869a43925389

commit 48a5b301afa2caa782d2ae0b4ca4aec596037da1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 10 21:19:17 2006 +0000

    Update ChangeLog and NEWS for 0.7.1
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@934 6046fb1f-dae2-0310-8472-869a43925389

commit 1f79bcb99387c11c70e4032809f667cce165a0b9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 10 21:13:53 2006 +0000

    Resync PO files for 0.7.1
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@933 6046fb1f-dae2-0310-8472-869a43925389

commit 3425bebf1ba79975656bb170a9ef4311e327ac60
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 10 21:08:38 2006 +0000

    Allow as most 1 millions rather than 1 thousand entries in peer lists when Judy is used
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@932 6046fb1f-dae2-0310-8472-869a43925389

commit 3a4efbbc58e859fd45b3265351855bfe3ec44c06
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 8 21:03:48 2006 +0000

    Fix deadlock on exit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@931 6046fb1f-dae2-0310-8472-869a43925389

commit 399c3d320b8b0aeacb7877efee57f8df7c2eb2be
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 8 21:00:02 2006 +0000

    Convert teredo_peer to a C struct and save one pointer per peer
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@930 6046fb1f-dae2-0310-8472-869a43925389

commit d348d0edaaef7a1fd389042791cccba9e227e19a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 8 20:14:37 2006 +0000

    Remove unused debug message
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@929 6046fb1f-dae2-0310-8472-869a43925389

commit 27db36670a3f43403f4b5e221ba5de304990a308
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 8 20:09:22 2006 +0000

    Fix previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@928 6046fb1f-dae2-0310-8472-869a43925389

commit 30408ed6aa741da26594fad7d6d43471136706be
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 8 19:35:00 2006 +0000

    - Minimize lock time within GC (ie. do delete/free without lock)
    - Don't use pthread_cancel() against GC as it is not safe
      (fix crash with icc)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@927 6046fb1f-dae2-0310-8472-869a43925389

commit ebb362b94560dd4126375bd644903d87d35de342
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 8 19:08:38 2006 +0000

    Don't leak a condition and a mutex when pthread_create fail
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@926 6046fb1f-dae2-0310-8472-869a43925389

commit 1fddbecdab24ca5b6fd15fd286ef8ca026d7c10a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 8 19:07:11 2006 +0000

    Garbage collect reset peers list outside of critical section
    -> the list lock is held for a much shorter period of time
    
    The same should be done for the garbage collector thread
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@925 6046fb1f-dae2-0310-8472-869a43925389

commit a4ed0e8b71fd8a22db2958e7f684283ee1e1934d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 8 13:26:46 2006 +0000

    Fix race condition in GC
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@924 6046fb1f-dae2-0310-8472-869a43925389

commit 4fd7a5dd2370c83fe6d6820964e5c29a7de5d878
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 7 22:11:20 2006 +0000

    Resets peers list when client state changes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@923 6046fb1f-dae2-0310-8472-869a43925389

commit eded68bb55abd1de7150b537bdbd599ee102219a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 7 21:31:11 2006 +0000

    Export and test teredo_list_reset()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@922 6046fb1f-dae2-0310-8472-869a43925389

commit 5821f8a5595081f8ebf4bea8e6d36da12bb4e8c6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 7 21:19:14 2006 +0000

    Implement teredo_list_reset to reset a peers list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@921 6046fb1f-dae2-0310-8472-869a43925389

commit 0d83c33318e3dc6719cf111e0a92f5abab530b5b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 7 20:23:11 2006 +0000

    Handle peer list signal properly while the list is not empty
    (it should not happen at the moment, but will be needed to implement
    peers list manual emptying)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@920 6046fb1f-dae2-0310-8472-869a43925389

commit ccc9614414c4bec5d8f4264773a5c1baa7502917
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 7 10:57:42 2006 +0000

    ToDo updates
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@919 6046fb1f-dae2-0310-8472-869a43925389

commit 085322076b8035e5c455a5d27f8db37c06a32e09
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jan 6 09:45:41 2006 +0000

    - Also debug pthread_mutex_unlock()
    - Don't use syslog() for debugging
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@918 6046fb1f-dae2-0310-8472-869a43925389

commit 4bbb40769af9ba96dc3b7e420df8a8f18b21c604
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jan 5 22:14:54 2006 +0000

    - Uniformize/Fix time computation in peer list stress test
    - Compile tests as C99
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@917 6046fb1f-dae2-0310-8472-869a43925389

commit 13b167b28ea0ef4dda7b7b722d549d56a011d336
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jan 5 22:04:25 2006 +0000

    Preliminary news for upcoming 0.7.1
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@916 6046fb1f-dae2-0310-8472-869a43925389

commit 9a2d0b1b187fd8bc0eac5009725834fb6fc5b766
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jan 5 22:03:06 2006 +0000

    Use volatile qualifier for signal handler-altered variables
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@915 6046fb1f-dae2-0310-8472-869a43925389

commit 84d46a7c1c095fcf0a2abc62ad922b82e2880d0b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jan 5 17:57:59 2006 +0000

    Add configure option --enable-debug to enable debug code
    (that was previously compiled-in inconditionnaly)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@913 6046fb1f-dae2-0310-8472-869a43925389

commit 0348e61dea2134846cf88bea7a39ae111f3a365e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jan 5 13:14:01 2006 +0000

    Judy error (malloc) handling
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@912 6046fb1f-dae2-0310-8472-869a43925389

commit 4a05482ca8323310f1fac41cc3979865e61a95dd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jan 5 10:55:46 2006 +0000

    - Try to fix peer list deadlock
    - Clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@911 6046fb1f-dae2-0310-8472-869a43925389

commit 6d1625f17f748f75f4365917ebe153178f3a9a30
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 4 20:39:53 2006 +0000

    Use error-checking mutex in debug mode for peer list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@910 6046fb1f-dae2-0310-8472-869a43925389

commit 8cf586c9e70511e0547ac5d966e839bfb9fc730b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 3 21:42:48 2006 +0000

    Don't use identifier that confuse icc
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@909 6046fb1f-dae2-0310-8472-869a43925389

commit 80f37f31a2690bc0ae1bff8985f74b33419f7105
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 3 21:35:26 2006 +0000

    Expand $Id$
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@908 6046fb1f-dae2-0310-8472-869a43925389

commit 4ad29d26876553e3bf13c839423e1ca1459ca79e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 3 21:33:25 2006 +0000

    Don't expand $Id$ et al in ChangeLog
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@907 6046fb1f-dae2-0310-8472-869a43925389

commit 530d6c7ce219d83a05f537f8ee34aec05cc59934
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 3 21:32:10 2006 +0000

    No longer depend on a wrapper shell script for miredo-checkconf test
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@906 6046fb1f-dae2-0310-8472-869a43925389

commit 8d7dc6d112c91e3ab5d259610db924fd5f7de5e1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 3 20:41:46 2006 +0000

    Cosmetic + disabled debug messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@905 6046fb1f-dae2-0310-8472-869a43925389

commit cdec6af746e5a0eda49cf10db14c3d1afdd6e59e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 3 20:10:01 2006 +0000

    Remove IsClient() from client-less builds
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@904 6046fb1f-dae2-0310-8472-869a43925389

commit 8721e03958f183aa2a3994401a631ef15da87528
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 3 20:08:50 2006 +0000

    Avoid always true if() in client-less compilation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@903 6046fb1f-dae2-0310-8472-869a43925389

commit a4b771809f6042eef3c3d0e465305eada52b7917
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 3 20:03:51 2006 +0000

    C99 clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@902 6046fb1f-dae2-0310-8472-869a43925389

commit df64e306e464c73cf04ac8fbba85589cf6771105
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 3 18:11:58 2006 +0000

    Use C99 as standard explicitly
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@901 6046fb1f-dae2-0310-8472-869a43925389

commit 4c356b90fdf90f4673e948b7b617d1cc5691e3f2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 3 18:11:00 2006 +0000

    Cosmetic change - connectivity is still broken
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@900 6046fb1f-dae2-0310-8472-869a43925389

commit 701dacd25380a36b465b4257a4ecaed6d3015d5f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 2 21:27:02 2006 +0000

    Further attempt to completely solve connectivity regressions
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@899 6046fb1f-dae2-0310-8472-869a43925389

commit 5a29ede2364ce4d7b104285c9b20dd0f7782cae8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 2 20:29:55 2006 +0000

    Cosmetic fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@898 6046fb1f-dae2-0310-8472-869a43925389

commit e9c359f58b253d627791269d30328e9f9295f78e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 2 20:25:40 2006 +0000

    Fix connectivity regression introduced by IsValid()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@897 6046fb1f-dae2-0310-8472-869a43925389

commit eda6f29474f0755e71642c73ee3d715529c90dd0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 2 19:39:54 2006 +0000

    Attempt to fix various connectivity issues
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@896 6046fb1f-dae2-0310-8472-869a43925389

commit 77458b57b5123cd07d82c0f366ca01f23f101df3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 2 13:04:36 2006 +0000

    Remove a lot of debug messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@895 6046fb1f-dae2-0310-8472-869a43925389

commit c8fe1e4b0202b3d2471adf6bfee040e64195edc1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 2 13:01:03 2006 +0000

    - fix IsValid() check
    - don't call time() within TouchReceive()
    - add lots of temporary debug messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@894 6046fb1f-dae2-0310-8472-869a43925389

commit a44a8548c54a451a53693a7bc9af9d9d5ae1f150
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 2 11:13:33 2006 +0000

    Rewrite stress test to a fixed duration
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@893 6046fb1f-dae2-0310-8472-869a43925389

commit bb23a6da2bd07ed6bccd41fd9525ea998a60294b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 2 10:20:34 2006 +0000

    Fix regression when Judy is NOT used
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@892 6046fb1f-dae2-0310-8472-869a43925389

commit 8adf7fd7134abbc09669c8881b14c046fbc5cdde
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 2 10:02:42 2006 +0000

    Cosmetic fix for Judy check
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@891 6046fb1f-dae2-0310-8472-869a43925389

commit b173ad514d32b9af5b7434b208a44ed1126014b9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 2 09:33:54 2006 +0000

    Support for Judy dynamic arrays within peer list
    libteredo/miredo should finally be scalable
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@890 6046fb1f-dae2-0310-8472-869a43925389

commit a4eb319d979799ad54e0177471aa8df10fe6bf8f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 2 08:44:49 2006 +0000

    Add a stress test for peer list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@889 6046fb1f-dae2-0310-8472-869a43925389

commit 90cb943523a8948023265272a567b00f83226715
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 1 19:49:16 2006 +0000

    Remove obsolete TODO comments
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@888 6046fb1f-dae2-0310-8472-869a43925389

commit 44a75ece03a71a5259b86a9bb0369d3a4953c581
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 1 19:48:56 2006 +0000

    Err, rewrite previous Judy test so that the result is somehow
    exported at compile-time (shame on me)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@887 6046fb1f-dae2-0310-8472-869a43925389

commit 695478c7bfec5a9f9904a7537d7c0d8d2303b794
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 1 13:30:07 2006 +0000

    Check for Judy
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@886 6046fb1f-dae2-0310-8472-869a43925389

commit 4a9b56ea3d56cb7d4a834e7f51a7c32b097e53e6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 1 10:56:46 2006 +0000

    Handle the "safe" race condition for peer creation more properly
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@885 6046fb1f-dae2-0310-8472-869a43925389

commit 39d28888caaceedbe7b39905915742b6726a8053
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 31 18:38:11 2005 +0000

    Made my mind about source address filtering -> just don't do it
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@884 6046fb1f-dae2-0310-8472-869a43925389

commit 687245e7480cccaee9557708ebf16ccad1689f7d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 31 18:12:54 2005 +0000

    Fix previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@883 6046fb1f-dae2-0310-8472-869a43925389

commit 821b2078118bcb4ee84ebc76238a352ec2a962a1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 31 17:40:23 2005 +0000

    When transmitting packet, only accept a peer as trusted if the last
    transmission is under 30 seconds old, as specified
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@882 6046fb1f-dae2-0310-8472-869a43925389

commit 264560ac8783e6cb5a2f34e4af02b1e2dd97f10c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 31 13:44:39 2005 +0000

    Fix typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@881 6046fb1f-dae2-0310-8472-869a43925389

commit 34516ce9ec6d8648793ac8211202bb6f2bf35933
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 31 13:43:44 2005 +0000

    Update copyright date
    (rather late than never - year changing is a few hours :-) )
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@880 6046fb1f-dae2-0310-8472-869a43925389

commit c91868722059945f06befcdafb1d13bc0d09c833
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 31 13:39:45 2005 +0000

    Ensure we don't hold the state lock while calling EmitICMPv6Error(),
    so that said callback be reentrant.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@879 6046fb1f-dae2-0310-8472-869a43925389

commit 7ff79da3fd5e6be320d2303edfd1cd654acdb6a2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 31 13:35:05 2005 +0000

    Use rwlock instead of mutex for Teredo state
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@878 6046fb1f-dae2-0310-8472-869a43925389

commit 0002f0a6edc910a43e9f3da1dc72a12a230c9e05
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 31 13:17:19 2005 +0000

    Fix ping ("direct IPv6 connectivity test") timings
    and consequently improve ICMPv6 unreachable error generation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@877 6046fb1f-dae2-0310-8472-869a43925389

commit 1f088ac36813b2d04031573ceed327d60596a4c7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 31 13:01:01 2005 +0000

    Update and fix bubbles transmission timing according to draft 05
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@876 6046fb1f-dae2-0310-8472-869a43925389

commit 456caabd363f0c8cd92d0f3dc076e91854c5c7c5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 31 11:21:32 2005 +0000

    Repair bubbles and pings limitation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@875 6046fb1f-dae2-0310-8472-869a43925389

commit 5ba64d03038a0a8a92d5a2ded64edc6bd8c1c1d7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 30 21:25:52 2005 +0000

    Fix race condition in teredo_list_destroy
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@874 6046fb1f-dae2-0310-8472-869a43925389

commit 6eaae75d3f591e6550e2900e4fe46b2a6f46759f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 30 21:17:05 2005 +0000

    Working on upcoming version 0.7.1 (or more)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@873 6046fb1f-dae2-0310-8472-869a43925389

commit 9b60c970eb930aadf86168d46cf6d7eb336631d0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 30 21:16:25 2005 +0000

    One FIXME removed
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@872 6046fb1f-dae2-0310-8472-869a43925389

commit ec969e7e40402cbac4ffbe9db993f42abfb6854c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 30 21:15:02 2005 +0000

    Cache time() during peer list lookup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@871 6046fb1f-dae2-0310-8472-869a43925389

commit 26b0650d828ff57ac50a1f439b0b2d4755bf32c4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 30 20:57:48 2005 +0000

    Fix segmentation fault
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@870 6046fb1f-dae2-0310-8472-869a43925389

commit 2b503b9a0bdb25a79d4191875a3cb86eabf85935
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 30 20:51:11 2005 +0000

    Test garbage collection more thoroughly...
    and uncover a severe segmentation fault
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@869 6046fb1f-dae2-0310-8472-869a43925389

commit 6b77c7c2f4d10c45fbda51c28f8f548b8e872592
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 30 20:10:13 2005 +0000

    - Improved garbage collection
    - In-depth unit test for peers list and garbage collection
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@868 6046fb1f-dae2-0310-8472-869a43925389

commit 911313389f8b5e12e54ead38cc4acabd15d93216
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 30 16:12:53 2005 +0000

    Bleeding-edge peer list garbage collector
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@867 6046fb1f-dae2-0310-8472-869a43925389

commit 821344bbc92d1129e48c7653863c203a108ea21a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 29 19:33:12 2005 +0000

    Fix typo and justify text
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@866 6046fb1f-dae2-0310-8472-869a43925389

commit 49d40d77f0d9f26bbc534e940272bb9a952e7ef3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 29 16:45:01 2005 +0000

    Update PO version number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@865 6046fb1f-dae2-0310-8472-869a43925389

commit a31e2a4c111acbec55602155cc4f16ffe408f426
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 29 16:39:43 2005 +0000

    Given HMAC depends on MD5, it makes more sense to test MD5 first
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@864 6046fb1f-dae2-0310-8472-869a43925389

commit aad24173a4e34012930c4b68bb146026c36b1879
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 29 16:37:17 2005 +0000

    Cosmetic: New line before big fat warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@863 6046fb1f-dae2-0310-8472-869a43925389

commit 31b48d15e4af2692c2853fb14a34daff7155491b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 29 16:33:40 2005 +0000

    Fix and clean up server DNS resolution
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@862 6046fb1f-dae2-0310-8472-869a43925389

commit ea9a67d290a75ffb170ebf754186868d0c40aa41
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 29 11:45:10 2005 +0000

    Add a big fat notice about the Teredo draft status
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@861 6046fb1f-dae2-0310-8472-869a43925389

commit 4502c9fd26421fabef45f873226d2eaf86b8bdbf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 28 21:09:36 2005 +0000

    ChangeLog for 0.7.0
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@860 6046fb1f-dae2-0310-8472-869a43925389

commit b20b269bc122bdf9a0e708614aa4d7eeb55cd184
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 28 21:08:22 2005 +0000

    Sync PO files ever again
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@859 6046fb1f-dae2-0310-8472-869a43925389

commit e291407d727f2a00f322a38cb1b276ebea5c4008
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 28 21:08:07 2005 +0000

    Lots of changes in the upcoming release -> be version 0.7.0
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@858 6046fb1f-dae2-0310-8472-869a43925389

commit bda08acf7d54684f0d6cb7540d67b46e17d3326a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 28 20:02:02 2005 +0000

    Fix last known occurence of the state race condition (PingPeer())
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@857 6046fb1f-dae2-0310-8472-869a43925389

commit 9c5f73eb8080d2942a37e1609e61ff83267dbc72
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 28 19:56:43 2005 +0000

    Fix race condition as regard server IP
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@856 6046fb1f-dae2-0310-8472-869a43925389

commit b2431d0229ccadf0e49a81521dc5bd9dfad0bfb6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 28 19:54:36 2005 +0000

    - fix IsRelay & IsClient helpers
    - fix state race condition as regards cone flag
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@855 6046fb1f-dae2-0310-8472-869a43925389

commit 5e1e8782c742f25dbd538906dd8323b8341549b8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 28 19:51:11 2005 +0000

    Partially fix the Teredo state/maintenance race condition
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@854 6046fb1f-dae2-0310-8472-869a43925389

commit c1ee9772c8adc40740e4f60be7a2cd610bd716de
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 28 18:26:35 2005 +0000

    Minor clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@853 6046fb1f-dae2-0310-8472-869a43925389

commit 4defcf5e6d6435d716709bd5d77826a13a109fd5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 28 14:17:05 2005 +0000

    Always use locally provided v4global.h
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@852 6046fb1f-dae2-0310-8472-869a43925389

commit bdcad988fe5f9219d83cb6c85d0397e4ecbd7510
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 28 10:20:36 2005 +0000

    Don't overload Teredo prefix as a qualified or not indication
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@851 6046fb1f-dae2-0310-8472-869a43925389

commit bfe357ee0563f76a4640f8914135ce1394ae6376
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 18:09:12 2005 +0000

    Fix one sensible warning from icc
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@850 6046fb1f-dae2-0310-8472-869a43925389

commit 5b84038735f3df1647389b522b24c4204eb9e558
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 18:03:46 2005 +0000

    Update PO files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@849 6046fb1f-dae2-0310-8472-869a43925389

commit 74f4e55dc1f50bffd47b23346b396fbc4837769b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 17:58:00 2005 +0000

    Print start message in syslog
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@848 6046fb1f-dae2-0310-8472-869a43925389

commit c808ba281d43fccde2384f5ff8a01895050b0328
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 17:34:53 2005 +0000

    Document the fact that chroot got disabled by default
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@847 6046fb1f-dae2-0310-8472-869a43925389

commit d7ecc30ec44a837148294439b9102fb555253d27
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 17:34:27 2005 +0000

    Compile fix HMAC unit test
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@846 6046fb1f-dae2-0310-8472-869a43925389

commit 9884c6404b40ddf6596c0a29b78f5f281e6268aa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 17:32:26 2005 +0000

    Re-enable chroot by default when not compiling-in client support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@845 6046fb1f-dae2-0310-8472-869a43925389

commit 97861f9a68cffd4a1996ad6350dc8cddca34fce1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 17:29:07 2005 +0000

    Client-less compilation fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@844 6046fb1f-dae2-0310-8472-869a43925389

commit 5848de6b663438e89881a9fad93b4fd9fc1a5f64
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 17:23:19 2005 +0000

    Don't call NotifyDown() when the tunnel is already down
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@843 6046fb1f-dae2-0310-8472-869a43925389

commit 7c32a21651e7ed1d2eab290a32e2bca20d7f02c7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 17:17:10 2005 +0000

    Actually remove chroot by default
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@842 6046fb1f-dae2-0310-8472-869a43925389

commit e148eeddbdc3568894979c60607a2b9b74ee9b3d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 17:16:48 2005 +0000

    - Resolve Teredo server IP within maintenance procedure
    - No longer chroot by default (otherwise DNS resolution fails
      unless NSS is installed in the chroot)
    - Don't print bogus message telling the tunnel started when it stops
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@841 6046fb1f-dae2-0310-8472-869a43925389

commit d516008ab2091439f448a2dba5a2893f8685b3be
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 16:52:39 2005 +0000

    Fix O(1) memory leak
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@840 6046fb1f-dae2-0310-8472-869a43925389

commit 26466270020ab393b0d7a9568addcfded0a3fedb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 15:24:40 2005 +0000

    Remove 2nd server IP address from main relay code
    it is only required by the maintenance procedure
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@839 6046fb1f-dae2-0310-8472-869a43925389

commit 8652fec22b8c882232442e9087172a3f09a6f935
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 15:10:36 2005 +0000

    File list update
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@838 6046fb1f-dae2-0310-8472-869a43925389

commit 24106df1c63e7804ac94168caebe0b3a183725c5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 13:41:02 2005 +0000

    Maintain.cpp -> maintain.c
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@837 6046fb1f-dae2-0310-8472-869a43925389

commit 03b5844ed1246215f5dae175ee4e4c2daae12d7f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 13:30:24 2005 +0000

    Remove dependency of maintenance procedure on TeredoRelay
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@836 6046fb1f-dae2-0310-8472-869a43925389

commit e4a651c32f2151338816414be490360acd787303
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 12:21:48 2005 +0000

    Minor fix/clean up for server packet handling
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@835 6046fb1f-dae2-0310-8472-869a43925389

commit 7352b345d1912184423b41d7be9706a1e3d4b51e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 11:40:54 2005 +0000

    #include clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@834 6046fb1f-dae2-0310-8472-869a43925389

commit 590a04a372ca0d24de2d14c631c469c0d4697b1a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 11:33:12 2005 +0000

    Remove check that is always true
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@833 6046fb1f-dae2-0310-8472-869a43925389

commit aea71649fb313e04388acedac362961b0310e58c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 11:29:11 2005 +0000

    Clean up error handling within TeredoRelay::TeredoRelay
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@832 6046fb1f-dae2-0310-8472-869a43925389

commit 078024cfb90646bedc4e2062d431470815e0e7e1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 11:20:45 2005 +0000

    Hide teredo_maintenance structure within <maintain.cpp>
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@831 6046fb1f-dae2-0310-8472-869a43925389

commit 7afae6674cc2630d355aab55af2e31483df63d60
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 27 10:18:09 2005 +0000

    Remove one-line wrappers
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@830 6046fb1f-dae2-0310-8472-869a43925389

commit 6a1aa670ca06cf42b908d02164cdba62968abce8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 26 17:27:13 2005 +0000

    Determine endianess for MD5 hasher at configure time
    rather than run-time
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@829 6046fb1f-dae2-0310-8472-869a43925389

commit e7c490ba6a50ba3e3a2dc48113e95a6847302706
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 26 16:26:36 2005 +0000

    Remove libgcrypt for documentation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@828 6046fb1f-dae2-0310-8472-869a43925389

commit 43de3fb27e82a8fd51887b07e846e8f8d749cede
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 26 16:24:57 2005 +0000

    Cosmetic comment fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@827 6046fb1f-dae2-0310-8472-869a43925389

commit 88116051452bc6c83c19af3ee7a87f994d759fba
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 26 16:24:22 2005 +0000

    Remove libgcrypt checks
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@826 6046fb1f-dae2-0310-8472-869a43925389

commit ad116d5f7588c2db39b5d59977b92ff63bb75d59
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 26 16:23:36 2005 +0000

    Add provided MD5 hash unit test
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@825 6046fb1f-dae2-0310-8472-869a43925389

commit 8524070b1d4ddcf9dbdb22ce3024389f8c019ddc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 26 16:23:16 2005 +0000

    Use built-in MD5 hashing instead of external libgcrypt
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@824 6046fb1f-dae2-0310-8472-869a43925389

commit 5a5373d98953b4e1c55f43e64ee6e28561a192c9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 26 16:22:40 2005 +0000

    Add public domain MD5 hashing to replace bloated libgcrypt
    --Cet ligne, et les suivantes ci-dessous, seront ignorées--
    
    A    md5.c
    A    md5.h
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@823 6046fb1f-dae2-0310-8472-869a43925389

commit 59e58e20056378712b6a71c8a2268ed25f6d2907
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 24 11:33:26 2005 +0000

    Update documentation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@822 6046fb1f-dae2-0310-8472-869a43925389

commit 5288394edecd4b0ba65fb34fd0f182e1c1e7543a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 24 11:32:59 2005 +0000

    Resync PO files again
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@821 6046fb1f-dae2-0310-8472-869a43925389

commit 4b3a884a0fbe75fdc8d54e4ad37ba7749c55b77e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 24 11:25:18 2005 +0000

    Update svn:ignore
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@820 6046fb1f-dae2-0310-8472-869a43925389

commit 9a59e8317a0a82d87721234d0145ac32750ee20a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 24 11:24:17 2005 +0000

    Separate each tests
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@819 6046fb1f-dae2-0310-8472-869a43925389

commit e7d89e7a2a48c543452f074a419de0636706e431
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 24 11:17:19 2005 +0000

    Fix client-less compilation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@818 6046fb1f-dae2-0310-8472-869a43925389

commit 70ec19986ccfb87f176b9a24892cebd2e6f05d42
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 24 11:17:06 2005 +0000

    Update svn:ignore
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@817 6046fb1f-dae2-0310-8472-869a43925389

commit ce32456d98c21da33848d96acb61eb5500d92413
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 24 11:14:20 2005 +0000

    Move tests to a separate subdirectory
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@816 6046fb1f-dae2-0310-8472-869a43925389

commit 7749651fcc2ea8b615db25a302ea6481b0dab853
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 24 11:01:45 2005 +0000

    Add comment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@815 6046fb1f-dae2-0310-8472-869a43925389

commit 4d366c67d91c11920763733401b69032f2c3ddc1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 24 09:56:08 2005 +0000

    Re-enable HMAC test
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@814 6046fb1f-dae2-0310-8472-869a43925389

commit 7c4bfed021b8cf866c4383bf88bdbb2bcd381bb7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 24 09:55:49 2005 +0000

    Partial unit test for peer list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@813 6046fb1f-dae2-0310-8472-869a43925389

commit 847fcb26d6177b8fb70327bf8ceb5b15561c979a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 24 09:35:39 2005 +0000

    C linking to allow unit testing
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@812 6046fb1f-dae2-0310-8472-869a43925389

commit 7f5f0441f36dc0c8bfbd795d95b8aa1ca4c13a3a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 24 09:25:27 2005 +0000

    Browse peer list once rather than twice when allocating a new peer
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@811 6046fb1f-dae2-0310-8472-869a43925389

commit 5cc7f227252bb54453179b311dbfe5de3be8e76e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 24 09:16:55 2005 +0000

    Use new peer list API
    (though their could probably be some improvements)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@810 6046fb1f-dae2-0310-8472-869a43925389

commit 12b409ae0c28abf42b226c6ca09e66df677d374b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 23 20:54:55 2005 +0000

    Moves Teredo server IPv4 address check in packet reception
    (should do no harm, we'll see)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@809 6046fb1f-dae2-0310-8472-869a43925389

commit 19131c2e3b1561ed8e67e7de32ac73d248e7948f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 23 20:34:12 2005 +0000

    New peer list API (currently wrapped into the old one)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@808 6046fb1f-dae2-0310-8472-869a43925389

commit 022f4b97788a4851cbf995957581b0cb09bad912
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 23 16:57:24 2005 +0000

    Candidate C API for libteredo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@807 6046fb1f-dae2-0310-8472-869a43925389

commit ddd06b9c37c3b7d97a0e6a46cc07b97e91b24151
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 23 15:17:53 2005 +0000

    Separate peer class from relay class
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@806 6046fb1f-dae2-0310-8472-869a43925389

commit 95b627314b41cdbd1a92517f6a7d376cd256c581
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 23 09:11:37 2005 +0000

    Compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@805 6046fb1f-dae2-0310-8472-869a43925389

commit 622c4029bf3ce5bb3172c92de171c929fa81d33f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 23 09:03:04 2005 +0000

    client-less compilation fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@804 6046fb1f-dae2-0310-8472-869a43925389

commit 957998bd3afc1928b653eea831fc2dfae54398aa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 23 09:01:32 2005 +0000

    No longer get useless CAP_NET_ADMIN with miredo-server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@803 6046fb1f-dae2-0310-8472-869a43925389

commit ef154c59defc420b81314cc59f31a55926f9ba03
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 23 08:50:15 2005 +0000

    Localize error message at no additionnal translation cost
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@802 6046fb1f-dae2-0310-8472-869a43925389

commit 9535c9400823b3a4109f2b882fa779c81cbec3ca
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 23 08:49:37 2005 +0000

    Log messages as Teredo client connectivity goes up/down
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@801 6046fb1f-dae2-0310-8472-869a43925389

commit 8cd0328f9df870901d506279605a1adbaa54a2b0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 22 19:38:09 2005 +0000

    libtun6 is fairly stable -> remove further debug messages
    (also using syslog within a software library is not very clean)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@800 6046fb1f-dae2-0310-8472-869a43925389

commit cc6c0b4ce30c089df9b5e127cb158d8e6e55d51f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 22 19:29:31 2005 +0000

    Remove some debug messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@799 6046fb1f-dae2-0310-8472-869a43925389

commit 3a53619df9b005d80d901bc6dec4fe9c2ffc1ec6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 22 19:29:18 2005 +0000

    Update ToDo list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@798 6046fb1f-dae2-0310-8472-869a43925389

commit 38970cfd3f9ec7fe444278e6881f2115f6f9e4df
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 22 19:24:29 2005 +0000

    DEFAULT_TEREDO_PREFIX -> TEREDO_PREFIX
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@797 6046fb1f-dae2-0310-8472-869a43925389

commit 04de96ec42f225ce0543779c2e4e333f5660eff9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 22 19:14:57 2005 +0000

    Forgot to include one EXTRA file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@796 6046fb1f-dae2-0310-8472-869a43925389

commit cb662d64daec2ae408624a23323569a609896df5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 21 15:51:17 2005 +0000

    Prepare to remove teredo_maintenance from relay.h
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@795 6046fb1f-dae2-0310-8472-869a43925389

commit 717ce164642a0ebed6e8aa4fb767da30d970abe7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 21 15:48:47 2005 +0000

    Remove debug messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@794 6046fb1f-dae2-0310-8472-869a43925389

commit f9870c36d5c28879650156bf38f4da70d10851da
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 21 11:18:51 2005 +0000

    Minor fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@793 6046fb1f-dae2-0310-8472-869a43925389

commit 025fab2ea935f727932843f5206371a9ce5e48c8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 21 11:12:39 2005 +0000

    Advance maintenance conversion to C
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@792 6046fb1f-dae2-0310-8472-869a43925389

commit 28356d65334bec949d2588de38d4f61eead65450
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 21 10:54:15 2005 +0000

    Clean up struct teredo_packet
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@791 6046fb1f-dae2-0310-8472-869a43925389

commit a48bfb5dc5e9433c904d085c0a825da5af006b1a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 21 09:23:54 2005 +0000

    Fix client compilation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@790 6046fb1f-dae2-0310-8472-869a43925389

commit 1c5198d608fe74ac353ebbc2710d214391472340
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 21 09:22:40 2005 +0000

    Update POTFILES
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@789 6046fb1f-dae2-0310-8472-869a43925389

commit 1f1ef32eaec0c15198427298e55b0edb56067051
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 21 09:18:37 2005 +0000

    Remove redundant #include
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@788 6046fb1f-dae2-0310-8472-869a43925389

commit beb6182a3975a5e0d666ebe33571e8ae9fc506fe
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 21 09:14:33 2005 +0000

    packets.cpp -> packets.c
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@787 6046fb1f-dae2-0310-8472-869a43925389

commit afc6329f302a6426051a7d52cf9e166d047a3c23
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 21 09:10:15 2005 +0000

    Get rid of useless TeredoPacket wrapper class
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@786 6046fb1f-dae2-0310-8472-869a43925389

commit 6b3eeacea5a79514a34a5add8e0257ea3cec3519
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 20:20:21 2005 +0000

    Strings rationalization
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@785 6046fb1f-dae2-0310-8472-869a43925389

commit 06d85f6f23816f4f177dfd004496873121752ebc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 19:41:57 2005 +0000

    Really uniformize error message
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@784 6046fb1f-dae2-0310-8472-869a43925389

commit f2a558bd72f881367538c5ea7bccf41eb7c15d11
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 19:37:26 2005 +0000

    Remove redundant files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@783 6046fb1f-dae2-0310-8472-869a43925389

commit 21c0c07571ba76e836917b27cb85af0cde0df33b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 19:19:43 2005 +0000

    Get rid of pretty useless TeredoRelayUDP wrapper
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@782 6046fb1f-dae2-0310-8472-869a43925389

commit 22a7284f78861bc4a3caa356ceb1b4d7162368d7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 17:07:32 2005 +0000

    Use I/O vector when forwarding bubbles over UDP
    (also fix C version of UDP forwarding server code)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@781 6046fb1f-dae2-0310-8472-869a43925389

commit b351a8584c7a8d2b6513633bb910e1c3d3ae99e7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 16:27:20 2005 +0000

    Don't send unreachable message between bubbles/pings
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@780 6046fb1f-dae2-0310-8472-869a43925389

commit 4397096975cd079a8f7341731de1e63d35024f6f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 16:24:03 2005 +0000

    Fix SendPing return value
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@779 6046fb1f-dae2-0310-8472-869a43925389

commit ef5f6b5d39578ccc640ced38cd8d3d888c0b1dc4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 15:55:31 2005 +0000

    Fix comments
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@778 6046fb1f-dae2-0310-8472-869a43925389

commit 321c2f08bcaab9bc4a4bebacc91a2d2ef26bfe22
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 15:55:00 2005 +0000

    server code is now really in C
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@777 6046fb1f-dae2-0310-8472-869a43925389

commit 04563bfdfd828535dbdeeabcdf6f040ada73bc11
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 15:54:21 2005 +0000

    Update svn:ignore
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@776 6046fb1f-dae2-0310-8472-869a43925389

commit d7783262880b122509f03720ffd12284d8d8f10d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 15:50:03 2005 +0000

    Missing SVN properties
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@775 6046fb1f-dae2-0310-8472-869a43925389

commit ec9631a6d648eecdfdbbe60a75cdc753fc78b8c1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 15:49:35 2005 +0000

    C99 fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@774 6046fb1f-dae2-0310-8472-869a43925389

commit f09a436ce85f26812e6aa1d61c8974dbf5f49ace
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 15:36:58 2005 +0000

    Make valgrind even more happy
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@773 6046fb1f-dae2-0310-8472-869a43925389

commit 4801a17e44f88ab86333743b564e8327da68a758
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 15:29:42 2005 +0000

    Make valgrind happier
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@772 6046fb1f-dae2-0310-8472-869a43925389

commit 42c9d689479f78f5b61032a8d54161638e28acf9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 15:27:18 2005 +0000

    Fix missing initialization
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@771 6046fb1f-dae2-0310-8472-869a43925389

commit ab4bd4d339a5e151f6a85ab19008277ae35b68eb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 15:22:14 2005 +0000

    - send Router Advertisement as an I/O vector to avoid memcpy()s
    - uniformize error message
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@770 6046fb1f-dae2-0310-8472-869a43925389

commit 128b0b061e5d455930b4c7a730039fcfaa2b80e9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 15:20:33 2005 +0000

    Fix return value of libteredo_server_check
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@769 6046fb1f-dae2-0310-8472-869a43925389

commit 33f8e3b9fc2011656c48ee65b5467a71fd454452
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 15:02:01 2005 +0000

    Fix use of uninitalized value
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@768 6046fb1f-dae2-0310-8472-869a43925389

commit 5fe19f426db4d31e802c9024eb1f1bca40cc4219
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 14:59:41 2005 +0000

    Advance server conversion to C
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@767 6046fb1f-dae2-0310-8472-869a43925389

commit 2354072dde6d79083200770b6b5678e4b5d88431
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 12:57:18 2005 +0000

    Remove dead code
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@766 6046fb1f-dae2-0310-8472-869a43925389

commit 1ea684a389e826dc8f2f29d271203d1945305295
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 11:27:05 2005 +0000

    Update files list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@765 6046fb1f-dae2-0310-8472-869a43925389

commit 582f190baf4ad6dc87fed39f2b2440a8565473ba
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 11:13:47 2005 +0000

    - Implement yet-to-be-used teredo_sendv() function to send Teredo packets
      as I/O vectors.
    - Move private stuff from <libteredo/teredo.h> to libteredo/teredo-udp.h
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@764 6046fb1f-dae2-0310-8472-869a43925389

commit 72adf5d5c35e3883b3e01541e5a77ff8d02fb4ca
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 10:37:05 2005 +0000

    Use struct teredo_packet instead of class TeredoPacket in server code
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@763 6046fb1f-dae2-0310-8472-869a43925389

commit efe381c90377ee74a23e05cc6be775ecb1afef8a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 10:08:28 2005 +0000

    Remove redumdant file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@762 6046fb1f-dae2-0310-8472-869a43925389

commit 6ac450f93196748505a1529b6f60b5da1ed8a94e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 20 10:07:26 2005 +0000

    Convert Teredo packet reception code to C
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@761 6046fb1f-dae2-0310-8472-869a43925389

commit ff5bbfe12938dbf40c8f07c3982d15f677b1a004
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 19 11:16:34 2005 +0000

    Unit test for HMAC procedures
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@760 6046fb1f-dae2-0310-8472-869a43925389

commit 17cbb5d81e3ed3cc68b1fc597e1d1d4b9496da8b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 19 11:15:14 2005 +0000

    Modify HMAC in echo requests so that they put a PID in ICMPv6 ID
    and some sort of sequence in ICMPv6 SEQ
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@759 6046fb1f-dae2-0310-8472-869a43925389

commit 9e55fff32b4bc5117104204c68fdb4ba2cf2131c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 19 11:14:14 2005 +0000

    Minor cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@758 6046fb1f-dae2-0310-8472-869a43925389

commit 9ea503c0f7d8ddea30e13490d09e5acfbcc1cb84
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 11 11:16:50 2005 +0000

    Bump trunk to 0.6.0
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@754 6046fb1f-dae2-0310-8472-869a43925389

commit 9579a49bfc6af95abdbb693819dd2a884777efea
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 11 11:13:34 2005 +0000

    Add regression test for t6cmp()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@753 6046fb1f-dae2-0310-8472-869a43925389

commit 6488739fa3b21d8d46fd8c634a150442f99a5d8b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 11 11:01:10 2005 +0000

    Export t6cmp()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@752 6046fb1f-dae2-0310-8472-869a43925389

commit c382b8715cc14026c516534455f9ec830a124601
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 11 11:00:39 2005 +0000

    Additionnal news
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@751 6046fb1f-dae2-0310-8472-869a43925389

commit 936a8b20295b5a1b567f90a094213ea0741da73e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 11 10:29:07 2005 +0000

    Fix severe bug in t6cmp that would basically consider IPv6 addresses as
    equal as soon as either of their four double-words are equal
    (and in the case of Teredo tunneling... every body has the first double
    word equal)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@747 6046fb1f-dae2-0310-8472-869a43925389

commit 47adccb48fcda149c342926f7436d58222059459
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 11 10:07:36 2005 +0000

    Miredo also needs CAP_NET_RAW now
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@746 6046fb1f-dae2-0310-8472-869a43925389

commit ac6afddafcccf5501e7ee2d7442a66c87515b300
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 11 09:36:13 2005 +0000

    Implement emitting of ICMPv6 errors via an ICMPv6 socket rather than the
    Teredo tunnel - this allows the use of kernel checksumming and of kernel
    source address selection (very useful for Teredo relays)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@745 6046fb1f-dae2-0310-8472-869a43925389

commit 15c3ff575f6732922ad6ccb646fa7ee097b1723c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 11 09:21:06 2005 +0000

    Use a new callback to emit ICMPv6 error messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@744 6046fb1f-dae2-0310-8472-869a43925389

commit bbc3ccfc529c46bb74a494da275a702a9df1f731
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 10 15:52:19 2005 +0000

    TeredoRelay::SendUnreach should not return a value
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@743 6046fb1f-dae2-0310-8472-869a43925389

commit 7666f64dae8f77634571c8fad953985ca3fea1bd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 10 15:41:34 2005 +0000

    Support building ICMPv6 errors as well as ICMPv6/IPv6 errors
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@742 6046fb1f-dae2-0310-8472-869a43925389

commit 61c605f520ca1f473f7400712d15cc02384647f5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 10 14:25:10 2005 +0000

    (I|Dei)nitHMAC needs no longer be called from TeredoRelay
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@741 6046fb1f-dae2-0310-8472-869a43925389

commit 271a8f784ace0d6ed5734453f4f0ee30550702b8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 10 14:23:44 2005 +0000

    Hide libteredo's NonceGenerator from miredo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@740 6046fb1f-dae2-0310-8472-869a43925389

commit b100999f17901f24c4f111f9de321f7326a826fc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Nov 27 16:44:25 2005 +0000

    Mention security fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@739 6046fb1f-dae2-0310-8472-869a43925389

commit 47cd57b95186984e4ad050937d5d0b73eef42cba
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Nov 27 16:42:17 2005 +0000

    Fix loop
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@738 6046fb1f-dae2-0310-8472-869a43925389

commit 781c025265381cb521214c3cf746ac768ebb980c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Nov 27 09:46:13 2005 +0000

    Remove bogus line of code that should have been removed
    in the previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@737 6046fb1f-dae2-0310-8472-869a43925389

commit bc51276b9f8a8c3bf91126292095eea6b103eb86
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Nov 27 09:37:32 2005 +0000

    Avoid infinite loop in previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@736 6046fb1f-dae2-0310-8472-869a43925389

commit 643258f9c58a8a2e9e1bbbc8106bdece31a8f716
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Nov 27 09:31:13 2005 +0000

    Security fix : ignore ICMP/ICMPv6 errors returned from sendto()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@735 6046fb1f-dae2-0310-8472-869a43925389

commit 509cf54eb6224f20a3e1432c1ef731111f6dc895
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 26 21:19:36 2005 +0000

    Update documentation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@734 6046fb1f-dae2-0310-8472-869a43925389

commit 499b9bcab8cb87d1aac3818e5743261dfe3059ce
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 26 20:42:48 2005 +0000

    Update PO files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@733 6046fb1f-dae2-0310-8472-869a43925389

commit 6112751c564ea53b5f0e2f637edde7e006b61559
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 26 20:39:29 2005 +0000

    Remove debug message yet another time
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@732 6046fb1f-dae2-0310-8472-869a43925389

commit d44f93494cbeb8051e129b8ddb996ede1b6e934c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 26 20:38:53 2005 +0000

    Re-implement inter-bubbles and inter-pings 2-seconds delay
    (without increasing the TeredoRelay::peer class size)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@731 6046fb1f-dae2-0310-8472-869a43925389

commit 793af19b9e60b3f495fc702742982cf301626aca
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 26 17:28:38 2005 +0000

    Remove bogus debug message
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@730 6046fb1f-dae2-0310-8472-869a43925389

commit 393fdafff3371c769e1105bcd7d2e41ca8d5f6c4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 26 17:28:11 2005 +0000

    Reworked peer list struct alignment : size down to 40 bytes from 44 bytes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@729 6046fb1f-dae2-0310-8472-869a43925389

commit f8fd26833e2820d18ab18156167613f7767171b4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 26 17:12:02 2005 +0000

    Use time-dependant HMAC-MD5 for direct IPv6 connectivity tests
    instead of pseudorandom nonce from the kernel's entropy pool
    (requires libgcrypt)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@728 6046fb1f-dae2-0310-8472-869a43925389

commit 6b0ad45ba46ff903d86317e1cd852a068fe96918
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 26 17:09:28 2005 +0000

    Ignore admin/compile which is now required
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@727 6046fb1f-dae2-0310-8472-869a43925389

commit 529218dba2d987e57d50ce0c6b51e9d8619bb46e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 26 17:05:44 2005 +0000

    Look for libgcrypt, and fail if client support is requested without it
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@726 6046fb1f-dae2-0310-8472-869a43925389

commit 42ab85d086b10cc029b8589d8233471cd02b3b9d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 26 11:00:32 2005 +0000

    Fix libtun6 dependance (regression introduced while libtoolizing libtun6)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@725 6046fb1f-dae2-0310-8472-869a43925389

commit e25450a626008d0a9854b2e2306511ac4f674d19
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 26 10:57:33 2005 +0000

    - Update PO files
    - Add British english localization
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@724 6046fb1f-dae2-0310-8472-869a43925389

commit 2b3e401cb7eeca6dad54b21e98af5cae1b84274f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 26 10:46:02 2005 +0000

    Handle SIGSTOP, CPU starvation and software suspend properly
    in maintenance procedure, by resynching the timer if time drifted too much
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@723 6046fb1f-dae2-0310-8472-869a43925389

commit 400571808792e267698fcf28ec93eb013e6d0578
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Nov 25 23:33:40 2005 +0000

    Libtoolize libtun6
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@722 6046fb1f-dae2-0310-8472-869a43925389

commit d55a2874c12a0baa3795faedf028bcc0b5aefc20
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Nov 25 23:30:49 2005 +0000

    Defaults to static libraries for now
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@721 6046fb1f-dae2-0310-8472-869a43925389

commit 99e1a5f6c2e23968abab4f4cc83d642a6d105ca7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Nov 25 23:30:03 2005 +0000

    Make gcc -Wextra happier
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@720 6046fb1f-dae2-0310-8472-869a43925389

commit 81d3452d65098e703d16fbf11064ad35a178354d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Nov 25 23:28:38 2005 +0000

    Refactor maintenance procedure
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@719 6046fb1f-dae2-0310-8472-869a43925389

commit 07ee2b5b94a781b0a3230f17a56e02620a896872
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Nov 25 19:34:04 2005 +0000

    Extra compiler warnings fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@718 6046fb1f-dae2-0310-8472-869a43925389

commit f37a0af75e1169b39f2b6cf1a3b26d186f3da5ee
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Nov 20 16:32:44 2005 +0000

    Support Linux kernel >= 2.6.9 rather than >= 2.6.0
    because of the harmful on-link assumption in version 2.6.8 and older.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@717 6046fb1f-dae2-0310-8472-869a43925389

commit 0ed39e8854dc0e9dc63043e33355feae2ad65f4c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Nov 20 15:58:49 2005 +0000

    Rewritten (simplified, likely fastened) packet queueing
    (-> peers list item down from 52 to 44 bytes)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@716 6046fb1f-dae2-0310-8472-869a43925389

commit e66333bb33c5ab9e468204c2204422cef2d306b2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Nov 20 13:35:38 2005 +0000

    Fix copyright
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@715 6046fb1f-dae2-0310-8472-869a43925389

commit 23dd5bd7a8b5acf4c8798b57affaa28cdafc0625
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Nov 20 10:44:13 2005 +0000

    Configurable ICMPv6 error rate limiting
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@714 6046fb1f-dae2-0310-8472-869a43925389

commit 29dffecda2604f44e281a19dfad25aaeab1443cf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 19 19:01:20 2005 +0000

    Use C style comments
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@713 6046fb1f-dae2-0310-8472-869a43925389

commit 77ab03af9b20cb78f920e0b3462e6d3b28e455c0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 19 18:56:35 2005 +0000

    Fix C conversion of BSD-specific code
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@712 6046fb1f-dae2-0310-8472-869a43925389

commit 21a8b075e3a1d7f6dc89e364ef49ef07e4a9010c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 19 18:49:36 2005 +0000

    Fix libtun6 files list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@711 6046fb1f-dae2-0310-8472-869a43925389

commit 5ab55b4644e7a8a7e695ea81360b0b766219d0df
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 19 18:49:05 2005 +0000

    Update version number and new features list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@710 6046fb1f-dae2-0310-8472-869a43925389

commit 8a80a744a42b5920e08f9e184a3798a9852f2424
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 19 18:19:41 2005 +0000

    - Fix previous commit (was sending duplicate packets in some cases)
    - Emit ICMPv6 Address Unreachable when a peer Teredo client does not respond
      (much like when an other node on the same Ethernet segment does not reply
       to ICMPv6 Neighbor Discovery)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@709 6046fb1f-dae2-0310-8472-869a43925389

commit 8a422b85a3ddefe69fe18da13567cb7300229287
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 19 17:44:00 2005 +0000

    - emit ICMPv6 Address Unreachable when direct connectivity check fails
    - emit Address Unreachable rather than No Route when trying to send
      packet toward non-Teredo nodes from a Teredo relay
    - clean up ICMPv6 packets generation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@708 6046fb1f-dae2-0310-8472-869a43925389

commit 236f0258782884f4e63383e9439e14e50c510570
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 19 16:57:42 2005 +0000

    New todo items
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@707 6046fb1f-dae2-0310-8472-869a43925389

commit 0b6bbbd650449f54cb0764a43c88fcb1dbc508ab
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 19 16:57:28 2005 +0000

    Cosmetic
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@706 6046fb1f-dae2-0310-8472-869a43925389

commit 944d021c68408bebac3149f224a4ef5a629b6eea
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 19 11:15:11 2005 +0000

    Remove superfluous gettext.h check
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@704 6046fb1f-dae2-0310-8472-869a43925389

commit 361b287d9e67eaf795e193e8dc3f1921209dfb12
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 19 10:31:06 2005 +0000

    conversion to C
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@703 6046fb1f-dae2-0310-8472-869a43925389

commit 710f8a151ea1ee92ee23d7b2f54ff4707c22b65b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Nov 18 20:43:37 2005 +0000

    Rewritten libtun6 in C99
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@702 6046fb1f-dae2-0310-8472-869a43925389

commit 92d1cbbbf3f011fbe253a611f4708a1fc96ddf7e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Nov 16 17:16:14 2005 +0000

    Add major bugfix to the todo list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@701 6046fb1f-dae2-0310-8472-869a43925389

commit 57d6527b42a061f07239ce1b3cda70f07886b579
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Nov 16 17:15:54 2005 +0000

    Fix comment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@700 6046fb1f-dae2-0310-8472-869a43925389

commit 64af6e80e1702db1f32adbb289632780fe0de1bd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 12 16:53:35 2005 +0000

    check for libtool properly
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@699 6046fb1f-dae2-0310-8472-869a43925389

commit a4eeeba32031bba39238a1478c222013d13f229f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 12 16:08:37 2005 +0000

    Bump version number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@698 6046fb1f-dae2-0310-8472-869a43925389

commit 7eabe6995a715b5a5a423296d26f4c238400f844
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Nov 10 19:43:33 2005 +0000

    ChangeLog for 0.5.4
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@696 6046fb1f-dae2-0310-8472-869a43925389

commit d4b600de2795677fa74ecad057b0a9ffcb8fd556
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Nov 10 17:48:48 2005 +0000

    - Resync PO files
    - Nice quotes for English language
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@695 6046fb1f-dae2-0310-8472-869a43925389

commit b4265db382476c692f12411320d4c780dfb58d33
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Nov 10 17:47:29 2005 +0000

    Fix error message
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@694 6046fb1f-dae2-0310-8472-869a43925389

commit a87a5a45dfeac7042687940e7233d9b72732191b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Nov 10 17:23:57 2005 +0000

    - Update French PO
    - Add English PO for non-ASCII characters support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@693 6046fb1f-dae2-0310-8472-869a43925389

commit b0db9311e161943c98f95e86aec39e47b50f9cfb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Nov 10 17:23:07 2005 +0000

    Translate anything that can be in --version
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@692 6046fb1f-dae2-0310-8472-869a43925389

commit 620fc06973130e26c0eb9f84653f3c6018f49d84
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Nov 10 17:22:28 2005 +0000

    Update documentation for 0.5.4
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@691 6046fb1f-dae2-0310-8472-869a43925389

commit 263adc0e90e6a426e855d3420854fff4b7812797
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Nov 9 12:33:44 2005 +0000

    Fix client to client peer listing
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@690 6046fb1f-dae2-0310-8472-869a43925389

commit 9e4230f4d62a0760eea6e3a3548ab1c232230af3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 22 16:58:50 2005 +0000

    - Minor clean up
    - Fix gallicism
    - Retry qualification every 2 minutes rather than 50 seconds
      when the server is completely unreachable
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@689 6046fb1f-dae2-0310-8472-869a43925389

commit 198827c42509b9e0271a9b033007131f43f5b4cf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 22 15:27:00 2005 +0000

    Increment version number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@688 6046fb1f-dae2-0310-8472-869a43925389

commit 7caa7deda9656698d822955a663bb3263d6065dd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 22 15:24:50 2005 +0000

    two memcpy()s become one
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@686 6046fb1f-dae2-0310-8472-869a43925389

commit c09cf02a321cf4369b003f462d1e2b34859e5dfc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 9 16:13:24 2005 +0000

    ChangeLog for 0.5.3
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@685 6046fb1f-dae2-0310-8472-869a43925389

commit 5f0bd1122290719713c207d093daa86a97979d48
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 9 16:12:25 2005 +0000

    PO files sync
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@684 6046fb1f-dae2-0310-8472-869a43925389

commit 02ded827411056435c36d44bee71043a25fc40ce
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 9 16:12:08 2005 +0000

    Include test_conf.sh in tarball
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@683 6046fb1f-dae2-0310-8472-869a43925389

commit f33d29b4d12e80e660d093c54f5de287c8eda8b0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 9 16:06:17 2005 +0000

    Prepare 0.5.3 release
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@682 6046fb1f-dae2-0310-8472-869a43925389

commit 1c8d799a8c40251bb22b046376b41ef87c9970c5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Sep 9 14:50:35 2005 +0000

    Commoditize ICMPv6 checksumming
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@681 6046fb1f-dae2-0310-8472-869a43925389

commit 263332c31f6798ea2f76a39fa790d7e74492c42b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Sep 5 19:21:55 2005 +0000

    Ignore malformatted prefix option in received Router Advertisement
    (contrary to the fix in 0.5.0 and 0.4.3, this one cannot result in any
     malicious use, not even reading "undefined" memory)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@680 6046fb1f-dae2-0310-8472-869a43925389

commit a93de2a7d5f8e89487b72385d5b6c4d0a433f4c7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 3 06:44:08 2005 +0000

    PO Updates
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@679 6046fb1f-dae2-0310-8472-869a43925389

commit 29fb4e825d250a1163d08a99c4358990580697bb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 3 06:43:36 2005 +0000

    Partial strings rationalization
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@678 6046fb1f-dae2-0310-8472-869a43925389

commit 668121a9f97dddf962e372e2714045b5e0cbfc83
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 3 06:43:10 2005 +0000

    Improved ICMPv6 error generation rules
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@677 6046fb1f-dae2-0310-8472-869a43925389

commit c04e52228c1cb683044c1776f61e43f07a6370aa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 3 06:42:40 2005 +0000

    Remove useless (=never trigerred) check
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@676 6046fb1f-dae2-0310-8472-869a43925389

commit 1aed2407042994af2a1d67caa2143f4fdf0e2598
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 28 14:56:18 2005 +0000

    Fix text - binreloc is disabled by default
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@675 6046fb1f-dae2-0310-8472-869a43925389

commit 362cc59c743bc1e8bdb0095299f9b0d35acfd912
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 28 14:29:37 2005 +0000

    Fix gettext.h - it's a pity we can't use the official one as is
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@674 6046fb1f-dae2-0310-8472-869a43925389

commit af302b189cf591b8eaf02ad266c487e7b43df8a8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 28 14:19:16 2005 +0000

    Disable binreloc by default because it breaks cross-compilation
    (complaints should be addressed to the binreloc maintainer
     for using AC_CHECK_FILE without checking whether cross-compilation is
     in effect)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@673 6046fb1f-dae2-0310-8472-869a43925389

commit 614a6a7202829f50c5b488b2177ecaa0dbf1d500
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 28 07:23:47 2005 +0000

    Untested kFreeBSD fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@672 6046fb1f-dae2-0310-8472-869a43925389

commit 47fcea3ac585b60ae18708b52384dfc0191cd3fc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 27 07:45:16 2005 +0000

    Basic regression test for config parsing
    should be improved
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@671 6046fb1f-dae2-0310-8472-869a43925389

commit 5ee644efd31d2caacfd70d0bac4b54a7853d0ba5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 25 15:39:05 2005 +0000

    --disable-teredo-client compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@670 6046fb1f-dae2-0310-8472-869a43925389

commit 3f9896851a8c09275a671ef6f435165cd8b20f8f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 25 15:38:15 2005 +0000

    Various optimization and some clean up.
    Most noticeable change : per-peer structure is down from 80 to 52 bytes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@669 6046fb1f-dae2-0310-8472-869a43925389

commit 1c73b087d502b251ab3209848c8dbd49376ff9dd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 25 15:36:27 2005 +0000

    Bump version number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@668 6046fb1f-dae2-0310-8472-869a43925389

commit da0dba50345875be34069cae0519fab774cbdfe6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 23 18:27:26 2005 +0000

    - Suppressed a bunch of gettimeofday
    - Really finally almost clean initial nonce generation
    - Suppressed (minor) timer drift (except when generating nonce - that
      could break)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@667 6046fb1f-dae2-0310-8472-869a43925389

commit b1ae969960765aeba4dc4e2a036c15949589d0d9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 23 17:05:38 2005 +0000

    ChangeLog for 0.5.2
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@665 6046fb1f-dae2-0310-8472-869a43925389

commit e9ccdc8dc5b16715b6365b57c5a1643494570885
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 23 17:04:10 2005 +0000

    - one last minute news
    - PO sync *again*
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@664 6046fb1f-dae2-0310-8472-869a43925389

commit 6c6da4d22d74a11b0a59a43939637bce9fe01d59
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 23 17:02:56 2005 +0000

    Cosmetic
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@663 6046fb1f-dae2-0310-8472-869a43925389

commit 124afb387b0e52d5750a8c0a05f1c00c5a1b9ad3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 23 16:32:13 2005 +0000

    Fix install-sh path
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@662 6046fb1f-dae2-0310-8472-869a43925389

commit fdff65e0eed5ad85406bac6bce70a44349f26d02
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 23 16:28:54 2005 +0000

    Use documented install-sh -d instead of $(mkdir_p)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@661 6046fb1f-dae2-0310-8472-869a43925389

commit 4bee43b1d5487778ca2cb953bf21f29058b86658
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 23 15:41:26 2005 +0000

    Implement peer list size limit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@660 6046fb1f-dae2-0310-8472-869a43925389

commit c20bad66e951b9da8713674881baad052410bbb4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 23 15:34:33 2005 +0000

    Remove return value from NotifyUp and NotifyDown because there is no way
    to handle errors there. These are informative callbacks, so they just can't
    fail.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@659 6046fb1f-dae2-0310-8472-869a43925389

commit dfe7868311dfc7470b9871b9f83554e08f533c8a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 23 15:26:18 2005 +0000

    Documentation updates
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@658 6046fb1f-dae2-0310-8472-869a43925389

commit 4509e95df76e06dd85f931dee5ad4e170f5b6365
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 22 19:37:57 2005 +0000

    Fix Router Solicitation sending madness in maintenance procedure
    when a single maintenance packet failed to obtain an answer from the Teredo
    server
    
    --> I think I will have to make a bugfix release for that one
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@657 6046fb1f-dae2-0310-8472-869a43925389

commit 75f27043d1c50b611c1e2a100cf1c3ab0e115073
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 22 19:34:39 2005 +0000

    Compile fix for --disable-teredo-client
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@656 6046fb1f-dae2-0310-8472-869a43925389

commit 935b29430450374aba5b668166dc44b22ea83b4b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 22 18:12:11 2005 +0000

    Fix obvious fatal regression in previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@655 6046fb1f-dae2-0310-8472-869a43925389

commit 76fb48e58c95280c75fda227723bf8297e3dff11
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 22 17:59:32 2005 +0000

    - Fix handling of unattended server Router Solicitation
    - Fix and clean up maintenance procedure
    - Clean up to prepare for new peer list lookups
      (probably based on Judy)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@654 6046fb1f-dae2-0310-8472-869a43925389

commit 68a653c3a15fa9c49c1035e635699f7c239d3996
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 22 17:56:49 2005 +0000

    Fix compiler warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@653 6046fb1f-dae2-0310-8472-869a43925389

commit 9c70422367334c61676d17b7bde1903f70c8e195
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 22 17:56:27 2005 +0000

    Fix invalid use of free'd pointer
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@652 6046fb1f-dae2-0310-8472-869a43925389

commit e632593f432752eb7d3a4c0965841f7c3ee7c6e3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 21 16:54:41 2005 +0000

    Some code optimization
    (in particular, remove the router solicitation memcpy)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@651 6046fb1f-dae2-0310-8472-869a43925389

commit f1bcf83cf165a61e3d2042e0fa03dd51b593ba7d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 21 10:13:56 2005 +0000

    Smaller memory footprint, more efficient and cleaned up packet queueing
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@650 6046fb1f-dae2-0310-8472-869a43925389

commit 090a49cf5207c4350b2954993339bcbe5f3709f6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 21 07:42:18 2005 +0000

    Convert security.cpp to pure C99
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@649 6046fb1f-dae2-0310-8472-869a43925389

commit 4f5ea4f978d0e1004b0f7ee064afb480ff79a7c6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 20 11:48:34 2005 +0000

    Don't build static libraries
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@648 6046fb1f-dae2-0310-8472-869a43925389

commit 1b09ab1443150cee35f73347c3d6a95f66095973
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jul 20 16:11:30 2005 +0000

    - Fix French quotes spacing
    - Fix American and French semi-colon spacing
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@647 6046fb1f-dae2-0310-8472-869a43925389

commit 438b31794093d9444d64797063e14f2c5544a67e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 14 18:37:22 2005 +0000

    Support for libtool
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@646 6046fb1f-dae2-0310-8472-869a43925389

commit 62393cb33cfe4f2a760f597eab846aa72f22df0b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 14 18:36:21 2005 +0000

    svn:ignore updates for libtool
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@645 6046fb1f-dae2-0310-8472-869a43925389

commit 7b4c7f7f050ee6a80ae86afe86da421460e064d4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 14 18:33:27 2005 +0000

    Compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@644 6046fb1f-dae2-0310-8472-869a43925389

commit 832b50bea04766064dfb2ef6fcdf8bfb995968b5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 14 18:25:05 2005 +0000

    Provide libteredo as a shared library
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@643 6046fb1f-dae2-0310-8472-869a43925389

commit 0ed378a451cde758a70bf97e234685e0b6051b8e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 14 18:15:39 2005 +0000

    Forgot this file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@642 6046fb1f-dae2-0310-8472-869a43925389

commit 0f1a38dd92b853b2c20a3fafb30eda1fb9cfc40b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 14 18:15:08 2005 +0000

    Another bunch of optimization/inlining
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@641 6046fb1f-dae2-0310-8472-869a43925389

commit 01f1838af5e3e46ee8ff97f15935b56200fab87b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 14 17:45:14 2005 +0000

    Oops. This time it seems to work
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@640 6046fb1f-dae2-0310-8472-869a43925389

commit 6033fbc057d8ce36bf1e427b1dd30695f55bdcef
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 14 17:43:55 2005 +0000

    Type-o
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@639 6046fb1f-dae2-0310-8472-869a43925389

commit da0c8bbd81e374dd570676217471c8197f761c3e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 14 17:42:13 2005 +0000

    Attempt to fix, this time with my brain switched on
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@638 6046fb1f-dae2-0310-8472-869a43925389

commit dd7f56e6d5c95559ba6b81707f207fab626623d6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 14 17:38:36 2005 +0000

    Try to fix previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@637 6046fb1f-dae2-0310-8472-869a43925389

commit 6f21ea65e31a92d4497ac0004037bbc4e6d1fd33
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 14 17:31:29 2005 +0000

    Use static inline when macro not safe
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@636 6046fb1f-dae2-0310-8472-869a43925389

commit 55ae2c3f4d6082259fe90b4b18edf350f8c722e5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 14 17:11:03 2005 +0000

    Use macro rather than tiny functions when it is safe
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@635 6046fb1f-dae2-0310-8472-869a43925389

commit 0e316625c15251624f2383d33d76bebd12f1e465
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 14 15:45:01 2005 +0000

    - Don't use asynchronous cancellation - it was not safe
    - Use shorter restart delay in case of failure
      (so that miredo goes up sooner when the connectivity is acquired)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@634 6046fb1f-dae2-0310-8472-869a43925389

commit 7d868cc0fddc475ce56f518ff10057f25e0223f2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 7 17:48:41 2005 +0000

    pthread compilation parameters cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@633 6046fb1f-dae2-0310-8472-869a43925389

commit 608b52947280c2c2132fe47e46e6471d1a4f5b9d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jul 1 18:11:02 2005 +0000

    PF_* -> AF_*
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@632 6046fb1f-dae2-0310-8472-869a43925389

commit e68cae028de6bd0b85447590bd7cc0c4acba3ae2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 25 07:26:56 2005 +0000

    Don't leak pidfile descriptor to non-privileged processes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@631 6046fb1f-dae2-0310-8472-869a43925389

commit eb8f6c6257937ef0c830f67cfc1edb78f191ae65
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 25 07:13:07 2005 +0000

    Fix busy waiting problem in miredo-server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@630 6046fb1f-dae2-0310-8472-869a43925389

commit ef14489bf210093d56556011bd45c0fda6318552
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 18 18:03:06 2005 +0000

    Fix bug whereby only secondary server socket would be used
    Does NOT fix 100% CPU usage bug
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@629 6046fb1f-dae2-0310-8472-869a43925389

commit 06fc2a8b9bb968f7473e4e98e2a0afaaa3716ca3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 18 10:45:57 2005 +0000

    Multithreaded and cleaned up miredo-server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@628 6046fb1f-dae2-0310-8472-869a43925389

commit fa8bee1f8f68673a19dcb5429002778daa355f60
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 17 17:48:55 2005 +0000

    Bump version number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@627 6046fb1f-dae2-0310-8472-869a43925389

commit 2b30ec8b35fd9e370f92c78f9abf8dc01b1393c3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 17 17:47:16 2005 +0000

    Fix caching of select()'s readset in miredo-server as was done a
    while ago in miredo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@626 6046fb1f-dae2-0310-8472-869a43925389

commit 0e00c23c1a4fdb468581f55335aa54bf6248d701
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 17 17:40:56 2005 +0000

    Apply r572 to miredo-server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@625 6046fb1f-dae2-0310-8472-869a43925389

commit 4f5e2207f12692c11ed99816d1e05c4f35b3bf36
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 17 15:55:41 2005 +0000

    Update ChangeLog
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@623 6046fb1f-dae2-0310-8472-869a43925389

commit cf8e9eed86386cffd5ab09ae21392071a626942f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 17 15:54:17 2005 +0000

    Prepare make dist
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@622 6046fb1f-dae2-0310-8472-869a43925389

commit e018f900b4416b520f55187f720008b56dc4d417
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 17 15:35:53 2005 +0000

    Document OpenBSD support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@621 6046fb1f-dae2-0310-8472-869a43925389

commit fe3d484699f04c1b0cd6d4c814f761a3aab92b8f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 17 15:02:19 2005 +0000

    Work-around for a buggy OS known as OpenBSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@620 6046fb1f-dae2-0310-8472-869a43925389

commit 8ab4c3253e15aa8b5f32b26da0c5712a668e3879
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 17 14:59:46 2005 +0000

    Fix random device file path on OpenBSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@619 6046fb1f-dae2-0310-8472-869a43925389

commit 0b0b2336dd6630f53c488e0ddefca785c5a9b4b5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 17 13:24:27 2005 +0000

    Makes OpenBSD happy
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@618 6046fb1f-dae2-0310-8472-869a43925389

commit e8985b294e1d57508182deaeda15ff31cb3bb7ef
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 17 06:46:55 2005 +0000

    Doc update
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@617 6046fb1f-dae2-0310-8472-869a43925389

commit 0678af4a7bc1399d63a8b71ecda21773cc1bf303
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 16 19:15:32 2005 +0000

    At long last, route setup on FreeBSD works :-)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@616 6046fb1f-dae2-0310-8472-869a43925389

commit 618f0fa4da87eccffb643810a137b4198c0a5f29
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 16 18:45:34 2005 +0000

    FreeBSD compile fix + clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@615 6046fb1f-dae2-0310-8472-869a43925389

commit fe2b5633709e75b5ee087fdbde978bab742a15a8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 16 16:24:53 2005 +0000

    Remove debug messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@614 6046fb1f-dae2-0310-8472-869a43925389

commit c53a88ed2fd0f30beb38a78dd31ea51176e7e461
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 16 16:15:27 2005 +0000

    FreeBSD partial compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@613 6046fb1f-dae2-0310-8472-869a43925389

commit 8530c38095463676e7a9af5c760a8977d92b7b04
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 16 16:15:12 2005 +0000

    PO update
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@612 6046fb1f-dae2-0310-8472-869a43925389

commit 2ff168156694128a0ca4cd4135e76894f5b9b8f2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 16 16:10:29 2005 +0000

    Fix warning when compiling without NLS
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@611 6046fb1f-dae2-0310-8472-869a43925389

commit 40e09118f23cac5369e27bf580c0f3475cf5841c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 16 15:49:16 2005 +0000

    Fix make distcheck
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@610 6046fb1f-dae2-0310-8472-869a43925389

commit 8db57773193fd94ca2d69772bdc98d3e91bfd3de
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 15 17:18:32 2005 +0000

    clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@609 6046fb1f-dae2-0310-8472-869a43925389

commit 7781c20c0e7ac98e0349193300c547a1c5913ccd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 15 17:14:22 2005 +0000

    Removes addresses and route on exit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@608 6046fb1f-dae2-0310-8472-869a43925389

commit d8edb2a2b5f0cc4a27118e8039a946a3c1a69eb3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 15 16:56:23 2005 +0000

    NetBSD tunnel addresses setup support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@607 6046fb1f-dae2-0310-8472-869a43925389

commit 8f6cfe8b366b1a807263d4b93125e13492227cbb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 15 16:56:01 2005 +0000

    NetBSD compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@606 6046fb1f-dae2-0310-8472-869a43925389

commit 0a7077103f860878c6b67fc5a5382fe88c75fb8d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 15 16:29:57 2005 +0000

    Fix sockaddr.sa_len detection
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@605 6046fb1f-dae2-0310-8472-869a43925389

commit d1700da3b219bb52ca43ed18541cdf01554d15e0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 15 16:11:42 2005 +0000

    Fix possible (unlikely) locked mutex destroy bug on NetBSD in syslog
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@604 6046fb1f-dae2-0310-8472-869a43925389

commit 714f209b44d04a4503577a50d32227b4ef4a1da7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 14 20:14:57 2005 +0000

    More complete fix for NetBSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@603 6046fb1f-dae2-0310-8472-869a43925389

commit cbcec8026ba71c0f82759668c360cf5b07daa63d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 14 19:59:15 2005 +0000

    Fix pthread_cond_timedwait call : previously failed to unlock the
    maintenance mutex if the maintenance thread was cancelled
    (i.e. upon exit)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@602 6046fb1f-dae2-0310-8472-869a43925389

commit d61d92991605a7fd46c58e5409e07c473db42c6a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 14 16:59:21 2005 +0000

    Another compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@601 6046fb1f-dae2-0310-8472-869a43925389

commit 07fa29ac85a7d7a4caea12506aa4509b84358787
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 14 16:58:03 2005 +0000

    NetBSD compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@600 6046fb1f-dae2-0310-8472-869a43925389

commit b47726a192df43421cdc38c8f27c659072a971b7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 14 16:49:21 2005 +0000

    Bootstrap NetBSD fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@599 6046fb1f-dae2-0310-8472-869a43925389

commit af5b65534dd6055222cd499f79c382aa0b1ef145
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 11 20:44:55 2005 +0000

    Prevent autoconfiguration through sysctl() (/proc actually) on Linux
    It doesn't prevent initial attempt at autoconfiguration by the kernel :(
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@598 6046fb1f-dae2-0310-8472-869a43925389

commit 26fbcf7794fefc1ff28b87469d437706bbdb2f95
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 9 08:54:41 2005 +0000

    ICC warning fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@597 6046fb1f-dae2-0310-8472-869a43925389

commit 4033d9f78e2b350b54bee9b312154a3d41358ea0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 9 08:49:58 2005 +0000

    Intel compiler warning fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@596 6046fb1f-dae2-0310-8472-869a43925389

commit 2da0d6f8c2179ebcc8a995a619fd87cf4190c694
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 9 08:28:17 2005 +0000

    gcc2 compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@595 6046fb1f-dae2-0310-8472-869a43925389

commit b580b329887ce097b903605ab348cdbc9b4c8a6b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 8 15:58:38 2005 +0000

    Two fewer memset() calls
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@594 6046fb1f-dae2-0310-8472-869a43925389

commit bf6c044be6ef5fe52b4608276714bfe661a91112
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jun 5 08:44:58 2005 +0000

    Sets a biger metric for Miredo's default route, so that other IPv6
    connectivity mediums will always be prioritized
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@593 6046fb1f-dae2-0310-8472-869a43925389

commit 87623010a14fec2938ca409084fe7d549576a562
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jun 5 08:37:29 2005 +0000

    Support for specifying a route metric
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@592 6046fb1f-dae2-0310-8472-869a43925389

commit 40712a87eac3653e83ccb1e7e9e1662530d8b9ad
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 4 09:07:30 2005 +0000

    Undo buggy commit r589 on src/miredo.cpp
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@590 6046fb1f-dae2-0310-8472-869a43925389

commit 9a436ba02a15d13feb1e02c3d20779bc8b8a2747
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 4 09:06:25 2005 +0000

    - Use better ICMPv6 error messages
    - Don't pass connectivity test response pakcets to user
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@589 6046fb1f-dae2-0310-8472-869a43925389

commit d5df191db28fbdd991448ecdaaf9ef5b727f649b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 30 11:02:16 2005 +0000

    clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@588 6046fb1f-dae2-0310-8472-869a43925389

commit 201c29af39836852cd0dc11b528217333684a547
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 24 15:09:48 2005 +0000

    #include fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@587 6046fb1f-dae2-0310-8472-869a43925389

commit d15f48465c1915d5fd4db8272888177c74b8cb08
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 20 20:50:47 2005 +0000

    Use strlcpy when available
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@586 6046fb1f-dae2-0310-8472-869a43925389

commit 9f0e54fb1c3f8e766fb4fc94f51309b58a125941
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 10 10:49:56 2005 +0000

    stricmp => strcasecmp
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@585 6046fb1f-dae2-0310-8472-869a43925389

commit 9b989b09b7d3c40f6ad98621c8632b0fbbec8c75
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 8 10:17:51 2005 +0000

    Fix a typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@584 6046fb1f-dae2-0310-8472-869a43925389

commit f5d2cafcb8c1aff95a055b10dd8f887e4439fcf9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 8 07:34:04 2005 +0000

    Fix nasty PID file not unlinked bug when POSIX capabilities are used
    and ${localstatedir}/run is not owned by root
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@583 6046fb1f-dae2-0310-8472-869a43925389

commit ff8e6388da007228088f144f53e255a23b24d834
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 8 06:36:13 2005 +0000

    Remove useless sanity check
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@582 6046fb1f-dae2-0310-8472-869a43925389

commit b01b9d1d0feea73715bfe4a517fe3f11f8c50977
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 20:46:07 2005 +0000

    Ensure IPv6 packets are at least 40 bytes-long before trying to tunnel
    them through Teredo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@581 6046fb1f-dae2-0310-8472-869a43925389

commit 2341a09f589a27eb5b7807d977c5f2e75ab905b2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 20:43:17 2005 +0000

    Don't check and copy IPv6 header in TeredoRelay::SendPacket
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@580 6046fb1f-dae2-0310-8472-869a43925389

commit b0f4896eef8abb08d188c7acece1c0c0da476fcd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 20:41:37 2005 +0000

    Fix use of unitialized value
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@579 6046fb1f-dae2-0310-8472-869a43925389

commit 1f790f8c8fd749904df29dcc1c3421ebd6c1b3dd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 19:46:12 2005 +0000

    Some clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@578 6046fb1f-dae2-0310-8472-869a43925389

commit fba0f6dfd6cbcde766370ac664770c2f6071a60e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 19:32:54 2005 +0000

    - Optimize peer list search
    - Clean up peer list deletion
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@577 6046fb1f-dae2-0310-8472-869a43925389

commit 74c23f5785a5a2d2671123705f94da8185e2eb3f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 18:28:54 2005 +0000

    Avoid pointer reference and dereference in TeredoRelay::GetPrefix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@576 6046fb1f-dae2-0310-8472-869a43925389

commit c25ab0de037d873768dbaab5f95ac47dae9845bc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 18:24:17 2005 +0000

    - fix unitialized value in relay setup,
    - fasten TeredoRelay::GetServerIP()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@575 6046fb1f-dae2-0310-8472-869a43925389

commit 2144b46511aba1ebe86ec98a6f46e3b0912db51f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 18:05:48 2005 +0000

    Don't use costly call to in6_is_teredo_addr_cone
    in TeredoRelay::IsCone
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@574 6046fb1f-dae2-0310-8472-869a43925389

commit 554057c43c2dfa93cb41573545ec29268191b086
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 16:12:40 2005 +0000

    Get rid of readset parameter where possible
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@573 6046fb1f-dae2-0310-8472-869a43925389

commit b9d657df4e18bdfe0b12292d762dfed1dc41389a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 15:41:37 2005 +0000

    More robust select()
    It was causing a lot of problems whereby miredo would quit for no
    reasons (particularly when debugging)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@572 6046fb1f-dae2-0310-8472-869a43925389

commit 24e443b7577c291f9b138e17c2bb032f9db7957e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 14:31:40 2005 +0000

    Redo r566 in a non brain-dead manner
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@571 6046fb1f-dae2-0310-8472-869a43925389

commit 0d4c1420613d1d8dde18f999c46c26e2d75f6bad
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 14:11:37 2005 +0000

    Undo severly buggy commit r566
    (I still don't get what's wrong with it)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@570 6046fb1f-dae2-0310-8472-869a43925389

commit 8e46cfd00efee1fd3e06777426664f4b7d2e4399
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 13:58:57 2005 +0000

    Unbreak bootstrap
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@569 6046fb1f-dae2-0310-8472-869a43925389

commit a893725779d18fe702881cedf03899039ec711e9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 13:20:02 2005 +0000

    Clean up tunnel explicitly at end
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@568 6046fb1f-dae2-0310-8472-869a43925389

commit 9327ba6626387adcdbe7c58298be80d029948a89
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 13:10:54 2005 +0000

    - Remove useless checks
    - Remove useless memset
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@567 6046fb1f-dae2-0310-8472-869a43925389

commit 5b53729864f9672b9360d1ea60c87035736b5393
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 13:01:10 2005 +0000

    Cache select's read set
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@566 6046fb1f-dae2-0310-8472-869a43925389

commit a7b065b963f14de7adae6e9ca2f421240e114c36
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 12:55:39 2005 +0000

    Don't use a reference since it's not needed
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@565 6046fb1f-dae2-0310-8472-869a43925389

commit 41ea81e0d0c63f432999fccee7055e37a7c1ef10
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat May 7 06:39:15 2005 +0000

    Allow running as root if --enable-miredo-user=root was used
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@564 6046fb1f-dae2-0310-8472-869a43925389

commit ab3e31c9f9fc40626c5c1381971a1926064c6a8c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 20:30:59 2005 +0000

    Leave of POSIX capabilities even we unpriv_uid is 0.
    It's still a bad idea, even without capabilities.
    That's why it's still impossible without patching the program.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@562 6046fb1f-dae2-0310-8472-869a43925389

commit 342d6191226ba34beb346aee6a3c6dc750d9e2c4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 20:28:00 2005 +0000

    Fix use of POSIX capabilities for miredo-server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@561 6046fb1f-dae2-0310-8472-869a43925389

commit ea96dbe5cc40509ab23412b3a6be86bd448661e9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 17:04:59 2005 +0000

    Another split : move TeredoRelay::peer in separate files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@560 6046fb1f-dae2-0310-8472-869a43925389

commit fc116f79542ae95018970b941f3b0e63ce9cb1c2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 16:50:52 2005 +0000

    Move qualification/maintainance away from relay.cpp
    which was once again getting fairly long
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@559 6046fb1f-dae2-0310-8472-869a43925389

commit a74250177f41da88d00e31f2993c24a3d75b6a18
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 15:31:45 2005 +0000

    Bump version number to 0.5.1
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@558 6046fb1f-dae2-0310-8472-869a43925389

commit d69be7a15e13972e77b0f8b27de0335eb0215bba
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 12:47:50 2005 +0000

    ChangeLog update for release 0.5.0
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@557 6046fb1f-dae2-0310-8472-869a43925389

commit 084942d50d06a10ab841f796f562837cd9444816
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 11:07:19 2005 +0000

    String rationalization
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@556 6046fb1f-dae2-0310-8472-869a43925389

commit 474e4a7b068e6c1c70eb45641df113ce13e48835
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 11:02:58 2005 +0000

    Change version to 0.5.0 as they were a lot of changes,
    some of which break user interface
    (most particularly the introduction of miredo-server)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@555 6046fb1f-dae2-0310-8472-869a43925389

commit 496ca746346f5cd18d47cf1a5a94739825fb5cd0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 10:56:55 2005 +0000

    - fix race condition when calling NotifyUp()
    - wait for 30 seconds rather than 300 upon initial connectivity loss
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@554 6046fb1f-dae2-0310-8472-869a43925389

commit a7aec9eda10424c7a57523f57aaabf20a262da0d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 10:27:12 2005 +0000

    Put all Teredo UDP sockets in non-blocking mode
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@553 6046fb1f-dae2-0310-8472-869a43925389

commit e7e5842714e0adf48e6de8ac45b24bd2c550295a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 10:21:12 2005 +0000

    Ensure relaying of Echo requests is non-blocking
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@552 6046fb1f-dae2-0310-8472-869a43925389

commit 78119ad6b3904c6de4e50b2d3f20cf6ee60744b6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 09:38:30 2005 +0000

    Regenerate server nonce every hour
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@551 6046fb1f-dae2-0310-8472-869a43925389

commit a577d25d0a97e34388e0d6a064410e9a50a497ef
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 09:01:23 2005 +0000

    - fix compilation with --disable-teredo-client
    - use nanosleep() instead of select()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@550 6046fb1f-dae2-0310-8472-869a43925389

commit b24634e46959a528fb4de364b4e7e7f656b7f7d0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 08:55:45 2005 +0000

    Add IgnoreConeBit to sample config
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@549 6046fb1f-dae2-0310-8472-869a43925389

commit 6a8be0a85688a4ddda055b96ea831dca20ef0660
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 08:47:17 2005 +0000

    Add new option IgnoreConeBit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@548 6046fb1f-dae2-0310-8472-869a43925389

commit 84a8a6da26dcd258e42feec403054f151c0bfd83
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri May 6 08:43:19 2005 +0000

    Option to ignore cone bit
    (ie. always treat peers as if they were restricted)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@547 6046fb1f-dae2-0310-8472-869a43925389

commit 9a75374e0709b51bf477557c5df928755b046af3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 5 20:56:08 2005 +0000

    String rationalization
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@546 6046fb1f-dae2-0310-8472-869a43925389

commit 82bf17cbac474838413e64454656deba6a870dc4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 5 20:33:32 2005 +0000

    PO resync
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@545 6046fb1f-dae2-0310-8472-869a43925389

commit 1d76105c091568450be735b19deb04175002baca
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 5 19:56:06 2005 +0000

    Fix closing of pidfile
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@544 6046fb1f-dae2-0310-8472-869a43925389

commit 23359faa7dcbe4e0a5b42633c6169917d267cd1f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 5 19:42:58 2005 +0000

    completely remove ETCDIR/CONFDIR/SYSCONFDIR ...
    at least until binreloc & autopackage are fixed
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@543 6046fb1f-dae2-0310-8472-869a43925389

commit 0b4866c0dcc85bec598ef83122e5bb84f039839a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 5 19:32:23 2005 +0000

    Fix compilation without binreloc
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@542 6046fb1f-dae2-0310-8472-869a43925389

commit 1ec0f91d8702f0350340ef6c442ba0c35d3c4499
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 5 19:23:15 2005 +0000

    BSD compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@541 6046fb1f-dae2-0310-8472-869a43925389

commit 8683f2f2676415589453cc6d7f941e579d365c7c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 5 19:12:20 2005 +0000

    Lock pidfile properly
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@540 6046fb1f-dae2-0310-8472-869a43925389

commit cee21d841074e023c8c7c7f83cde654b784b4a65
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 5 17:19:20 2005 +0000

    Fixes a bug whereby privileged process would never terminate
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@539 6046fb1f-dae2-0310-8472-869a43925389

commit 77fffcc4d8fcaa3ce1f76e0f39dd4c37107ba1bc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 5 17:09:56 2005 +0000

    Add a command line option to modify pidfile path
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@538 6046fb1f-dae2-0310-8472-869a43925389

commit 7ee81f33a2fc3c8ee24dc0b96557d6657914f9cc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 5 16:42:26 2005 +0000

    Check IPv6 support before starting server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@537 6046fb1f-dae2-0310-8472-869a43925389

commit 94633ee782a90710514eaa7ea4c1d4e824353c47
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 5 16:27:48 2005 +0000

    failed server solicitation counter need not be accessed outside of
    MaintenanceThread
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@536 6046fb1f-dae2-0310-8472-869a43925389

commit c190c02d791603e36ae776d54f082481896790bf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 5 15:26:30 2005 +0000

    Rewrite qualification and maintenance
    - now run in a dedicated thread
    - fix connectivity loss detection (45(+30) seconds => 15(+30) seconds)
    - suppress Process() callback
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@535 6046fb1f-dae2-0310-8472-869a43925389

commit e1c9b7a9db3d6edaad865cd6034c7019a9a8f4e5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 5 15:09:35 2005 +0000

    miredo_configure_tunnel now wait until the configuration is actually applied
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@534 6046fb1f-dae2-0310-8472-869a43925389

commit 71a8e1738f3efe4db820a73bac76a57f0676f6d8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu May 5 14:55:40 2005 +0000

    Fix bug whereby privproc would attempt to delete address multiple times
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@533 6046fb1f-dae2-0310-8472-869a43925389

commit bfd4c3bd39bd88c8b05b32e87ba258d3574acb0e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 19:15:29 2005 +0000

    make sure we don't leak memory content when nonce generation fails
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@532 6046fb1f-dae2-0310-8472-869a43925389

commit af656cbdf383705af74fddfa3cf9ff66928fc97c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 16:20:11 2005 +0000

    Hopefully fix linking with --disable-teredo-client
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@531 6046fb1f-dae2-0310-8472-869a43925389

commit 380a31a26e08553d858aeab961ea69d47b23e9b9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 16:18:28 2005 +0000

    Avoid duplication of code to send ping (Direct connectivity test)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@530 6046fb1f-dae2-0310-8472-869a43925389

commit 78b7be47d9c863a85853480b25fd843792f8acab
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 11:49:55 2005 +0000

    Update copyright notices as appropriate
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@529 6046fb1f-dae2-0310-8472-869a43925389

commit edd4d1fa7c29fa80d7a4ee027948dbdc7c75f509
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 11:43:41 2005 +0000

    Yet another cleanup
    (no more TODOs / FIXMEs in src/)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@528 6046fb1f-dae2-0310-8472-869a43925389

commit 01fd91d817930ed83409f85b629499da5d52945c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 10:55:25 2005 +0000

    Some news
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@527 6046fb1f-dae2-0310-8472-869a43925389

commit 8d4a4f053066f0a1abf2c4e8cb071a4123a92ad8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 10:38:06 2005 +0000

    Kill miredo-server if found upon uninstallation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@526 6046fb1f-dae2-0310-8472-869a43925389

commit 5e2243bbfe2da3e500163f2ad71a9a0757e8b1bd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 10:18:14 2005 +0000

    Don't link miredo-server with libtun6
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@525 6046fb1f-dae2-0310-8472-869a43925389

commit 072a015171c56d22075886f1eb416d82485ef7e3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 10:05:47 2005 +0000

    Debian initscript for miredo-server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@524 6046fb1f-dae2-0310-8472-869a43925389

commit feb471c5439ed61b92bb9e72e96e0007050ea535
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 10:02:17 2005 +0000

    Some fixes. Still incomplete/buggy
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@523 6046fb1f-dae2-0310-8472-869a43925389

commit 0a29b679be26c7b96ad1f35fbc02e566a9a54d1f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 09:55:37 2005 +0000

    Document ServerAddress2 and ServerBindAddress2
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@522 6046fb1f-dae2-0310-8472-869a43925389

commit d8de9213e7c0873897e59b29ae5646f5318b5bb2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 09:50:53 2005 +0000

    Document InterfaceMTU options
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@521 6046fb1f-dae2-0310-8472-869a43925389

commit d58f17154440ab8d7dc8096c87f619249cdce2ef
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 09:42:49 2005 +0000

    Moved man page to a new directory
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@520 6046fb1f-dae2-0310-8472-869a43925389

commit e52078811a144db08667182c0cf6d80ca867ad0f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 09:40:06 2005 +0000

    Oops, forgot to remove include/Makefile from config.status
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@519 6046fb1f-dae2-0310-8472-869a43925389

commit a4db6248cf74b1534aabaabd7a608e65216eea9a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 09:39:25 2005 +0000

    Notes about server_name command line parameter
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@518 6046fb1f-dae2-0310-8472-869a43925389

commit 51386a3e2c8b5e87040a4b8a40c950abb6a1e88d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 09:38:11 2005 +0000

    Include autopackage stuff in source tarball
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@517 6046fb1f-dae2-0310-8472-869a43925389

commit 0e9e58553ae4a8d293a3a96cb1a91eee82d6a47f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 09:36:42 2005 +0000

    Exclude include/ from build
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@516 6046fb1f-dae2-0310-8472-869a43925389

commit e12034b6da754e5ae781f1b0078c85dfd1731759
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 09:33:33 2005 +0000

    All $Id$ fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@515 6046fb1f-dae2-0310-8472-869a43925389

commit a5b418eaabefacbfd3b1c547e386cb38662058f3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 09:28:20 2005 +0000

    Fix $Id$
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@514 6046fb1f-dae2-0310-8472-869a43925389

commit ba9b4e1b1a2b857b1ba474f85958b2cbaadafab1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 09:27:10 2005 +0000

    Compile ParseRelayType in miredo, not in miredo-server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@513 6046fb1f-dae2-0310-8472-869a43925389

commit 3c3f02b431cb067dd12693ee82acaed202ca4ee9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 08:49:32 2005 +0000

    Removed obsoleted disabled RelayType
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@512 6046fb1f-dae2-0310-8472-869a43925389

commit 7910489f565860301b073899982d2368384a7738
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 08:47:15 2005 +0000

    Accept not having a config file if a server name is specified
    through the command line (will use default for every thing else)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@511 6046fb1f-dae2-0310-8472-869a43925389

commit a4799ffcf688763c5a693339af46c37c743b8fe3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 08:39:16 2005 +0000

    - Use a different pidfile for miredo and miredo-server
    - Replace --enable-pidfile with --enable-pidfiledir
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@510 6046fb1f-dae2-0310-8472-869a43925389

commit 18b132be6d820822d46497d7f17dd58b4f4a7ad4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 07:40:38 2005 +0000

    Split miredo-conf.5 into miredo.conf.5 and miredo-server.conf.5
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@509 6046fb1f-dae2-0310-8472-869a43925389

commit 4a553531d3cd94eba37fa601061329c832baa489
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 07:31:52 2005 +0000

    Split miredo.8 into miredo.8 and miredo-server.8
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@508 6046fb1f-dae2-0310-8472-869a43925389

commit 230a06998ea41a488511e5999acd8770bd458dff
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 07:21:13 2005 +0000

    Translations update
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@507 6046fb1f-dae2-0310-8472-869a43925389

commit f088515ef960e36bb2a68840f8fedc45928e65b9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 07:20:51 2005 +0000

    - clean up DNS resolution of server name
    - use different default configuration files for miredo and miredo-server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@506 6046fb1f-dae2-0310-8472-869a43925389

commit 031def8137f85f3ed5176e5ba55d383159bc6fa9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed May 4 06:59:19 2005 +0000

    use argv[0] in usage() and quick_usage()
    so that running miredo-server prints miredo-server rather than miredo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@505 6046fb1f-dae2-0310-8472-869a43925389

commit ab07c21509519a86803815a318c795329c7e57f1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 3 20:39:55 2005 +0000

    Remove obsoleted options --disable-teredo-server and --disable-teredo-relay
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@504 6046fb1f-dae2-0310-8472-869a43925389

commit ad01d979548405c109ac3490eb640fc151568d2a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 3 20:33:13 2005 +0000

    Fix invalid delete in case of error
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@503 6046fb1f-dae2-0310-8472-869a43925389

commit e885002f389f8c6b8104e2695c232df7030998a8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 3 20:30:53 2005 +0000

    Fix building with --disable-miredo-client
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@502 6046fb1f-dae2-0310-8472-869a43925389

commit 87507f97ff810c9f0981347a49cd809f14c7b14f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 3 20:27:15 2005 +0000

    Fixes files descriptions
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@501 6046fb1f-dae2-0310-8472-869a43925389

commit e29c0c44c5ab4b3716dd84631ac2eedec9949b2a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 3 20:25:42 2005 +0000

    src/relay.h was no longer needed
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@500 6046fb1f-dae2-0310-8472-869a43925389

commit ed98d3943c2731f6bdb5c7668167a6257deacce7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 3 20:17:20 2005 +0000

    Split configuration sample files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@499 6046fb1f-dae2-0310-8472-869a43925389

commit 932c488d43f59027fcdde612c338fe5fb3e73ac4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 3 20:12:30 2005 +0000

    Move configuration parsing to non-common parts :
    configuration for relay/client and server are now separated
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@498 6046fb1f-dae2-0310-8472-869a43925389

commit 2587c5a1fcf0436e38529b5d9d45d60b6f71a784
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 3 19:23:45 2005 +0000

    Remove signal handlers later
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@497 6046fb1f-dae2-0310-8472-869a43925389

commit edfe0637c28d5c2b142b6f1f799fc17a43961b13
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 3 19:20:02 2005 +0000

    Some fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@496 6046fb1f-dae2-0310-8472-869a43925389

commit 031739c7f5959df2e96ab425ae5fbff03c0396e0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 3 18:55:47 2005 +0000

    Split Teredo server and Teredo relay/client in separate binaries
    
    Still a lot of cleanup to be done
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@495 6046fb1f-dae2-0310-8472-869a43925389

commit 3f0b249a812907c58c5de1773efd20b755344851
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 3 16:44:44 2005 +0000

    Don't include libtun6 if we only build a Teredo server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@494 6046fb1f-dae2-0310-8472-869a43925389

commit 21363330d20aff486ad5a4062f428eced1434e79
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 3 16:38:38 2005 +0000

    Fix previous broken commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@493 6046fb1f-dae2-0310-8472-869a43925389

commit 2d0d444205436bef488508ac12b33f9f6c0b2d01
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 3 16:25:16 2005 +0000

    - Remove MiredoServer class's files
    - Clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@492 6046fb1f-dae2-0310-8472-869a43925389

commit c63d765d1728ed94c5158b33c7e8f80fce467cad
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 3 16:18:36 2005 +0000

    Use raw IPv6 socket instead of tunnel to relay pings through Teredo server
    
    That will allow the server to work properly even when IPv6 forwarding is
    not enabled.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@491 6046fb1f-dae2-0310-8472-869a43925389

commit 697b4a845ba30a9a043543f0a173241dae827fec
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue May 3 10:07:36 2005 +0000

    (Dangerous) option to change Teredo MTU in relay and server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@490 6046fb1f-dae2-0310-8472-869a43925389

commit 971bb67c7e8c61264e67963a4bfcc7988d1980c3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 2 18:20:26 2005 +0000

    Another public Teredo server added
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@489 6046fb1f-dae2-0310-8472-869a43925389

commit 89da18a91fe5086bee0efb92b301c86a91bb7def
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 2 18:19:33 2005 +0000

    Make valgrind happier
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@488 6046fb1f-dae2-0310-8472-869a43925389

commit a5f86e9dd984c61d834dc35426a03b3836c90d68
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 2 17:42:42 2005 +0000

    Accept ICMPv6 Echo Request encapsulated in ICMPv6 Unreachable
    as an alternative to a ICMPv6 Echo Reply for Direct IPv6 connectivity
    
    That allows spoof-safe connectivity with hosts that reject pings with
    ICMPv6 Unreachable messages instead of replying.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@487 6046fb1f-dae2-0310-8472-869a43925389

commit 5821d8e3b7fd9fc6db0d210a5560af2b6a4616df
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 2 17:13:23 2005 +0000

    Same as previous commit - the code is indeed duplicated
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@486 6046fb1f-dae2-0310-8472-869a43925389

commit 0794291b21f6e12e86c84db697ed5c663b581829
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 2 17:10:00 2005 +0000

    Limit sending of echo request for Direct IPv6 connectivity test
    to 3 every 30 seconds
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@485 6046fb1f-dae2-0310-8472-869a43925389

commit 2034c594794ded1fe8e494e5b671a7e4e424f88a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 2 15:19:43 2005 +0000

    - ng_teredo's server is no more
    - adds Consulintel's server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@484 6046fb1f-dae2-0310-8472-869a43925389

commit a80e8bff5999ec424687ab3f72428f19a1a25f0f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 2 07:50:32 2005 +0000

    Skip release number 0.4.3 and use 0.4.4
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@476 6046fb1f-dae2-0310-8472-869a43925389

commit d36d7ea39c7e7014008af36be64c95be3ffe5e30
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 2 07:48:34 2005 +0000

    One more TODO done
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@475 6046fb1f-dae2-0310-8472-869a43925389

commit fec1fdfe620b1425ffd30afdbfdaa1243a69bb3c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 2 07:31:44 2005 +0000

    Fix completely broken parsing of Router Advertisement option
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@474 6046fb1f-dae2-0310-8472-869a43925389

commit a4a779fa603ebb24c8ad02b5f71145fc7fa82751
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 2 07:17:50 2005 +0000

    Update NotifyUp callback to use mtu value
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@473 6046fb1f-dae2-0310-8472-869a43925389

commit 8de035ff81f0b019e5a8b75fbf9490aa7c8c0f33
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 2 07:10:24 2005 +0000

    Fix building with --disable-teredo-client
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@472 6046fb1f-dae2-0310-8472-869a43925389

commit 4c33c0146bd9e6153b88a0e5dcdc75fa903139fe
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon May 2 07:06:06 2005 +0000

    Parse MTU option in router advertisement
    (and probably some breakage with --disable-teredo-client)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@471 6046fb1f-dae2-0310-8472-869a43925389

commit 9bb30e5ff7f0170b32b7704c25bcefd2090c5f9b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 20:25:50 2005 +0000

    Actually implement ServerAddress2
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@470 6046fb1f-dae2-0310-8472-869a43925389

commit d26222fe64094e6f5092caf7c947c8c28098754e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 19:53:14 2005 +0000

    New options ServerAddress2, resp. ServerBindAddress2 to specify the server
    secondary address in client, resp. server
    It should already work for server, it is not yet implemented in libteredo's
    Teredo client
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@469 6046fb1f-dae2-0310-8472-869a43925389

commit 901d3c886cce86f561cc8b3e6479f6d31b98dbe1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 18:47:45 2005 +0000

    More comprehensive TODO list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@468 6046fb1f-dae2-0310-8472-869a43925389

commit 7a80a917db139c9778d50d78ecf95ce84365de38
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 18:00:26 2005 +0000

    Use DESTDIR when copying miredo.conf-dist to miredo.conf
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@467 6046fb1f-dae2-0310-8472-869a43925389

commit 1706b1f6d3288f16e343738dccae2dd9dab85b49
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 17:59:04 2005 +0000

    Add quotes as appropriate
    (would probably previously fail if there was a space in DESTDIR)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@466 6046fb1f-dae2-0310-8472-869a43925389

commit 4a2c6c96e712c1039690ea81b3886d25a79721b7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 17:52:46 2005 +0000

    Typos fixed
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@465 6046fb1f-dae2-0310-8472-869a43925389

commit e5e648f1e271fd0747351dd5f57e0be0dd7613c1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 16:48:30 2005 +0000

    Clean up teredo_send_ra
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@464 6046fb1f-dae2-0310-8472-869a43925389

commit bd937da83e01b26c0c55a43c42f749d44e9f601a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 16:25:07 2005 +0000

    - Update to match new miredo.conf installation
    - More spacing
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@463 6046fb1f-dae2-0310-8472-869a43925389

commit c089461a0f7ea24b48fb4842802003c7af113765
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 16:05:48 2005 +0000

    - Put message about miredo.conf at the very end of "make install"
    - Automatically copy miredo.conf-dist to miredo.conf if miredo.conf
      doesn't already exists
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@462 6046fb1f-dae2-0310-8472-869a43925389

commit fd41b2290f75a17b36cc5f8f07227811b47207cf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 13:23:36 2005 +0000

    Allow changing of server advertised MTU
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@461 6046fb1f-dae2-0310-8472-869a43925389

commit 75112d882a970e082d9628449a037f2125ea79cd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 12:56:11 2005 +0000

    Copyright notice date updates
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@460 6046fb1f-dae2-0310-8472-869a43925389

commit 87cb341f585f965e526a06c758dae5aede99cf76
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 12:43:50 2005 +0000

    Clean up setting of MTU in client mode
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@459 6046fb1f-dae2-0310-8472-869a43925389

commit f08ae94d04c92b1b19cd1b53bc714b1894df5020
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 12:43:08 2005 +0000

    Log MTU change failure through syslog
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@458 6046fb1f-dae2-0310-8472-869a43925389

commit 1be1cf0c6a18223128584ddf0452bef117abd61a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 12:29:41 2005 +0000

    Support for setting MTU from privileged process
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@457 6046fb1f-dae2-0310-8472-869a43925389

commit 75d62f71d7959bcc66bfe17926359a3efc764273
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 11:54:02 2005 +0000

    Send MTU option (testing)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@456 6046fb1f-dae2-0310-8472-869a43925389

commit fbfb7a41c6323faf176e4926d5f2addaa1b468b8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 11:46:25 2005 +0000

    Update TODO list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@455 6046fb1f-dae2-0310-8472-869a43925389

commit 0963fb1ce08c02f1b37382ddc6571b28ec16f58a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 11:46:02 2005 +0000

    One comment about libcap
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@454 6046fb1f-dae2-0310-8472-869a43925389

commit a4ca3654f648d9951a55c8ae053dadf92e5141a6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun May 1 11:45:41 2005 +0000

    Add missing #include
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@453 6046fb1f-dae2-0310-8472-869a43925389

commit aa46165a5cee5227fd55071f5cf9b5dd0a43e60b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 30 16:26:35 2005 +0000

    Remove autopackage directory from source tarball :
    it's not supposed/meant to be used by external packagers/users
    (and it's still available through SVN anyway)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@452 6046fb1f-dae2-0310-8472-869a43925389

commit 78337c49269582f5b01e47034f35dfc4022a7802
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 30 16:19:03 2005 +0000

    autopackage/default.apsec needn't be generated automatically by configure
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@451 6046fb1f-dae2-0310-8472-869a43925389

commit 7391d2b22a1c0e746edb0f1e9b06ff955aeb8b51
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 30 12:16:18 2005 +0000

    apbuild spec that works (if installed as root only)
    There's still several shortcomings in autopackage to be addressed first
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@450 6046fb1f-dae2-0310-8472-869a43925389

commit eb9aecba133b2090f9561bc3385c8d9f487cb84b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 30 10:06:20 2005 +0000

    Clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@449 6046fb1f-dae2-0310-8472-869a43925389

commit ec59ed825ddf22be47fad5f503f0e1311ae5a23c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 30 09:59:07 2005 +0000

    Add/fix $Id$
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@448 6046fb1f-dae2-0310-8472-869a43925389

commit e84cd47c8069a45d37f611a38fd854832f403042
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 30 09:44:52 2005 +0000

    Don't let BinReloc handle SYSCONFDIR (it is inconsistent with autopackage)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@447 6046fb1f-dae2-0310-8472-869a43925389

commit d6338e8cb0e779d8b350f5a8ff0a787410a9af69
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Apr 30 09:43:55 2005 +0000

    Fix defaults value documentation for InterfaceName
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@446 6046fb1f-dae2-0310-8472-869a43925389

commit b1cb0a83e644d27fb12253674cadc77b5b9ceb61
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 29 21:06:43 2005 +0000

    Initial autopackage package build support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@445 6046fb1f-dae2-0310-8472-869a43925389

commit 07eaa0efee527d45a129ebed38d564e4f6c33a78
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 29 17:46:26 2005 +0000

    Fix copyright notices
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@444 6046fb1f-dae2-0310-8472-869a43925389

commit a84d96b96383672f5ab6932ca546b20efbf7f5e9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 29 17:42:17 2005 +0000

    - add m4/binreloc.m4 to EXTRA_DIST
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@443 6046fb1f-dae2-0310-8472-869a43925389

commit 97fe0a4788fa9024b0ee349a0e9a3569f85ba0de
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 29 17:28:00 2005 +0000

    Use of BinReloc from AutoPackage project
    (with modifications to binreloc.m4 not to check for pthread,
    since we don't need it)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@442 6046fb1f-dae2-0310-8472-869a43925389

commit 9861e8e477f634102f2c4f9505c77451ccac14de
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 29 17:02:34 2005 +0000

    Cleanup creation/deletion of pidfile/chroot directory
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@441 6046fb1f-dae2-0310-8472-869a43925389

commit 77389f12cd3d7ee8ba5fc47e5795781c7ca4ec9c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 29 16:12:43 2005 +0000

    Get rid of built source src/host.h
    / Use a much simpler alternative from configure.ac
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@440 6046fb1f-dae2-0310-8472-869a43925389

commit cbad70a89593b031431a2de09b33833d50d60b38
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 29 16:01:25 2005 +0000

    Fix a typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@439 6046fb1f-dae2-0310-8472-869a43925389

commit b024c50b1677a7188c45dee41408be7dbdc5fa6d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 29 15:54:54 2005 +0000

    Bring back host and build architecture in version infos
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@438 6046fb1f-dae2-0310-8472-869a43925389

commit 4ef9b4901bcb9074c3f9c2e1cc0b42165d8e925d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 29 13:56:41 2005 +0000

    Bump version number to 0.4.3
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@437 6046fb1f-dae2-0310-8472-869a43925389

commit c5339da48536edd2d3de5f9f4cb1b636c56d34b8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 29 09:51:06 2005 +0000

    ChangeLog update for release 0.4.2
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@435 6046fb1f-dae2-0310-8472-869a43925389

commit b7319acc7331a4afc31dda5416646453f016ac93
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 29 09:49:06 2005 +0000

    - News for release 0.4.2
    - Resync pot files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@434 6046fb1f-dae2-0310-8472-869a43925389

commit 91a8c03ac0a3356add6359fdbbe2d1ad99ca4a41
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 29 09:48:40 2005 +0000

    More strict release checks
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@433 6046fb1f-dae2-0310-8472-869a43925389

commit 69085f9993014daa89dcc6596ff54ddf338f1ff8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Apr 29 09:28:16 2005 +0000

    Remove hard-coded access-list that prevented reply bubbles from restricted
    clients from being processed by the relay/client, effectively denying
    connectivity toward restricted clients.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@432 6046fb1f-dae2-0310-8472-869a43925389

commit 81b0a91f7560938bd8fa839877b78bcfe266ebbf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 28 18:42:02 2005 +0000

    Translations updates
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@431 6046fb1f-dae2-0310-8472-869a43925389

commit 5521b9981ce5c939885b731ef37c7339ccc41b21
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 28 18:37:08 2005 +0000

    Bump version number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@430 6046fb1f-dae2-0310-8472-869a43925389

commit 049ee0f41da50b4238f258329e37883eafb240c1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 28 18:35:49 2005 +0000

    command line syntax changed => update doc
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@429 6046fb1f-dae2-0310-8472-869a43925389

commit 08301e51e7556f9065ea58ef5ae12291a8665405
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 28 18:32:32 2005 +0000

    Support for overriding the configuration file's ServerAddress from the
    command line
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@428 6046fb1f-dae2-0310-8472-869a43925389

commit fd9aa7d7a17861077d82176bef56f1bb6651fbd1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 28 15:57:12 2005 +0000

    More ToDos
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@427 6046fb1f-dae2-0310-8472-869a43925389

commit 8c0bc4e865d4fdcc77b14db3c6a72f89b0793824
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 28 14:55:51 2005 +0000

    - Bring back connectivity loss detection with a much better algorithm
    (no longer fail on the very first unreplied server solicitation);
    could still be improved a bit
    - some clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@426 6046fb1f-dae2-0310-8472-869a43925389

commit 1ab592035d98b9dad76bcbb7b4b759cd70c967b8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 28 13:55:47 2005 +0000

    Fix possible signedness problem with TeredoRelay::peer::IsExpired
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@425 6046fb1f-dae2-0310-8472-869a43925389

commit eeadf58381e28024d0648a421e43d9da31299c7f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 28 13:43:08 2005 +0000

    Don't call TeredoRelay::Process when client support is not compiled-in
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@424 6046fb1f-dae2-0310-8472-869a43925389

commit fc7da7864fdfba7549b2fb700390a68d83b923f3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 28 13:40:51 2005 +0000

    Fix server address check
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@423 6046fb1f-dae2-0310-8472-869a43925389

commit 5b6e7716c4ed5820dfb5714a5af61ac1f4129d10
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 28 13:40:35 2005 +0000

    Remove done TODO from list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@422 6046fb1f-dae2-0310-8472-869a43925389

commit b9283fc2aeba961c12c2216f13cc704e389b3f04
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 28 13:19:38 2005 +0000

    Completely ignore server packets that fails authentication check
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@421 6046fb1f-dae2-0310-8472-869a43925389

commit fc88b92aba42182b72fc8f4a05d1ddd12034349b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 28 12:36:45 2005 +0000

    Clean up / avoid some code duplication
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@420 6046fb1f-dae2-0310-8472-869a43925389

commit e060196e70d3b9dbe49ec1be4a8ed80c5ce6d500
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 28 12:30:07 2005 +0000

    Further clean up...
    made TeredoRelay::peer a class
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@419 6046fb1f-dae2-0310-8472-869a43925389

commit bc0ebe11d6f2b6145f8e5ec78ecfab2e951ec663
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Apr 28 11:47:33 2005 +0000

    - use struct timeval instead of time_t to determine peer expiry
    - break one bubble per 2 seconds limit
    - clean up use of last_rx and last_xmit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@418 6046fb1f-dae2-0310-8472-869a43925389

commit 9df56572a203c99a238197bf81239ab29565d629
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Apr 25 16:33:25 2005 +0000

    Update for newer autotools
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@417 6046fb1f-dae2-0310-8472-869a43925389

commit be798e009726770813da1eb5234532dc9e286239
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Mar 20 15:37:25 2005 +0000

    Include license in SVN trunk
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@413 6046fb1f-dae2-0310-8472-869a43925389

commit 77ad3277759d5e0541c334465216c63096af5c01
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 17 19:16:20 2005 +0000

    ChangeLog 0.4.1 update
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@411 6046fb1f-dae2-0310-8472-869a43925389

commit 2aa5d7bc929405ca7869a83bee47427acdc0867d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 17 19:14:31 2005 +0000

    Update French translation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@410 6046fb1f-dae2-0310-8472-869a43925389

commit cfcf6bab5d23ec734c79eb7fd255cda91d6014e4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 17 19:11:53 2005 +0000

    Updated NEWS for release 0.4.1
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@409 6046fb1f-dae2-0310-8472-869a43925389

commit f2fd6cc3040d7cea13d8793828985ffee58896ad
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 17 19:10:21 2005 +0000

    Better decsription of default value for ServerAddress
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@408 6046fb1f-dae2-0310-8472-869a43925389

commit 2b20b24d4aa28cd355182ab64f34b961227fd6da
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 17 19:09:54 2005 +0000

    - Fail cleanly when no server specified in client mode,
    - Do not display unhandled conf directives in case of conf syntax error
    - Use LOG_PERROR option so that error are displayed on screen when run in
      foreground
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@407 6046fb1f-dae2-0310-8472-869a43925389

commit 8a623dfca0681ff57023ef29800376f6ff36dd34
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Mar 17 19:08:16 2005 +0000

    Allow not to display superfluous conf directives
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@406 6046fb1f-dae2-0310-8472-869a43925389

commit 4a5ea82ff30956aa48fd6913934eb9cdf877cfd5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Mar 16 12:55:38 2005 +0000

    Do not check relay status when in disabled mode.
    Miredo wouldn't otherwise run in disabled mode (ie server-only)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@405 6046fb1f-dae2-0310-8472-869a43925389

commit efa5918c9913fd4c0fd0378806214b23472f258e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Mar 13 13:35:25 2005 +0000

    More comments in sample config
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@404 6046fb1f-dae2-0310-8472-869a43925389

commit 36134b4335ca4c2cad6e362fd835a122c5155156
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Mar 12 12:48:25 2005 +0000

    A few more
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@403 6046fb1f-dae2-0310-8472-869a43925389

commit e1ed553dfc5429fbd224854e90353c4f66f80104
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Mar 12 12:45:19 2005 +0000

    Updates svn:ignore
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@402 6046fb1f-dae2-0310-8472-869a43925389

commit 5def77168fe1bde1f72d51d036a6588779a741d3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Feb 15 14:43:55 2005 +0000

    Updated todo list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@401 6046fb1f-dae2-0310-8472-869a43925389

commit ef7f27969c72a295dbd221f2d3f716070747357a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Feb 12 09:23:59 2005 +0000

    - Do not reset the link-local address unless it really changes :
      should work around kernel bug http://bugme.osdl.org/show_bug.cgi?id=3973
    - Do not bring the tunnel up & down when the connectivity is lost :
      simply remove the addresses (could be annoying for programs that watch
      interface state or dump traffic)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@400 6046fb1f-dae2-0310-8472-869a43925389

commit 48634d80e8d0b6160d32ea0ef412adb7e9e3fe11
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Feb 8 22:21:43 2005 +0000

    Fix inconsistencies about the command line syntax
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@399 6046fb1f-dae2-0310-8472-869a43925389

commit 500f6df984a60cb1ad294a3427701b2de70656e9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 23 22:17:28 2005 +0000

    Cleanup : struct miredo_conf
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@398 6046fb1f-dae2-0310-8472-869a43925389

commit 780bacd2e958f2fd78ce846c214d372923d000a6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 23 20:05:50 2005 +0000

    Removed useless global variable
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@397 6046fb1f-dae2-0310-8472-869a43925389

commit b71d06cdb1d5809e55849e3d9a19dbdbb05e91d4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 22 21:22:52 2005 +0000

    Removed check for null server addresses that is now part of v4global.c
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@396 6046fb1f-dae2-0310-8472-869a43925389

commit 1f00c2eb05976f41c844071ec3fd1d5cd805a546
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 22 21:02:43 2005 +0000

    Some more comments
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@395 6046fb1f-dae2-0310-8472-869a43925389

commit ac8e24336e0fbb122a5e7a554436be2480973bb4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 22 21:02:20 2005 +0000

    Updates global IPv4 access list, which is given explicitly in draft 04
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@394 6046fb1f-dae2-0310-8472-869a43925389

commit 68280dede5f986a5e8b819f07e7c04c39b9088be
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 22 18:24:13 2005 +0000

    Fixes comment about RelayType. Bug reported by Shai
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@393 6046fb1f-dae2-0310-8472-869a43925389

commit a023cd2127649af7dceb5ff08acdebf41bec7c76
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jan 14 22:16:15 2005 +0000

    Chroot after networks settings/privsep initialisation
    (grsecurity wants this)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@392 6046fb1f-dae2-0310-8472-869a43925389

commit 1c0eb711d1531304e98d9a99745bd8590e101202
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jan 14 22:15:25 2005 +0000

    Increment version number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@391 6046fb1f-dae2-0310-8472-869a43925389

commit 124f678699567eaff9c98059ad3b44b79bb1b28e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 8 14:57:18 2005 +0000

    Fixed manual page title
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@388 6046fb1f-dae2-0310-8472-869a43925389

commit 2266a6f219215726cdd1aaa3653c8ad033932574
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 8 00:26:19 2005 +0000

    Prepare 0.4.0 release
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@387 6046fb1f-dae2-0310-8472-869a43925389

commit 2f44f16bce2eca53a801296e553123fd27700b0a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 8 00:13:55 2005 +0000

    PO files updates
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@386 6046fb1f-dae2-0310-8472-869a43925389

commit b5ae1bb8c6bed5f7abc5e34605780806a82b949c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jan 7 16:35:48 2005 +0000

    Fixes for some mem leaks, incorrect syslog messages and segfault on reload in configuration file handling.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@385 6046fb1f-dae2-0310-8472-869a43925389

commit 45a34629a6f249eaddf970cb54098a471b8a5440
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jan 7 15:04:28 2005 +0000

    BSD compile fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@384 6046fb1f-dae2-0310-8472-869a43925389

commit 52e3273b3da7777630266cfaffdf4d5f5ceb53a4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jan 7 12:45:49 2005 +0000

    BSD compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@383 6046fb1f-dae2-0310-8472-869a43925389

commit 1ef592103efe82e5573dd335e5c6d31201b04f27
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jan 7 12:39:07 2005 +0000

    - SyslogFacility directive implementation
    - bump version number to 0.4.0 since the program "interface" is
      completely incompatible with that of the previous versions
      (there will be no 0.3.3)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@382 6046fb1f-dae2-0310-8472-869a43925389

commit 39f6d11d92d9040649efe4d33823083ad4c98389
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jan 6 10:16:43 2005 +0000

    - Fixes path to the chroot directory and the pidfile.
    - Disable fairly useless option to change pidfile at run-time.
    - Fixes bug when -t option was used while it does no longer exists.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@381 6046fb1f-dae2-0310-8472-869a43925389

commit e8c4990e087f67b4c8bd6e84128c9f44d3527904
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jan 6 09:06:52 2005 +0000

    Changed docs for new chroot system
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@380 6046fb1f-dae2-0310-8472-869a43925389

commit 10fe5bfcc201c7c2724658b36ce8717be994e632
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 5 22:10:55 2005 +0000

    PO updates
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@379 6046fb1f-dae2-0310-8472-869a43925389

commit e29339628c4af98ee1348d496f55ab2b8ef11006
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 5 22:03:24 2005 +0000

    Check chroot directory before running
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@378 6046fb1f-dae2-0310-8472-869a43925389

commit 9fb2d094dc1f3ab5f6ae2ee3629cf27f9faccfe1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 5 21:12:34 2005 +0000

    Simply privsep (similarly as previous commit)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@377 6046fb1f-dae2-0310-8472-869a43925389

commit 771a23da297a97312dc9fb1d113b6f459c48f271
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 5 21:04:44 2005 +0000

    Doing initialization as root is much simpler, and might actually be
    safer (e.g; can't receive signal from unprivileged user's processes)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@376 6046fb1f-dae2-0310-8472-869a43925389

commit b072c61c3002b6df05febb9a473e321360628677
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 5 18:00:19 2005 +0000

    - Check if miredo.conf is readable before daemon(),
    - Some cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@375 6046fb1f-dae2-0310-8472-869a43925389

commit 6f896d5f43d054966d5f199ecaa748d5f258aaf4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 5 17:19:38 2005 +0000

    Minor signal handling security improvement
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@374 6046fb1f-dae2-0310-8472-869a43925389

commit 00b4cb76d30cf9e7c06ce575194040d1fe1e55cf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jan 5 15:05:00 2005 +0000

    Updates for sample init scripts
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@373 6046fb1f-dae2-0310-8472-869a43925389

commit 4aec63635d4c0797ea64e5831a65bf488658265f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 4 22:27:07 2005 +0000

    Remove very hard to setup "early" chroot feature, obsoleted by late
    chroot feature
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@372 6046fb1f-dae2-0310-8472-869a43925389

commit e00cfa2b61527e0ddfd81e4292d6ffde70505601
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 4 21:52:37 2005 +0000

    Easy late chroot (path configurable with --enable-chroot configure option)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@371 6046fb1f-dae2-0310-8472-869a43925389

commit b751114517b77d7586c0a190ba6531ec7afed5ad
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 4 14:04:39 2005 +0000

    Change syslog message severity
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@370 6046fb1f-dae2-0310-8472-869a43925389

commit 3ca74a50233d8180cee9c5e788e1e90fdeb7e251
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jan 4 12:35:38 2005 +0000

    Fixes infinite loop when processing SIGHUP
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@369 6046fb1f-dae2-0310-8472-869a43925389

commit a92de5c8d3eb6f9deffd8ac9f264dee611846c48
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 3 23:54:24 2005 +0000

    Fixes bug where miredo.conf.5 was installed as "man 8 miredo.conf"
    instead of "man 5 miredo.conf"
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@368 6046fb1f-dae2-0310-8472-869a43925389

commit af1a9fe459c0bdcbe6f4cb578e3e7a0daa91a8d5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 3 23:52:33 2005 +0000

    DefaultRoute boolean directive implementation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@367 6046fb1f-dae2-0310-8472-869a43925389

commit b481f473504718286fe3fd5c8c6860c3cd26a4d5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jan 3 23:42:16 2005 +0000

    Support for parsing boolean directives
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@366 6046fb1f-dae2-0310-8472-869a43925389

commit ecb6d254cb5293313181020aee5709fb6717bd5f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 2 20:49:54 2005 +0000

    Comment about client mode
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@365 6046fb1f-dae2-0310-8472-869a43925389

commit 0f6d979f0de7c5ee11c140cfe055b67ee8a77ecb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 2 20:46:49 2005 +0000

    Fix bogus duplicate option error
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@364 6046fb1f-dae2-0310-8472-869a43925389

commit 07e4453d8424e0a23861be70f78869900e40babb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 2 20:20:24 2005 +0000

    Note about configuration file and chroot
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@363 6046fb1f-dae2-0310-8472-869a43925389

commit 6cfdfc29ab3f9b64eaf332f762fa533fe474bbcc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 2 20:15:57 2005 +0000

    Updated NEWS
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@362 6046fb1f-dae2-0310-8472-869a43925389

commit eea92bbc7aced73b3b628119d26d7b2cfbc56a20
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 2 20:10:37 2005 +0000

    Fix memory leak
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@361 6046fb1f-dae2-0310-8472-869a43925389

commit ca8924ac4b06de1535d3cdb91521f775e377bd35
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 2 20:02:19 2005 +0000

    Updated README
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@360 6046fb1f-dae2-0310-8472-869a43925389

commit 5ac85f2167130c74660e2647de222cc78cfac25f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 2 19:43:57 2005 +0000

    Rename the sample conf file so that it does not override local older
    customized configuration file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@359 6046fb1f-dae2-0310-8472-869a43925389

commit 3eb619b0fa136b82ef40ca5fee9388c57036793b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 2 19:42:54 2005 +0000

    Update sample conf file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@358 6046fb1f-dae2-0310-8472-869a43925389

commit ae980e42d2d87a290fd990167a37cfde24b04242
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 2 19:39:17 2005 +0000

    Implement RelayType as documented in miredo.conf.5
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@357 6046fb1f-dae2-0310-8472-869a43925389

commit 45786117da30e12901fc56bda211e23c342e2402
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 2 13:48:20 2005 +0000

    French translation update
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@356 6046fb1f-dae2-0310-8472-869a43925389

commit e4ada6f112baddd836f4c19247af472336e93bdd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jan 2 13:45:31 2005 +0000

    miredo.conf reference
    (does not match current implementation)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@355 6046fb1f-dae2-0310-8472-869a43925389

commit 8b9cfe434a75356179c2b76a7f52e573ed4c1152
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 1 21:10:54 2005 +0000

    Partial miredo.conf manpage (to be completed)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@354 6046fb1f-dae2-0310-8472-869a43925389

commit af6401d17d3c0178e0b3fb96484b7f111bd4683d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 1 21:04:43 2005 +0000

    Updates miredo.8 man page with new syntax
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@353 6046fb1f-dae2-0310-8472-869a43925389

commit e6df98d9a6699c723e3aa09ee188504f1577cf3c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 1 20:27:50 2005 +0000

    Cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@352 6046fb1f-dae2-0310-8472-869a43925389

commit 49ceddb4e2e5387798fe17b6932b5f128300d39b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 1 12:51:52 2005 +0000

    Updates TODO list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@351 6046fb1f-dae2-0310-8472-869a43925389

commit dfa1d4e4871d33fb1cc73b5687058904433b21b1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 1 12:50:26 2005 +0000

    Gets interface & Teredo prefix from config file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@350 6046fb1f-dae2-0310-8472-869a43925389

commit 0da26981f9996dca8de24dffdc25c7d4e58e5e01
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 1 11:08:35 2005 +0000

    New (much simpler) command line syntax for use with conf file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@349 6046fb1f-dae2-0310-8472-869a43925389

commit 1667529dd6c63263d1f6415a167ba361102f645d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 1 00:27:14 2005 +0000

    PO updates
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@348 6046fb1f-dae2-0310-8472-869a43925389

commit 5ae4a558ace7380ded7090d14fde8b3e3d9a21f5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 1 00:21:55 2005 +0000

    Fixed syslog messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@347 6046fb1f-dae2-0310-8472-869a43925389

commit bb8af13b75ec282630d6c800f5664dac108c99df
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jan 1 00:18:16 2005 +0000

    - fix BindPort byte order
    - clean up main process termination & reload
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@346 6046fb1f-dae2-0310-8472-869a43925389

commit 276ca68a24c4f23faa5255e7a5370adb3e93f747
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 31 23:50:42 2004 +0000

    Fix parameters ordering in call to miredo_run()
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@345 6046fb1f-dae2-0310-8472-869a43925389

commit 6e833ceb5c7eed70eb467e81476ef9d802b8db24
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 31 23:45:38 2004 +0000

    Do not create a relay when running server only
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@344 6046fb1f-dae2-0310-8472-869a43925389

commit 86aba049bc2cecf2dec48f0725f1e2185a4281a0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 31 23:44:14 2004 +0000

    Do not export a route to Teredo when running a server without relay
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@343 6046fb1f-dae2-0310-8472-869a43925389

commit 4fbc02e327e3954b9f603eafde9dc644df462774
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 31 23:41:43 2004 +0000

    - Removed debug messages
    - Ignore "empty" comment lines
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@342 6046fb1f-dae2-0310-8472-869a43925389

commit 5b46d711c769a69942350fb0386634f9035332c4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 31 23:39:12 2004 +0000

    Configuration file parsing
    (many regressions to be fixed later -- hardly useable revision)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@341 6046fb1f-dae2-0310-8472-869a43925389

commit dd389a717f226ea2eb95fc2768eb6293b03aecfe
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 31 13:28:42 2004 +0000

    Typos in comments
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@340 6046fb1f-dae2-0310-8472-869a43925389

commit a11e35a7e3d644fa6ca7cbd310d243a359a6802e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 31 13:10:45 2004 +0000

    Do no longer requires /var/run/miredo directory
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@339 6046fb1f-dae2-0310-8472-869a43925389

commit 185ad41d837e0b8369605576249557b6132ef024
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 31 13:09:52 2004 +0000

    - Create pid file in /var/run instead of /var/run/miredo
    - Get root to remove pid file before exit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@338 6046fb1f-dae2-0310-8472-869a43925389

commit 0dbc723caa94efd43f5cbe242e0eb98a3b1388dd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 31 13:05:00 2004 +0000

    Create pid file as root
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@337 6046fb1f-dae2-0310-8472-869a43925389

commit 00458c24708bdc01fbb87d9659bbb8092659d6dd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 31 12:41:06 2004 +0000

    Fixed comment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@336 6046fb1f-dae2-0310-8472-869a43925389

commit cc6ff93f076033e48ee80f2963f30587a184e34f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 31 12:39:29 2004 +0000

    Safe pid file creation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@335 6046fb1f-dae2-0310-8472-869a43925389

commit 948658fb654b7c7c96bb66f425ea1417c105734e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 30 15:57:52 2004 +0000

    POTFILES update
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@334 6046fb1f-dae2-0310-8472-869a43925389

commit 6c93eb5e972d8dafa734a8d2f02b7f5ded82af30
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 30 15:55:03 2004 +0000

    FreeBSD compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@333 6046fb1f-dae2-0310-8472-869a43925389

commit e5f3ef4d70676865e673d6e99dc040db8bc4d872
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 30 15:50:30 2004 +0000

    #include headers cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@332 6046fb1f-dae2-0310-8472-869a43925389

commit c28c7d0cc3dfcbb80899e526b9da20b78538399c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 30 15:42:33 2004 +0000

    Another code split
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@331 6046fb1f-dae2-0310-8472-869a43925389

commit d3237d5a339f0e774f40dc428c7361778243f017
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 30 15:33:00 2004 +0000

    Code split
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@330 6046fb1f-dae2-0310-8472-869a43925389

commit d7f0fc2c3047cca88c68583788885301105ee160
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 30 15:17:52 2004 +0000

    Cleanup to prepare separation of Teredo(Relay|Client|Server)UDP
    out of teredo-udp.*
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@329 6046fb1f-dae2-0310-8472-869a43925389

commit d0d32a01d671659f5eb9a4c87aae7ce58889372e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 30 14:58:18 2004 +0000

    TeredoClientUDP / Multicast socket support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@328 6046fb1f-dae2-0310-8472-869a43925389

commit 95e0fac79803e078544580867ae1d5728f9634d4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 30 14:48:18 2004 +0000

    Add symbolic constants for Teredo Discovery multicast address
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@327 6046fb1f-dae2-0310-8472-869a43925389

commit e4680eb54f7faaa318253ea53885279e31165db4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 30 13:43:47 2004 +0000

    Common Receive...() code factorization
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@326 6046fb1f-dae2-0310-8472-869a43925389

commit bb25a676ca47ee42b47802b62513996a49099240
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 30 13:35:05 2004 +0000

    Processes packets from server's secondary IP address even if the primary IP sockets is permanently busy
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@325 6046fb1f-dae2-0310-8472-869a43925389

commit 56495d28b7dc54c4ea5371105f3dfef350d95e38
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 30 13:22:45 2004 +0000

    Cleanup server processing rules
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@324 6046fb1f-dae2-0310-8472-869a43925389

commit e73da755a2025d45f8687eed9bb4c854366cf260
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 30 12:37:35 2004 +0000

    - Better error handling in TeredoServerUDP::ListenIP
    - Fixed thread-safety issue with use_secondary_ip in TeredoServer
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@323 6046fb1f-dae2-0310-8472-869a43925389

commit cfe646fdc1d6c5e38939d6cd9e6e8d88bed61e3d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 30 12:08:38 2004 +0000

    Thread-safety fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@322 6046fb1f-dae2-0310-8472-869a43925389

commit 596fab4362d735d290639c4527d5dd7f86e8fcc3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 30 11:06:18 2004 +0000

    Packet::unsafe_Trash made static
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@321 6046fb1f-dae2-0310-8472-869a43925389

commit 944a3bffbfe69f5728ddd37e9b99aa7610bd789f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 29 16:28:58 2004 +0000

    Set Multicast TTL to 1
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@320 6046fb1f-dae2-0310-8472-869a43925389

commit 6a84c9bea6cbf8e589e1fc4ad69b3702d0db89e3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 29 10:41:10 2004 +0000

    Minimalistic source IPv6 address checks on received packets
    (drop link-local packets for security's sake)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@319 6046fb1f-dae2-0310-8472-869a43925389

commit 194fd1b5255c5a7164c9e7e756f94d7ee1c385fa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 29 09:12:26 2004 +0000

    Handle error case properly
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@318 6046fb1f-dae2-0310-8472-869a43925389

commit 784e03b6e4848b8900e36d2019de27660568caf9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 28 20:35:12 2004 +0000

    Same as previous commit - for server stuff
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@317 6046fb1f-dae2-0310-8472-869a43925389

commit 6fc246d0d5b0260f666bf186b8c3064e6ee4eb63
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 28 20:19:24 2004 +0000

    Got rid of the big full IPv6 packet memcpy()
    on the UDP socket side.
    
    (We had already gotten rid of the other memcpy in IPv6Tunnel with the help of
    writev()/readv(). There is no longer any memcpy of a entire packet)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@316 6046fb1f-dae2-0310-8472-869a43925389

commit 8413cbb81f557186b75d71d341eaa1890c452d1b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Dec 28 19:44:08 2004 +0000

    Update
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@315 6046fb1f-dae2-0310-8472-869a43925389

commit ac7e6b679037c3329a02b202da6398828f76db79
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 25 16:33:16 2004 +0000

    Update PO files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@314 6046fb1f-dae2-0310-8472-869a43925389

commit d64bcd7997072eb3b8ff57eb382a58f85f602f52
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 25 16:27:01 2004 +0000

    Fix Debian-style initscript
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@313 6046fb1f-dae2-0310-8472-869a43925389

commit 0a1cbb4c7c16b7b135f5578d7116f57f5bd40462
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 25 16:21:32 2004 +0000

    Option for not compiling Teredo client support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@312 6046fb1f-dae2-0310-8472-869a43925389

commit 6fbe2b5fdfa6617132a53d74f072c3a834d7c7da
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 25 16:04:18 2004 +0000

    Support for not compiling relay/client support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@311 6046fb1f-dae2-0310-8472-869a43925389

commit 58abd479c97a3ccb224d9d16f005f08d3702a606
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 25 15:54:45 2004 +0000

    Options (unhandled) to disable relay/client or only client
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@310 6046fb1f-dae2-0310-8472-869a43925389

commit 3ab17185911edc8276d94063cde7f44842ef2372
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 25 15:29:55 2004 +0000

    - Fix and cleanup Autoconf/M4 quoting
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@309 6046fb1f-dae2-0310-8472-869a43925389

commit af3c82bb197758ecb6b9d7b930a5b0c04149c894
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 25 14:09:29 2004 +0000

    Removed unused variable
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@308 6046fb1f-dae2-0310-8472-869a43925389

commit 1b749ca4a8019ba3e86db40132202e6ab3a25500
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 25 14:08:43 2004 +0000

    Fix race condition in the select() call with signal handlers.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@307 6046fb1f-dae2-0310-8472-869a43925389

commit b5609104d86988a2a281579c4394fbc9a3d315f4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 25 13:47:22 2004 +0000

    --disable-teredo-client is a TODO
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@306 6046fb1f-dae2-0310-8472-869a43925389

commit e5cc02df253cc7770ef12e86072243814b7fc9b4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 25 13:27:35 2004 +0000

    Avoid warning from GCC
    (GCC is wrong though)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@305 6046fb1f-dae2-0310-8472-869a43925389

commit a05444a57fb9c4978399a8dd50a1c02f6683e676
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 25 13:19:10 2004 +0000

    --disable-teredo-server option to not compile Teredo server support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@304 6046fb1f-dae2-0310-8472-869a43925389

commit dfe8179945790992fde259e398b3f567f367fefd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 24 14:36:24 2004 +0000

    Default Miredo config file (unused yet)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@303 6046fb1f-dae2-0310-8472-869a43925389

commit ed6f61a845458c4855dd8834373c2dc5f0adf68c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 22 08:58:17 2004 +0000

    - Fixed typo in comment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@302 6046fb1f-dae2-0310-8472-869a43925389

commit edf49c90ef88c304a50c2f73640c6ddecd51237e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 22 08:58:08 2004 +0000

    Remerge PO files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@301 6046fb1f-dae2-0310-8472-869a43925389

commit 670331af2048b56c29be08cb0e5a0b847abbf396
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Dec 22 08:57:55 2004 +0000

    - update version to future 0.3.3
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@300 6046fb1f-dae2-0310-8472-869a43925389

commit 3740a38ef53998c4550301c58c69834273972bae
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 17 16:11:24 2004 +0000

    - ChangeLog for 0.3.2 release
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@298 6046fb1f-dae2-0310-8472-869a43925389

commit cf2190651e71be9c6b8226b040832f2538f205e3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 17 16:09:53 2004 +0000

    Fill NEWS for 0.3.2
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@297 6046fb1f-dae2-0310-8472-869a43925389

commit cf6b3bae9fbe1be477ef6444a74a19b7127dda3e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 17 16:01:50 2004 +0000

    Check for library providing POSIX threads
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@296 6046fb1f-dae2-0310-8472-869a43925389

commit 4a0004ce3d4c93792a1954cf8c3149b5561f5799
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 12 23:29:38 2004 +0000

    First news for 0.3.2
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@295 6046fb1f-dae2-0310-8472-869a43925389

commit f95b08891a32fba140a550d6c88509375805d418
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 12 16:59:00 2004 +0000

    Configure-time option to change the default pidfile path
    or disable the pidfile by default
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@294 6046fb1f-dae2-0310-8472-869a43925389

commit 43bce5738847b5ad1d520e5fbd74637ec28293f6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Dec 6 13:01:30 2004 +0000

    Update to Teredo Internet draft 03
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@293 6046fb1f-dae2-0310-8472-869a43925389

commit d9ec85183d90614776acb62708fee6171eb6c179
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 5 09:38:37 2004 +0000

    Fix libintl linkage on non-GNU platforms
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@292 6046fb1f-dae2-0310-8472-869a43925389

commit 0282ee1d220c28f3f90853e5f54cea3ef0e9d386
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Dec 5 09:32:06 2004 +0000

    Link with -lpthread explictly
    => fix FreeBSD linker error
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@291 6046fb1f-dae2-0310-8472-869a43925389

commit 71b1f620715d2bb637c8d79c250e06f691384ae2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Dec 4 09:51:34 2004 +0000

    Really fix access control for nested classes
    (I used a feature of C++ which is not even standard yet)
    Will work with G++2.95
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@290 6046fb1f-dae2-0310-8472-869a43925389

commit 1bc2070de26e45b36c9f69a4de75b0bea99b8d99
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 3 21:54:44 2004 +0000

    Updated PO files
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@289 6046fb1f-dae2-0310-8472-869a43925389

commit 7b55fabb874dc55b3d863949bef2c372aa75caef
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 3 21:51:41 2004 +0000

    Update security informations with the new nobody UID stuff
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@288 6046fb1f-dae2-0310-8472-869a43925389

commit 1ec68e22987ce972991c3effeff8e52f8e208aed
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 3 21:44:51 2004 +0000

    Setuid to nobody by default instead of keeping root.
    Portable, easy for user, far more secure and more simple for me.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@287 6046fb1f-dae2-0310-8472-869a43925389

commit ac9d95da1be4f60054fbfd3a431585e0289a1d68
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 3 16:13:19 2004 +0000

    Fixed TeredoRelay::SendIPv6Packet access qualifier from private to protected
    => fixes a FreeBSD compile error
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@286 6046fb1f-dae2-0310-8472-869a43925389

commit f6584a89c067d2972e16a61511c208c0dfbdec16
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Dec 3 14:47:31 2004 +0000

    Bump version number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@285 6046fb1f-dae2-0310-8472-869a43925389

commit 5c01ca8a035bb1ae1eb1926fc19044afb609a7dc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 20:43:15 2004 +0000

    Cleanup for security scanners
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@284 6046fb1f-dae2-0310-8472-869a43925389

commit 7190c676034c9cef758227ebf1fd8e9c5c81e11f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 20:11:48 2004 +0000

    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@282 6046fb1f-dae2-0310-8472-869a43925389

commit e9d86bce93371cc3bbe4ae25bd0f2ba8428440b5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 15:08:40 2004 +0000

    Resync with source
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@281 6046fb1f-dae2-0310-8472-869a43925389

commit 366226ffd00a7cba4355a2632a9fff6dc5d1e50d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 15:07:35 2004 +0000

    Added misc directory to tarball
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@280 6046fb1f-dae2-0310-8472-869a43925389

commit cb9ec88a88d60e64b84338dc692af3074f82640b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 15:00:26 2004 +0000

    Updated for release 0.3.1
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@279 6046fb1f-dae2-0310-8472-869a43925389

commit 018ab8fada369a5de75231598c9ebbccb321143e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 14:55:56 2004 +0000

    - Teredo is built-in XP SP2's IPv6 stack,
    - Linux 2.4 does not work fine with IPv6
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@278 6046fb1f-dae2-0310-8472-869a43925389

commit 64a654c78b739fea4f7a75907f1830b27bbfb026
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 14:40:13 2004 +0000

    Instructions on /var/run/miredo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@277 6046fb1f-dae2-0310-8472-869a43925389

commit 7784d7640d083b386129bcb2812dcca9ea05fc9b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 14:34:10 2004 +0000

    Sample init scripts
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@276 6046fb1f-dae2-0310-8472-869a43925389

commit 8ac0367fb3615cb49d5ce2daa6cce0b4518ce6e8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 14:28:35 2004 +0000

    cast uid_t to int rather than unsigned
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@275 6046fb1f-dae2-0310-8472-869a43925389

commit 441600d9324143019f9f687cc2871f1053334c6d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 14:13:33 2004 +0000

    Added TODO : ability to change pid file location
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@274 6046fb1f-dae2-0310-8472-869a43925389

commit 7bdf0a36d63cf1f31ae4fd6421b90601d0a73bdd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 14:13:14 2004 +0000

    - PID file doc
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@273 6046fb1f-dae2-0310-8472-869a43925389

commit 9ffcea99d26357bf93732aa962331da431e2f7f0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 14:09:26 2004 +0000

    Updated TODO
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@272 6046fb1f-dae2-0310-8472-869a43925389

commit 8ad02007f60fe69f8597c8fd82eeccfe13243fa6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 14:08:56 2004 +0000

    Remove a documented bug that has long since been fixed (not chrooting)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@271 6046fb1f-dae2-0310-8472-869a43925389

commit b59b94644ab20fa95f1d3df59e2b05e15a9a819b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 14:07:07 2004 +0000

    - document pid file
    - emphasis fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@270 6046fb1f-dae2-0310-8472-869a43925389

commit feb78e0ffca069962911978f1119a5315629acb0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 13:59:05 2004 +0000

    Support for creating a PID file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@269 6046fb1f-dae2-0310-8472-869a43925389

commit bf270c6d53afedfe100c95515e4fe12eb58fc738
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 13:58:55 2004 +0000

    Signals documentation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@268 6046fb1f-dae2-0310-8472-869a43925389

commit 05b44d441550fe57ba7ae0c0c100c0f7df92a635
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 10:12:41 2004 +0000

    DNS chroot support is a packager's job, not mine
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@267 6046fb1f-dae2-0310-8472-869a43925389

commit e51f463ea4e45e612134482b3180ed28344a9df4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 10:10:33 2004 +0000

    - Updated README (ie. insecure install by default)
    - Note about bootstrap for SVN checkouters
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@266 6046fb1f-dae2-0310-8472-869a43925389

commit ab7cc2f2dea5082a1d4bce53197539cca1c30bcd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 09:43:52 2004 +0000

    Fix capabilities when running as root
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@265 6046fb1f-dae2-0310-8472-869a43925389

commit 944a351f0341e9b7978728fd8e03085418e15aa6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 09:33:42 2004 +0000

    Update translation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@264 6046fb1f-dae2-0310-8472-869a43925389

commit 6f5700526d8b1943a2bdb919fdd0fe1935610ef6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 09:31:51 2004 +0000

    Warn when running Miredo as root
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@263 6046fb1f-dae2-0310-8472-869a43925389

commit def6acf11efb88813d5facb416a3e541b4214b65
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Dec 2 09:31:33 2004 +0000

    Made --disable-miredo-user the default, to avoid user annoyance
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@262 6046fb1f-dae2-0310-8472-869a43925389

commit 6aed4cedf0ff360fb2d2094d0c66a76cf2988772
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 29 10:36:17 2004 +0000

    Mise-à-jour de la traduction francophone
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@261 6046fb1f-dae2-0310-8472-869a43925389

commit 44f7b92f69fa1c78cd8a34ea976660678e90801f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 29 10:27:48 2004 +0000

    Common error message when system privileges seem to be lacking
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@260 6046fb1f-dae2-0310-8472-869a43925389

commit d67f363d0b8e7f0f967f9c504df1dfe2c409fabb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 29 10:16:07 2004 +0000

    Do not reset effective UID when it's not needed
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@259 6046fb1f-dae2-0310-8472-869a43925389

commit d563188787c6d541f53dfaec786720d6472e5f4b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 27 23:17:27 2004 +0000

    Minor features enhancement, not major
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@258 6046fb1f-dae2-0310-8472-869a43925389

commit eef10a0f07315d801f520e4b58246e3af1bc2be2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 27 23:16:17 2004 +0000

    /dev/random is required too
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@257 6046fb1f-dae2-0310-8472-869a43925389

commit 9cc28689b4f24ea29e6f01a655a497e4450a5e48
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 27 23:14:05 2004 +0000

    Very useful error message when /dev/{u,}random could not be opened
    (particularly useful when chrooted)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@256 6046fb1f-dae2-0310-8472-869a43925389

commit fced74ebc25028b92ef308ffcb6f9f2e35db8fd0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 27 23:10:16 2004 +0000

    Fix error message when using a '0' as UDP port
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@255 6046fb1f-dae2-0310-8472-869a43925389

commit 4afb2e9c95c0b2f863a272ba6b3a7a19414dff82
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 27 22:29:05 2004 +0000

    - No longer require CAP_SETUID
    - Drop CAP_SETUID
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@254 6046fb1f-dae2-0310-8472-869a43925389

commit 64efaf4d6c014ba97e0fa1c04dfeb8a9d9084b30
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 27 18:49:19 2004 +0000

    Gettext news
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@253 6046fb1f-dae2-0310-8472-869a43925389

commit b73806714c849bb57b88c4e09cdb155fa8eabd3e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 27 18:47:15 2004 +0000

    POSIX.1e support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@252 6046fb1f-dae2-0310-8472-869a43925389

commit da26acf3dd6354801797dab69950485a0c4edb84
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 13 14:42:56 2004 +0000

    UTF-8
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@251 6046fb1f-dae2-0310-8472-869a43925389

commit a4e1251fa6508d1bc64bae300ec540d2e55bb616
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 13 14:42:36 2004 +0000

    Made US-ASCII
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@250 6046fb1f-dae2-0310-8472-869a43925389

commit 46ee0cf64d5345e420bf4caa2d2a97fdc83876ee
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 13 14:40:24 2004 +0000

    UTF-8 conversion
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@249 6046fb1f-dae2-0310-8472-869a43925389

commit 751b6cb8b8fadcdf7782a766da01769771f406a6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Nov 13 14:40:04 2004 +0000

    Removed confusing sentence about -p option's default behaviour
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@248 6046fb1f-dae2-0310-8472-869a43925389

commit 54f690925b009eb95d512cfe9e5b7d12e94c7ed0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 20:38:37 2004 +0000

    Intellectual property comments fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@247 6046fb1f-dae2-0310-8472-869a43925389

commit dabfa414f0557dfc078abc8bb722eda58c56d770
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 20:37:54 2004 +0000

    Updated todo list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@246 6046fb1f-dae2-0310-8472-869a43925389

commit 0fa31162fcb6b0e11f574ea8b7cdfc368bbd9c41
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 20:32:02 2004 +0000

    Fixed french quotes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@245 6046fb1f-dae2-0310-8472-869a43925389

commit 319247633cce5d91adc8cb0df32f83d575106ed4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 20:16:16 2004 +0000

    Fix US english quotes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@244 6046fb1f-dae2-0310-8472-869a43925389

commit ea95ec1e560137d302e56bb64f6a214c1d836796
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 20:08:36 2004 +0000

    Complete french translation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@243 6046fb1f-dae2-0310-8472-869a43925389

commit 1a52f26fea40d6b0c9a5b10a65d86c01e1cc01a9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 20:06:37 2004 +0000

    PO merge
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@242 6046fb1f-dae2-0310-8472-869a43925389

commit a3323fec0d299575996609b70f396f093d116bfd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 20:05:42 2004 +0000

    English string fixes
    Near complete french translation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@241 6046fb1f-dae2-0310-8472-869a43925389

commit 178ff6dad1ffe13868b634fdaa6e3f921dc466a2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 19:13:07 2004 +0000

    PO merge
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@240 6046fb1f-dae2-0310-8472-869a43925389

commit 5d2dafc41ee5c439ae05e36543a0a97a1ecd5960
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 19:12:02 2004 +0000

    Strings clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@239 6046fb1f-dae2-0310-8472-869a43925389

commit 621b8a498bd15da51a85c5279579dfd00130de6f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 18:29:07 2004 +0000

    PO updates
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@238 6046fb1f-dae2-0310-8472-869a43925389

commit b098ffcf6b198c9395c2b91e18c52b6686986044
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 18:27:54 2004 +0000

    Typo
    
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@237 6046fb1f-dae2-0310-8472-869a43925389

commit eb8bd2b3b548355d3b85e86e7620d5da00c4016f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 18:27:30 2004 +0000

    Fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@236 6046fb1f-dae2-0310-8472-869a43925389

commit 65dbf8401cce2a68a0fc9bfdde22f6007b48f390
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 18:26:10 2004 +0000

    Fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@235 6046fb1f-dae2-0310-8472-869a43925389

commit e22243c9681c705a7de0d947866ecf5f6670271b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 18:24:41 2004 +0000

    Partial french translation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@234 6046fb1f-dae2-0310-8472-869a43925389

commit 2c7bf7195f76066b509a580add969246fb77598d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 18:19:07 2004 +0000

    Much less debug messages.
    Fixed some messages.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@233 6046fb1f-dae2-0310-8472-869a43925389

commit 89326b9892f9c9918070b3b1c7daea0e3d847919
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 17:40:35 2004 +0000

    Init locales
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@232 6046fb1f-dae2-0310-8472-869a43925389

commit fe07066c4749de8040bd03b06bc9693b7ea1dde3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 17:30:59 2004 +0000

    #include <gettext.h>
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@231 6046fb1f-dae2-0310-8472-869a43925389

commit fc1445391338af7a935c241b80c39c5ada6429c3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 17:26:56 2004 +0000

    Use <gettext.h>
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@230 6046fb1f-dae2-0310-8472-869a43925389

commit 1146986089862a3ae25c0a30d5cb3bea94a792ee
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 17:26:08 2004 +0000

    include/ handled by Automake
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@229 6046fb1f-dae2-0310-8472-869a43925389

commit 2ffb21125b9ab45d23527b5960731617e784bbd8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 17:23:55 2004 +0000

    include directory for external headers
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@228 6046fb1f-dae2-0310-8472-869a43925389

commit 1d56785819856c8bc020e3cfef0e96117ba04e19
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 17:18:49 2004 +0000

    Cosmetic clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@227 6046fb1f-dae2-0310-8472-869a43925389

commit b93e95dfa05a64a391d0299a959eff56370e9626
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 17:17:57 2004 +0000

    Typo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@226 6046fb1f-dae2-0310-8472-869a43925389

commit 92756adbb065aac6d128e05f8371c35cd05d649a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 17:17:16 2004 +0000

    bootstrap script from tcpreen
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@225 6046fb1f-dae2-0310-8472-869a43925389

commit 107976b73ff3fbd6bc4f4888ab0a2058dcaeff90
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Nov 1 17:14:13 2004 +0000

    Gettext support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@224 6046fb1f-dae2-0310-8472-869a43925389

commit cd7175ab61c59c7b053e56bf94573857166440d3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 31 15:04:37 2004 +0000

    Removed useless function call
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@223 6046fb1f-dae2-0310-8472-869a43925389

commit 18b18b28949020db7dfad8dd45251b61fe810267
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 31 14:53:42 2004 +0000

    Basic packet sanity check before SendUnreach
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@222 6046fb1f-dae2-0310-8472-869a43925389

commit 0d485214019f36c37b90ee03627783e655cc719b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 31 11:15:04 2004 +0000

    Removed error message
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@221 6046fb1f-dae2-0310-8472-869a43925389

commit 8bc74a796a7dbfceef4d09c3388b4df933742fa5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 31 11:14:30 2004 +0000

    Do not reply to packets that are not eligible for ICMPv6 error reply
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@220 6046fb1f-dae2-0310-8472-869a43925389

commit 0e6ffcf679009df8e4c0770e42ff857103353d6d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 31 10:59:21 2004 +0000

    Fixed ICMPv6 error packets length
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@219 6046fb1f-dae2-0310-8472-869a43925389

commit 32f091244c57359fd36303ceaf2736afe573ea56
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 31 10:22:31 2004 +0000

    Send administratively prohibited error messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@218 6046fb1f-dae2-0310-8472-869a43925389

commit 00da5e2814d14332d8a7c96361c9be0dad9cb1fe
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 31 10:22:03 2004 +0000

    Better comments
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@217 6046fb1f-dae2-0310-8472-869a43925389

commit 92dfc2d5476a278520606255b5259392829ccfd5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 31 10:07:38 2004 +0000

    Send an unreachable error when the tunnel is down
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@216 6046fb1f-dae2-0310-8472-869a43925389

commit a4f78ba5e7c17e4021272b8ffaf7aa861ddeed5b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 31 10:02:57 2004 +0000

    Function to send a destination unreachable error
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@215 6046fb1f-dae2-0310-8472-869a43925389

commit d9c5d1eebe76759c24f3800f371942868f8f4adf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 31 09:48:50 2004 +0000

    Next release version
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@214 6046fb1f-dae2-0310-8472-869a43925389

commit e0c6d6c4e6eda7f5bd63fa90ca869629a2073dcf
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 31 09:48:29 2004 +0000

    Function to build ICMPv6 error messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@213 6046fb1f-dae2-0310-8472-869a43925389

commit 5a8a581bfdab0c5987dce7184d8bdb962e5e4909
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 20:25:33 2004 +0000

    Reflect port change
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@212 6046fb1f-dae2-0310-8472-869a43925389

commit e727feb0aa33ce1c632cd0d19f4a8371ee826675
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 20:24:53 2004 +0000

    Updated ChangeLog for release 0.3.0
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@211 6046fb1f-dae2-0310-8472-869a43925389

commit ff00e598c2104d7cdf35254b4d9e30eac8c7a235
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 20:23:12 2004 +0000

    Changed version number to 0.3.0
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@210 6046fb1f-dae2-0310-8472-869a43925389

commit 223fc110c32195e935e7544bf583d77343151187
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 20:21:28 2004 +0000

    Forgot one Darwin warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@209 6046fb1f-dae2-0310-8472-869a43925389

commit 44c26d229ea9c0b6e36629a90a49af58e6049d76
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 20:15:28 2004 +0000

    Warning fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@208 6046fb1f-dae2-0310-8472-869a43925389

commit 15473baf08673b77101e9a51ec6e3a4a3af75641
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 20:10:17 2004 +0000

    Removed useless const qualifier
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@207 6046fb1f-dae2-0310-8472-869a43925389

commit 6f8648cd47e7b0d79aba7234316880036bd8761e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 20:05:40 2004 +0000

    Fix error message about tunnel device file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@206 6046fb1f-dae2-0310-8472-869a43925389

commit cc2d53be10c14ef78284a00714dc191eeef068ab
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 20:03:47 2004 +0000

    Better wrapping of the chroot warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@205 6046fb1f-dae2-0310-8472-869a43925389

commit 02e9246b86cf9914e0896c155177b133e7138258
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 20:01:17 2004 +0000

    Improved error messages again
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@204 6046fb1f-dae2-0310-8472-869a43925389

commit bd4bb161b06d53b69976a25c533d02e406c497fd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 20:00:56 2004 +0000

    Driver diagnostic (mainly for Linux and Darwin)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@203 6046fb1f-dae2-0310-8472-869a43925389

commit 589e753330b366ae072b22579b8eeeee28fc818f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 19:35:04 2004 +0000

    Updated doc to reflect latest changes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@202 6046fb1f-dae2-0310-8472-869a43925389

commit b2bfdb9a3d56361948c34ba4775c684ce366b597
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 18:48:08 2004 +0000

    Let the kernel choose a service port automatically instead of
    hard-coding non standard port 3545.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@201 6046fb1f-dae2-0310-8472-869a43925389

commit 1d8e5e3613ff2ea6b9640140b3808f50ec5b05c2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 18:41:53 2004 +0000

    Removed debug messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@200 6046fb1f-dae2-0310-8472-869a43925389

commit 60d9ad4b7dc95ce600eb9c40ec2b7482e4df5369
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 18:39:55 2004 +0000

    Removed debug messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@199 6046fb1f-dae2-0310-8472-869a43925389

commit 62bed8096d125044926bb92ccd778637c10916f3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 18:39:09 2004 +0000

    Implemented full queueing of IPv6 packets :
    - both way,
    - more than one packet,
    - with proper dequeuing.
    
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@198 6046fb1f-dae2-0310-8472-869a43925389

commit 3ec6bf5d745d0f26e31b786f0cb17aa577723e7d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 18:31:22 2004 +0000

    Fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@197 6046fb1f-dae2-0310-8472-869a43925389

commit 39135db0d7012ec0bec6eec0f89d131212cea68f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 16:52:26 2004 +0000

    PacketsQueue made a virtual class
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@196 6046fb1f-dae2-0310-8472-869a43925389

commit 58f2e4736705d65fcc1740ee8eeb41c21f582c7d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 30 16:51:50 2004 +0000

    Common support for real packets queue (with several packets)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@195 6046fb1f-dae2-0310-8472-869a43925389

commit 61da6f27bd989e57e7835b4d772b43826ef221c1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Oct 28 20:20:02 2004 +0000

    Use /var/lib/miredo instead of /var/run/miredo as a better sample
    chroot directory
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@194 6046fb1f-dae2-0310-8472-869a43925389

commit 7230cad398b84a15260dcace4044090060653c38
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Oct 27 21:18:39 2004 +0000

    Update for release 0.2.3
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@193 6046fb1f-dae2-0310-8472-869a43925389

commit 712de5d937d05c2fda14acd3b94d29d128c2e310
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Oct 27 21:18:01 2004 +0000

    Do not detect connectivity loss until it is fixed
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@192 6046fb1f-dae2-0310-8472-869a43925389

commit e4f0e30bcc0f4babd22798dd45ac91bb0e9c75a0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Oct 27 21:09:37 2004 +0000

    More pending issues to be resolved
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@191 6046fb1f-dae2-0310-8472-869a43925389

commit 74278be884a7e73c126eb27c97eede5d7361395b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Oct 27 20:53:51 2004 +0000

    Meanling less with Subversion
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@190 6046fb1f-dae2-0310-8472-869a43925389

commit 6c2f51353c1ff5fde900c103c8ba2a0713fc41a0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Oct 24 16:02:24 2004 +0000

    Fix comments
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@189 6046fb1f-dae2-0310-8472-869a43925389

commit 6a3a1d4ad9e8af1c9c54a4a742933d534c2c515d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 23 22:14:08 2004 +0000

    Fixed
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@188 6046fb1f-dae2-0310-8472-869a43925389

commit 1692a9a5e47896b0743f1964a08a96caebc4d60c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 23 21:01:00 2004 +0000

    Reflect changes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@187 6046fb1f-dae2-0310-8472-869a43925389

commit 39a02240b6322b092fdb01c610253b026d9d26aa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 23 20:49:33 2004 +0000

    Add a default route through the tunnel
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@186 6046fb1f-dae2-0310-8472-869a43925389

commit cd18004f0aa1ed1fa2c2d95945f6b125d0746be3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 23 20:49:18 2004 +0000

    Remove a unused variable which caused a bug
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@185 6046fb1f-dae2-0310-8472-869a43925389

commit 109724f6d408f578bd5213520a813224bb7b718d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 23 20:48:46 2004 +0000

    Linux driver: Use the same automatic metric as the Linux kernel
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@184 6046fb1f-dae2-0310-8472-869a43925389

commit ab730e7bd324a02bcde7e68cfd6127fbf6f6dc16
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 23 16:16:44 2004 +0000

    Avoid warning message on Mac OS X
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@183 6046fb1f-dae2-0310-8472-869a43925389

commit 021c7280a74297f0e7c96f97b0c63905cbf4fa96
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 23 16:13:41 2004 +0000

    Typos
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@182 6046fb1f-dae2-0310-8472-869a43925389

commit 20d9676902cdfd3cdff8b22dec2bec147394588b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 23 16:07:20 2004 +0000

    Untested (probably not working) support for OpenBSD, NetBSD and Darwin
    kernels tunneling
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@181 6046fb1f-dae2-0310-8472-869a43925389

commit b7c983660bac54f2c9f1a8a5fd58f2e97526f627
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 23 13:28:26 2004 +0000

    Next release number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@180 6046fb1f-dae2-0310-8472-869a43925389

commit 4bd83cf6361d642a9e551bdd369886f02b3957d7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 23 13:28:14 2004 +0000

    Mac OS X compilation fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@179 6046fb1f-dae2-0310-8472-869a43925389

commit 52c0f547852f56374601accb2e8d7bb794144f4b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 16 10:11:11 2004 +0000

    Updated ChangeLog
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@178 6046fb1f-dae2-0310-8472-869a43925389

commit ec49ec39ea1384ba2e8b2977e92574990a9a33c1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 16 10:09:29 2004 +0000

    Update documentation for new --bind option
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@177 6046fb1f-dae2-0310-8472-869a43925389

commit 02206a2a0b02ccac72466a711f14e1803418f740
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 16 09:57:15 2004 +0000

    Support for setting the relay/client bind address through the command line,
    print that setting with -v
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@176 6046fb1f-dae2-0310-8472-869a43925389

commit 3463cc7dc93eb5f01c83f6848fa209e0a774676c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 16 09:48:22 2004 +0000

    Support for binding client/relay to a specific IPv4 address
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@175 6046fb1f-dae2-0310-8472-869a43925389

commit f90f90ec2a2316ca6ccec049d084562d1cf21748
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Oct 16 09:27:09 2004 +0000

    Updated thanks
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@174 6046fb1f-dae2-0310-8472-869a43925389

commit b29d2eecec5dca51c154a2991a2569762c136d58
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Oct 15 08:47:53 2004 +0000

    Define _GNU_SOURCE for old glibc
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@173 6046fb1f-dae2-0310-8472-869a43925389

commit 673698206cdf46ceb04c27ca0b463f86e907046a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 25 13:12:03 2004 +0000

    FreeBSD compile fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@172 6046fb1f-dae2-0310-8472-869a43925389

commit 78b9a5cae8d4aeff71e843f0af97e0ab74e25060
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 25 13:07:42 2004 +0000

    Updates for upcoming release
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@171 6046fb1f-dae2-0310-8472-869a43925389

commit 8665f44c8df5e4d722fd40238c98cd357a37e60c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 25 10:40:15 2004 +0000

    Fix transmission of ICMP6 echo request through server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@170 6046fb1f-dae2-0310-8472-869a43925389

commit 825762555b170b044792b164ed9bd782e0e2ac3f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 25 10:32:55 2004 +0000

    Fix segfault in server code
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@169 6046fb1f-dae2-0310-8472-869a43925389

commit eb93eb632920af3c9326dc723da031c021c55218
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 25 09:50:38 2004 +0000

    Fixed ICMP6 router solicitation payload length
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@168 6046fb1f-dae2-0310-8472-869a43925389

commit 25801e965f40e02eeb981956df6740ffb088f012
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Sep 4 10:48:58 2004 +0000

    #include clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@167 6046fb1f-dae2-0310-8472-869a43925389

commit 7c1cff5f57c005dddcff42626dd73295aa959b50
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Sep 3 16:06:23 2004 +0000

    Support for server that do not insert an origin indication in bubbles
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@166 6046fb1f-dae2-0310-8472-869a43925389

commit 0452511645b3fc28fb378258d19d165d2090781d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Sep 3 14:59:03 2004 +0000

    Fix generation of nonce value for unknown peer
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@165 6046fb1f-dae2-0310-8472-869a43925389

commit e689adc12dd0a0fb85af2ebe0dc394ece253bf7d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Sep 3 14:28:10 2004 +0000

    Fix frequent connectivity lost with cone NAT.
    Fix some weaknesses/problems in handling of server packets
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@164 6046fb1f-dae2-0310-8472-869a43925389

commit f902bd42556d985a5bbfd2673dd323c706f2ff52
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Sep 3 13:31:57 2004 +0000

    Print log message only once when removing tunnel
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@163 6046fb1f-dae2-0310-8472-869a43925389

commit 030d839d9b9bc1fa994c12c774bc0ccd705564d6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Sep 3 12:05:51 2004 +0000

    Update release number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@158 6046fb1f-dae2-0310-8472-869a43925389

commit b6cf89c90975f1f5fe81f1ae00bdf6cbef113a82
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Sep 3 12:03:31 2004 +0000

    Fix maintenance of connectivity to server in case of cone NAT
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@157 6046fb1f-dae2-0310-8472-869a43925389

commit 97ef3e33aef5e56e4b5cfc0c40f23d933b589ef6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Sep 3 11:55:20 2004 +0000

    Fixed restart delay when symmetric NAT is detected
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@156 6046fb1f-dae2-0310-8472-869a43925389

commit 7988ba43ecc15041fa6c8ce00c4762022a11317b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Sep 1 17:15:34 2004 +0000

    Fix typo in GenerateNonce that prevented the Teredo client from
    functionning at all
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@155 6046fb1f-dae2-0310-8472-869a43925389

commit 3a6cebd9a8850a5cc310d63ac9e58e08d25867d4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Sep 1 11:59:32 2004 +0000

    Updated ChangeLog
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@154 6046fb1f-dae2-0310-8472-869a43925389

commit a9a5ebc5212f4a3844fe19553c50aeff7fc259f3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Sep 1 11:50:09 2004 +0000

    Removed checks for OpenSSL
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@153 6046fb1f-dae2-0310-8472-869a43925389

commit e2ef1b11d2e347ff64409c44015c067f745c81aa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Sep 1 11:48:47 2004 +0000

    Removed dependency on OpenSSL library
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@152 6046fb1f-dae2-0310-8472-869a43925389

commit 6c5d8d8e95436dd8fe337d1046a8c77881b0cca9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Sep 1 11:47:24 2004 +0000

    Use daemon() (more secure)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@151 6046fb1f-dae2-0310-8472-869a43925389

commit f1e800d164af8e7cd1cc4bb4df71900f5c170c6a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Sep 1 11:46:58 2004 +0000

    Fix error message UDP port number
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@150 6046fb1f-dae2-0310-8472-869a43925389

commit 47c0edaf8d6626fca70b2583d17f340ff640d3d9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Sep 1 10:44:59 2004 +0000

    New chroot instructions for Teredo client
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@149 6046fb1f-dae2-0310-8472-869a43925389

commit 89eac064d2059e778af259ecc8312e632d4e3b91
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 31 20:02:53 2004 +0000

    Export some client qualification settings
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@148 6046fb1f-dae2-0310-8472-869a43925389

commit 43129bc3dc75bcff3651c8c79b271b24054a721b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 31 19:53:06 2004 +0000

    Global settings for qualification procedure created
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@147 6046fb1f-dae2-0310-8472-869a43925389

commit c037befa07d288e4ef9bd18821331c6ca14dc252
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 31 19:46:29 2004 +0000

    Bogus comment removed
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@146 6046fb1f-dae2-0310-8472-869a43925389

commit 601853a040414688bbb0b2c4c30433a49bb81458
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 31 08:48:19 2004 +0000

    - made TeredoRelay class re-entrant (not thread-safe though),
    - notify the kernel when the tunnel connectivity is lost.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@145 6046fb1f-dae2-0310-8472-869a43925389

commit 61db2be4ea99b1e387ae07c4b50c5dac6b2d0a45
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 17:05:18 2004 +0000

    Fixed some outdated informations and some minor improvements
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@144 6046fb1f-dae2-0310-8472-869a43925389

commit 383c1424000057a718bd6f9f01cc5aa89d42b038
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 16:13:05 2004 +0000

    Removed possibly incorrect use of english word "autonomous"
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@143 6046fb1f-dae2-0310-8472-869a43925389

commit 42642e320801e1296ed758ee9c28ab10d6e43b70
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 15:55:52 2004 +0000

    Change version number. Documentation fix.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@142 6046fb1f-dae2-0310-8472-869a43925389

commit a2bb8eda377961b9bd4d30719519052832a9f29f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 13:10:35 2004 +0000

    The right route command for FreeBSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@141 6046fb1f-dae2-0310-8472-869a43925389

commit c729ea5ec900ecae194338eeb84dc9c8c1bf5a27
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 12:52:05 2004 +0000

    Fix for relay mode :
    bring interface up and set up link-local address
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@140 6046fb1f-dae2-0310-8472-869a43925389

commit b646233348991e9fbf8cceaff2a3fd3babc20948
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 12:41:04 2004 +0000

    FreeBSD compilation fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@139 6046fb1f-dae2-0310-8472-869a43925389

commit ac58419378aaf85500d633eaa003cf0e51029a65
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 12:28:46 2004 +0000

    FreeBSD compilation fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@138 6046fb1f-dae2-0310-8472-869a43925389

commit f8db1130627e33dd28ce845564ed49dd58172cd5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 12:07:43 2004 +0000

    Clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@137 6046fb1f-dae2-0310-8472-869a43925389

commit d43e1930cfe8c3bf9b6169164e6a47e12a5c62d4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 11:49:19 2004 +0000

    Make IPv6 addresses requests as big as struct ifreq on Linux
    (make valgrind happy)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@136 6046fb1f-dae2-0310-8472-869a43925389

commit 826a7972f9d78ae7fb87c71c4822ff23563d10d2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 11:25:40 2004 +0000

    Make valgrind happy with RAND_*bytes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@135 6046fb1f-dae2-0310-8472-869a43925389

commit 1cfb1092d732bda063d3eed3c08200080723056f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 10:32:20 2004 +0000

    Check TeredoRelayUDP / TeredoServerUDP socket state before trying to send a
    packet
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@134 6046fb1f-dae2-0310-8472-869a43925389

commit 457a82f980c742461d27f8b905b49702f0a1b12d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 10:29:01 2004 +0000

    Do not regenerate auth nonce every time.
    Use a truly random nonce.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@133 6046fb1f-dae2-0310-8472-869a43925389

commit b22592dbfa7b7fd43d1cac148bcbe9cfde07cf90
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 10:13:42 2004 +0000

    Call IPv6Tunnel::CleanUp explicitly
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@132 6046fb1f-dae2-0310-8472-869a43925389

commit dabac8dca31fc063b7023dec5578810acc4999eb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 10:12:22 2004 +0000

    Added a CleanUp () function.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@131 6046fb1f-dae2-0310-8472-869a43925389

commit 01eff0d3ac9c3e602bbecda90745c9a8bdee5d0b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 09:32:53 2004 +0000

    Fix use of unitialized value
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@130 6046fb1f-dae2-0310-8472-869a43925389

commit ad27a5bf6239505ed3b37bb02c84a8316cde1a3e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 09:24:35 2004 +0000

    Check the right function in -lssl
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@129 6046fb1f-dae2-0310-8472-869a43925389

commit 161af2834a17e58ef6beeaa34011a4ab6f6010a9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Aug 30 09:17:57 2004 +0000

    Do not chroot when this is not needed.
    Do not print a confusing error if setgroups fails.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@128 6046fb1f-dae2-0310-8472-869a43925389

commit e2414fda012e32163809f7a08c044b0dae1e7f93
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 29 19:28:03 2004 +0000

    Documentation updates
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@127 6046fb1f-dae2-0310-8472-869a43925389

commit d047e64da69ea4c0e54ff86fcfadf21b56ff1dfb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 29 19:04:50 2004 +0000

    Check nonce value in ICMPv6 echo replies
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@126 6046fb1f-dae2-0310-8472-869a43925389

commit 0cda70cf2590c58ea6f0cdc6816e5e2d64d03343
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 29 17:39:04 2004 +0000

    Clean up functions to send bubbles
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@125 6046fb1f-dae2-0310-8472-869a43925389

commit ee09c40f9777f827e333dfcb89feada00457afc3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 29 17:31:06 2004 +0000

    Reply to server bubbles
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@124 6046fb1f-dae2-0310-8472-869a43925389

commit db2079587f0ad2c944aee1bfa8cb51e35e06e66c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 29 17:30:08 2004 +0000

    More general support for sending bubbles
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@123 6046fb1f-dae2-0310-8472-869a43925389

commit 18c800c699bada4763cbf67036b10a485130d322
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 29 16:59:37 2004 +0000

    Adjust/Fix server ping delay when qualification succeeds
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@122 6046fb1f-dae2-0310-8472-869a43925389

commit dc095688f8e4ccc2d0b04964e9fa7ddfcc29e8f1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 29 16:15:32 2004 +0000

    Send echo request to discover relay
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@121 6046fb1f-dae2-0310-8472-869a43925389

commit 1d0533989d3e13b982433e94ff9f140398e83148
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 29 15:56:07 2004 +0000

    Support for sending ICMPv6 Echo request
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@120 6046fb1f-dae2-0310-8472-869a43925389

commit 703abc97ca8cf34726696e3acd6496488eaf2b7b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 29 15:33:53 2004 +0000

    Check confirmation byte from server
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@119 6046fb1f-dae2-0310-8472-869a43925389

commit 06ebfa3a74ba77df6f1bb69469bd68b44e5b6fb4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 29 13:20:07 2004 +0000

    Client packet reception implementation  + some fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@118 6046fb1f-dae2-0310-8472-869a43925389

commit 15d03ca0e6e3c04b1ff8d0ffd644379ef7daa5aa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 29 09:10:12 2004 +0000

    Fixed memory leak when a recycling peer entry
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@117 6046fb1f-dae2-0310-8472-869a43925389

commit f1f14b7b32c98dec99c3e3f5c5265db24ea3cf4f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 29 07:56:11 2004 +0000

    Do not use privsep for Teredo relay,
    set up a route instead of a buggy Teredo address.
    Fix setuid for Teredo client
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@116 6046fb1f-dae2-0310-8472-869a43925389

commit 7fd176d8c6712c1b2d30ea06d23b82d94d049274
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 28 15:14:25 2004 +0000

    Client address change detection
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@115 6046fb1f-dae2-0310-8472-869a43925389

commit b1653516912d7f931b9b469b1225d7e4b05abd56
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 28 13:49:53 2004 +0000

    Code split
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@114 6046fb1f-dae2-0310-8472-869a43925389

commit 24b4fab6a121e03bc0e9304890f5330edf8f9509
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 28 12:29:51 2004 +0000

    Removed bogus DEBUG message
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@113 6046fb1f-dae2-0310-8472-869a43925389

commit 26ca4919cddebcb3d0921966774920f6bf62ea86
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 28 12:29:26 2004 +0000

    Use privsep to bring up the interface,
    Fix initial_addr in case of Teredo client
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@112 6046fb1f-dae2-0310-8472-869a43925389

commit cdb19a62dc2828995e664128c3601e596617573b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 28 12:23:06 2004 +0000

    Support for changing interface state from privproc
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@111 6046fb1f-dae2-0310-8472-869a43925389

commit c42fcb36d6ad8c7511da3ce876271251d841895f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 28 12:07:23 2004 +0000

    Fixes memcpy instead of memcmp,
    some cleanups
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@110 6046fb1f-dae2-0310-8472-869a43925389

commit 5755ed42ce2f89ffbef9885de2e3ca04feb2dd78
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 28 11:51:21 2004 +0000

    Fixes for Qualitification
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@109 6046fb1f-dae2-0310-8472-869a43925389

commit d1863feba292d1f0f7f66e05c3fe5d27fc2ec8c2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 28 10:36:50 2004 +0000

    Increase select delay
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@108 6046fb1f-dae2-0310-8472-869a43925389

commit f829aa16d2b3e8a2474fd86b3389109df97ffeeb
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Aug 28 09:56:19 2004 +0000

    Comment about alignment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@107 6046fb1f-dae2-0310-8472-869a43925389

commit 5371f90f9b645e0c7ed118a7839a4b1bcc9e472e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 27 16:58:57 2004 +0000

    a flag is singular
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@106 6046fb1f-dae2-0310-8472-869a43925389

commit 92a0060c094031595ff8446cbaff17020bfd5180
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 27 16:57:32 2004 +0000

    Complete previous commit
    Some comment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@105 6046fb1f-dae2-0310-8472-869a43925389

commit 6873371de3b89121e963c8c8e6e5d70445f7d94e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 27 16:42:19 2004 +0000

    state -> probe
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@104 6046fb1f-dae2-0310-8472-869a43925389

commit af5174125b4739a3c5dd1e3863b20aa1b098e777
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 27 16:21:10 2004 +0000

    Fix router solicitation
    Fix select/ReceivePacket usage
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@103 6046fb1f-dae2-0310-8472-869a43925389

commit 00f06c535f7941bce1c20a5c3a1d714a7f45cfa4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 27 15:04:32 2004 +0000

    Call relay->Process() every 100th milliseconds
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@102 6046fb1f-dae2-0310-8472-869a43925389

commit ac3c80dc961ef62d79a03df16f77c40889e98571
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 27 14:54:52 2004 +0000

    Partial qualification procedure implementation
    (only send)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@101 6046fb1f-dae2-0310-8472-869a43925389

commit 0fe77c650bdf1c23b71422af35e0e4de3e03b74a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Aug 27 10:21:59 2004 +0000

    Replaced TeredoCommonUDP with TeredoPacket.
    Big step toward libteredo's thread-safety
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@100 6046fb1f-dae2-0310-8472-869a43925389

commit 5db00f2bc7d3a66f0044ac933d684708d371052e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 26 19:54:36 2004 +0000

    Better error handling, cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@99 6046fb1f-dae2-0310-8472-869a43925389

commit 91903723d6caa863b5c5d7caf00eb467b0f0dbd2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 26 17:19:28 2004 +0000

    Use writev/readv to avoid using memcpy
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@98 6046fb1f-dae2-0310-8472-869a43925389

commit ddb617ec4b8b3835a243590f56df597d8cff151e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 26 15:19:11 2004 +0000

    Some cleanups
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@97 6046fb1f-dae2-0310-8472-869a43925389

commit 106aaac73940cc9fbfe87d31256f7a0645fc62b0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 26 15:04:51 2004 +0000

    Removed thread-unsafe by design function ReplyPacket
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@96 6046fb1f-dae2-0310-8472-869a43925389

commit 832556238a4958fe24a723644ada3b9dc72a8f33
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 26 15:03:57 2004 +0000

    Do not user TeredoCommonUDP::ReplyPacket. Not thread-safe by design.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@95 6046fb1f-dae2-0310-8472-869a43925389

commit f51fa866919c30a58301c5836104b943a805eedc
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 26 13:33:34 2004 +0000

    Cleanups
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@94 6046fb1f-dae2-0310-8472-869a43925389

commit a19d497cc575acc9202c30508eae30e84edf1a2a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 26 13:32:51 2004 +0000

    use 'const' qualifier where appropriate
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@93 6046fb1f-dae2-0310-8472-869a43925389

commit f58de0792eded90d7b560e286cf74464ace09566
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 26 10:43:42 2004 +0000

    Fix router solicitation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@92 6046fb1f-dae2-0310-8472-869a43925389

commit 79d1332ef74e28132b9f47bfd3c44d5d2d644189
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 26 10:20:48 2004 +0000

    Don't try to terminate privsep twice
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@91 6046fb1f-dae2-0310-8472-869a43925389

commit d9a20e15971fff68de8ff44c07c9b33cb3d6e299
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 26 09:47:08 2004 +0000

    Updated todo list
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@90 6046fb1f-dae2-0310-8472-869a43925389

commit 54ecac359f78ddc17018ef6749161e8f1ba4d54f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 26 09:37:54 2004 +0000

    Only one server for client. Some cleanups.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@89 6046fb1f-dae2-0310-8472-869a43925389

commit 627be4ba2350768666a3dc68bf454881861637e8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Aug 26 08:02:22 2004 +0000

    Gerenate random auth nonce with OpenSSL
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@88 6046fb1f-dae2-0310-8472-869a43925389

commit 8b70482546c1f126e18724ce05a1027f7ac89cf7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 24 19:58:23 2004 +0000

    Method to send a Router Solicitation
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@87 6046fb1f-dae2-0310-8472-869a43925389

commit 108e7e8d5f4046de08ac5ad13588673e6a884401
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 24 19:12:17 2004 +0000

    Removed useless Authentication header memcpy
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@86 6046fb1f-dae2-0310-8472-869a43925389

commit 442ea44e43e7e1c41634a47d9f7c8c7de06dfa1c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 24 19:03:42 2004 +0000

    Got rid of a useless IPv6 address copy
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@85 6046fb1f-dae2-0310-8472-869a43925389

commit d74b883ec38630d38382f4d98045b2b70bd5f2f3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 24 18:58:32 2004 +0000

    Fixes for some ICC warnings
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@84 6046fb1f-dae2-0310-8472-869a43925389

commit efcbb2a6b17c1baea1c95c1f4a7d81f80d3d6bd9
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 24 18:53:52 2004 +0000

    Simpler Teredo header decoding
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@83 6046fb1f-dae2-0310-8472-869a43925389

commit 0c0e2bdd2e0dbde007d192812e127a05d0da99da
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 24 18:52:49 2004 +0000

    Implement update of last server interaction time
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@82 6046fb1f-dae2-0310-8472-869a43925389

commit 84022f26bec34576f2efdd758d5a4ba84d28d49c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 24 18:52:04 2004 +0000

    Remember server last interaction time
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@81 6046fb1f-dae2-0310-8472-869a43925389

commit d1446dfd65a78740d55f1e681c3c6a1906a38123
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 24 18:50:53 2004 +0000

    Comment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@80 6046fb1f-dae2-0310-8472-869a43925389

commit e4c4ef32785b92aa8b471ee05214d146890677f8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 24 18:49:40 2004 +0000

    Check Teredo prefix for validity before use
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@79 6046fb1f-dae2-0310-8472-869a43925389

commit f78b6971119e78e590eeffaf2a628b813495d088
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 24 18:49:09 2004 +0000

    Added function to check a Teredo prefix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@78 6046fb1f-dae2-0310-8472-869a43925389

commit 73a94491c3d2f8fa388c59bd54d2572505e07c33
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 24 18:48:34 2004 +0000

    Remove useless #include
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@77 6046fb1f-dae2-0310-8472-869a43925389

commit ec39b85227a62716affaec3b84ece8ff2fd2b565
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 24 16:00:26 2004 +0000

    Support for client mode in Miredo core
    (though the underlying support in libteredo is largely incomplete)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@76 6046fb1f-dae2-0310-8472-869a43925389

commit 93d060c13dcddb8613d2dd9ffa358c6c21cbdf2c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 24 14:25:35 2004 +0000

    Verbose option to print config at startup
    Command line support for client mode (not yet supported internally)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@75 6046fb1f-dae2-0310-8472-869a43925389

commit a4182c9384fd9028eba42e468d6b653490bdb8b8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 24 09:49:39 2004 +0000

    Support for relaying behind a restricted NAT
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@74 6046fb1f-dae2-0310-8472-869a43925389

commit 99e8c391283739405bb4982fe758b69280cf0c85
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 22 16:58:53 2004 +0000

    Support for creating relay behind a restricted NAT
    (a command line option to enable that feature is still missing)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@73 6046fb1f-dae2-0310-8472-869a43925389

commit b8b55cff89f6dce54ca3ccc701068e4024636d02
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 22 16:53:43 2004 +0000

    Send direct bubble if appropriate
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@72 6046fb1f-dae2-0310-8472-869a43925389

commit 9358aa35c2fae0d15acdb651a76d46d33a36677e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 22 16:43:54 2004 +0000

    Catch very unlikely lack of memory error.
    We still have a potential DoS in the relay code.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@71 6046fb1f-dae2-0310-8472-869a43925389

commit bc302d8108113c1b47694900ddf8483028d3a25f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 22 16:40:05 2004 +0000

    Packet transmission method re-ordering for future client support
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@70 6046fb1f-dae2-0310-8472-869a43925389

commit be4a0a237aed4dec35b025448aa86802c32e925b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 22 15:38:26 2004 +0000

    Comments
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@69 6046fb1f-dae2-0310-8472-869a43925389

commit 56895ca3c8450d357036e6a45217aedf8ebdcc47
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 22 15:19:32 2004 +0000

    Cosmetic cleanups
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@68 6046fb1f-dae2-0310-8472-869a43925389

commit c4d05fb5f1ba310afd214ba583721c9f552594e4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Aug 22 14:39:38 2004 +0000

    Rewritten as a Makefile
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@67 6046fb1f-dae2-0310-8472-869a43925389

commit 043e557d43459eecdc065ac4f241a5ecd9dd32af
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 18 09:53:58 2004 +0000

    Wait for child processes termination where appropriate
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@66 6046fb1f-dae2-0310-8472-869a43925389

commit f75df3935eed95956e5f90fe53ae3d59db32d9db
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 18 09:42:35 2004 +0000

    Fixes for privileged process and cave-at for routing on FreeBSD
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@65 6046fb1f-dae2-0310-8472-869a43925389

commit e8c92d12493d9722f606ea948c9c0bb720419d6a
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 18 09:41:46 2004 +0000

    More explicit error messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@64 6046fb1f-dae2-0310-8472-869a43925389

commit b73ae76ad7e9ab755cacadc35335ee3779d85be8
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 18 09:33:24 2004 +0000

    More comments
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@63 6046fb1f-dae2-0310-8472-869a43925389

commit e90a025ccb9f5e917e5857e8fc251e4864492646
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Aug 18 09:26:35 2004 +0000

    More explicit comment
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@62 6046fb1f-dae2-0310-8472-869a43925389

commit 73d8822574ba502e07c0f81ddc2817843b7bcf7c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 17 19:21:13 2004 +0000

    Privileged miredo process to change tunnel addresses
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@61 6046fb1f-dae2-0310-8472-869a43925389

commit 0c9c7837723b5ca4c84530e67f0d47cc5e7d5473
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 17 19:09:51 2004 +0000

    Callbacks for Teredo client support
    (client constructor still missing)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@60 6046fb1f-dae2-0310-8472-869a43925389

commit 2aaae77fd10a2a174a6ea1efb423b4f44160b12b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 17 19:09:12 2004 +0000

    Cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@59 6046fb1f-dae2-0310-8472-869a43925389

commit 264e1e2ed236f239076808b119b59155e7ae05d0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 17 17:31:14 2004 +0000

    Made libtun6 thread-safe
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@58 6046fb1f-dae2-0310-8472-869a43925389

commit b2f38123263bf465dcd1fd9fcc1ec991cdbb7f66
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 17 16:55:41 2004 +0000

    Initial (not implemented) Teredo client API
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@57 6046fb1f-dae2-0310-8472-869a43925389

commit 3324b66c58f7cbe973242afc7e57b49fe2c19aae
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 17 16:42:38 2004 +0000

    Move virtual function implementations in .c file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@56 6046fb1f-dae2-0310-8472-869a43925389

commit c9817ab199c0ac316c6bd0ab3e1aae6e0b027ab7
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Aug 17 16:40:03 2004 +0000

    Code cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@55 6046fb1f-dae2-0310-8472-869a43925389

commit 4220313977aa88ea101824e5f2a65005ee65ff6d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jul 31 20:15:07 2004 +0000

    Initial support for changing Teredo addresses while running
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@54 6046fb1f-dae2-0310-8472-869a43925389

commit 131cb781f47cbdb7d1d1d618ee3e30fb4292f43b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jul 31 19:58:44 2004 +0000

    Huge patch to separate miredo from libteredo
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@53 6046fb1f-dae2-0310-8472-869a43925389

commit bd4006ffe2feb4cb03bd5ce88b65e5e896b3d58c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 25 11:50:48 2004 +0000

    Should not have been commited in the first place
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@52 6046fb1f-dae2-0310-8472-869a43925389

commit b639423e971704c58819db41fe680fabde63ffba
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jul 23 16:44:52 2004 +0000

    Support for sending direct bubbles (not yet used)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@51 6046fb1f-dae2-0310-8472-869a43925389

commit c669f513be7d46cbb6e869b8e92b25cf1d853148
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jul 22 17:38:29 2004 +0000

    Initial libteredo, separated from miredo core
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@50 6046fb1f-dae2-0310-8472-869a43925389

commit 099fd543393a102614d3c1f7f998d099214cfc89
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jul 21 16:37:41 2004 +0000

    Got rid of useless ForwardPacket
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@49 6046fb1f-dae2-0310-8472-869a43925389

commit 87eb856cba10b52f3bdef71787aa66ed8b017264
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jul 14 14:23:56 2004 +0000

    SetEUID before fork/setsid.
    README updates
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@48 6046fb1f-dae2-0310-8472-869a43925389

commit b189acea2915c40027ca0ee7768bfebaed3195ea
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jul 14 13:51:10 2004 +0000

    Do not setsid when nodetach is on,
    Do not chroot in root's home by default while running as root.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@47 6046fb1f-dae2-0310-8472-869a43925389

commit d30b5cde9a5d3463b60090bfe0c1abb70cdae3ef
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jul 13 09:53:36 2004 +0000

    No longer chroot by default.
    Documentation updates.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@46 6046fb1f-dae2-0310-8472-869a43925389

commit 8542520780f97ec7b619225583ed9d738226ba75
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jul 12 11:23:38 2004 +0000

    FreeBSD compilation fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@45 6046fb1f-dae2-0310-8472-869a43925389

commit 871f5cf06fef2064abc6d50a2474158f46d34f12
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jul 12 09:34:51 2004 +0000

    Fixes for bugs in previous commit
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@44 6046fb1f-dae2-0310-8472-869a43925389

commit 63ab4fc33e2ffdddf46dacd4f869562223701ba1
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jul 12 08:48:30 2004 +0000

    Fix for possible align problem on non-Intel platforms
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@43 6046fb1f-dae2-0310-8472-869a43925389

commit e5223627b79c6fee1997956b637600db549200e2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jul 12 08:45:48 2004 +0000

    Better diagnostic messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@42 6046fb1f-dae2-0310-8472-869a43925389

commit 46f939543a4a67b4dfec948511cf2dd59a20df50
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 11 13:52:22 2004 +0000

    Doc updates, clean ups
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@41 6046fb1f-dae2-0310-8472-869a43925389

commit 379dae23abaf4996fcaccd6327d39faedf9a54b0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 11 10:43:29 2004 +0000

    A lot less debug messages
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@40 6046fb1f-dae2-0310-8472-869a43925389

commit f9cbf6d35292f6ee02dfb9aa04ccbf87b1d495ef
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 11 10:34:41 2004 +0000

    Fix broken client port check
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@39 6046fb1f-dae2-0310-8472-869a43925389

commit 35de3033e48f2f56e2351ffedfcb5545242bf14f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 11 10:17:34 2004 +0000

    (Likely useless) support for not inserting an origin indication
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@38 6046fb1f-dae2-0310-8472-869a43925389

commit b4d409619cee98a239f5e4f690faa75ae8b9a686
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 11 10:08:13 2004 +0000

    MiredoServer class, clean up
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@37 6046fb1f-dae2-0310-8472-869a43925389

commit 4b9420f3df7a9920c0a95ed34ed6d32f9d77707d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jul 11 09:10:18 2004 +0000

    Fixed recvfrom() call
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@36 6046fb1f-dae2-0310-8472-869a43925389

commit c9e91baf8397b45e74df9f833d18e33c792b6ea4
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jul 10 17:52:07 2004 +0000

    Implement signal handling in parent process,
    Safer signals handlers
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@35 6046fb1f-dae2-0310-8472-869a43925389

commit a230a068aae84fe4fd866529e2a8559f52fe3a15
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jul 10 17:51:20 2004 +0000

    Fix a warning
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@34 6046fb1f-dae2-0310-8472-869a43925389

commit b2828dcb7bb6905a57e9b871e00fe1f1bee594ba
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jul 10 16:31:56 2004 +0000

    Signal handling, chroot support, setuid user passed from the command line
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@33 6046fb1f-dae2-0310-8472-869a43925389

commit 8178608fa82cca44b279f0407096ea8370e61027
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jul 10 16:31:25 2004 +0000

    Resync with tcpreen
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@32 6046fb1f-dae2-0310-8472-869a43925389

commit 3fb5ee6d9948bd1876cda14c4ec20139eaf6a756
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jul 10 16:29:06 2004 +0000

    *Silently* ignore multicast packets received from the kernel
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@31 6046fb1f-dae2-0310-8472-869a43925389

commit 87a6abaca438ae8046f7ce64ff9dac120fcd152d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jul 10 16:28:34 2004 +0000

    No longer bring interface down manually on tunnel object deletion
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@30 6046fb1f-dae2-0310-8472-869a43925389

commit 92a4faa57d94f7174dbeada2d03bba5c5c260d7c
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jun 27 17:37:21 2004 +0000

    User-specified Teredo prefix rather than hardcoded one
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@29 6046fb1f-dae2-0310-8472-869a43925389

commit 0b757c118db7b7d140c7dda6dc181d2484f55ecd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jun 27 15:40:25 2004 +0000

    Set IPv6 source address correctly in server's RA
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@28 6046fb1f-dae2-0310-8472-869a43925389

commit 4f80269e5422b47fd9c2732d98d8bf4a3087ea33
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jun 27 15:27:12 2004 +0000

    IPv6Tunnel made a library
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@27 6046fb1f-dae2-0310-8472-869a43925389

commit 3bb4f720da43220a5c2b95d28333de43fe665c95
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jun 27 10:25:24 2004 +0000

    Updates for draft 02
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@26 6046fb1f-dae2-0310-8472-869a43925389

commit 0e14d2030b564f3e0e1a83d599a452eb0ee2366e
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 26 20:14:28 2004 +0000

    More complete man page. Typos fixed.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@25 6046fb1f-dae2-0310-8472-869a43925389

commit bbc65d78ccd3c6e115370ae9ec1b00bf5f0581c0
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 26 19:58:26 2004 +0000

    Spacing fix
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@24 6046fb1f-dae2-0310-8472-869a43925389

commit 4444eb7d90208c76f1a4b9dc4e5da98f1648c013
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 26 19:55:33 2004 +0000

    Broken FreeBSD routes support,
    Initial man page,
    Use local-scope Teredo cone address rather than restricted one
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@23 6046fb1f-dae2-0310-8472-869a43925389

commit b878d848b86b7165a2499dca4911641008e268b5
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 26 15:47:26 2004 +0000

    Doc update for upcoming release 0.1.1
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@22 6046fb1f-dae2-0310-8472-869a43925389

commit 41b1f952fa1d38d4cc84b63a5f18edf5083be707
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 26 15:24:26 2004 +0000

    Check that server primary IPv4 address is global unicast,
    Code cleanups
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@21 6046fb1f-dae2-0310-8472-869a43925389

commit 539d0c66c533de14a11492b54a136d23e8e6e415
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 26 14:54:35 2004 +0000

    Code cleanup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@20 6046fb1f-dae2-0310-8472-869a43925389

commit 25f1bf471826c3f695cb71f8934f50b6bfea9f7b
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sat Jun 26 08:51:32 2004 +0000

    FreeBSD addresses setup fix
    Removed useless memory checks
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@19 6046fb1f-dae2-0310-8472-869a43925389

commit f61758fd0b7043612302a2c6ca38dfe25c52a502
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Fri Jun 25 15:00:42 2004 +0000

    Compile fix for broken old KAME
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@18 6046fb1f-dae2-0310-8472-869a43925389

commit 2f0e90d6ae7767cbbbe0e11e12bb6774f60703e3
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 24 19:16:14 2004 +0000

    Most of the FreeBSD tunneling driver (broken)
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@17 6046fb1f-dae2-0310-8472-869a43925389

commit 2649a4eb13352e3f786c07f123e76ea9c45a3e84
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 22 16:39:53 2004 +0000

    Some ICC compilation fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@16 6046fb1f-dae2-0310-8472-869a43925389

commit dfe589865c71dca32099fb17b1724b8f611899aa
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 22 16:20:25 2004 +0000

    Teredo is not point-to-point
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@15 6046fb1f-dae2-0310-8472-869a43925389

commit 5db2e1d8f3eaf9eefd3f72eb18d53d57d31d98dd
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jun 21 17:48:55 2004 +0000

    Various code cleanups
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@14 6046fb1f-dae2-0310-8472-869a43925389

commit b46459c68b3178b81994923582bc99e7b90d5ab6
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jun 20 17:48:07 2004 +0000

    Add route to the Teredo prefix via the tunnel.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@13 6046fb1f-dae2-0310-8472-869a43925389

commit 569e6a5681f056b002d50c4570d1f6311ff0920d
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jun 20 13:53:35 2004 +0000

    Lots of FreeBSD compilation fixes
    (still have to port tunnel driver)
    Thanks to Gene Cronk for providing the testing platform
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@12 6046fb1f-dae2-0310-8472-869a43925389

commit f3b3ddd7c7884c63b821b2f34ab75b8d99da90d2
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Sun Jun 20 10:02:41 2004 +0000

    No longer require relay IPv6 vaddress specification
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@11 6046fb1f-dae2-0310-8472-869a43925389

commit 1e316cb86882ca1a77dcd30cc97277543e290c0f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Thu Jun 17 22:52:28 2004 +0000

    Set MTU, set Teredo prefix.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@10 6046fb1f-dae2-0310-8472-869a43925389

commit 370ab235ad51ab21e00312c4cfe6b9a1dd4c6e9f
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 16 08:38:48 2004 +0000

    Obvious bug fixes
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@9 6046fb1f-dae2-0310-8472-869a43925389

commit 85fbfa95bf5d6faaca771acd41f52233d58b8439
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Wed Jun 16 08:38:09 2004 +0000

    Forgot to add this file
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@8 6046fb1f-dae2-0310-8472-869a43925389

commit 5e3c0e09518747117eb7d3ebe287607f08991bce
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Tue Jun 15 16:09:22 2004 +0000

    - relay address autoconfiguration,
    - optional relay(/client) port manual setup
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@7 6046fb1f-dae2-0310-8472-869a43925389

commit 3b741df41f7e973896eb6857d6d47769eb785395
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jun 14 21:52:32 2004 +0000

    - support for command line options,
    - support for non-root user/group,
    - bring tunnel interface automatically up.
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@6 6046fb1f-dae2-0310-8472-869a43925389

commit be8e85d84c4a1149bc989b99c1d51a8456585701
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jun 14 14:45:57 2004 +0000

    Initial revision
    
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@2 6046fb1f-dae2-0310-8472-869a43925389

commit ec628aa5b2d93dbb00b7fcc8aeb68ce4efecdf00
Author: Rémi Denis-Courmont <rdenis@simphalempin.com>
Date:   Mon Jun 14 14:45:57 2004 +0000

    New repository initialized by cvs2svn.
    
    git-svn-id: https://svn.remlab.net/svn/miredo/trunk@1 6046fb1f-dae2-0310-8472-869a43925389

ChangeLog from first internal CVS repository:

2004-05-24  remi

	* src/ipv6-tunnel.cpp:
	- support for FreeBSD tunneling driver (still a stupid compilation
	  error, routing change not implemented).

2004-05-20  remi

	* configure.ac, src/*:
	- FreeBSD compilation fixes, except tunneling driver.
	* src/main.cpp, src/ipv6-tunnel.cpp, src/miredo.cpp:
	- removed useless option to specify tunnel device file,
	- automatically add a route to the tunnel for the Teredo prefix.

2004-05-19  remi

	* src/main.cpp, src/miredo.cpp:
	- automatic interface addres configuration,
	- properly drop additionnal POSIX groups.

2004-05-17  remi

	* src/miredo.cpp, src/ipv6-tunnel.cpp:
	- set Teredo interface MTU to 1280 bytes,
	- setup Teredo interface address,
	- support for changing Teredo's prefix,
	- detach in the background.

2004-05-15  remi

	* src/main.c, src/miredo.cpp:
	- support for changing Teredo relay/client port,
	- automatic relay IPv4 address selection.

2004-05-14  remi

	* src/main.c, configure.ac:
	- support for non-root miredo user/group,
	* src/ipv6-tunnel.cpp:
	- automatically bring tunnel interface up.

2004-05-12  remi

	* main.c:
	- getopt-based command line handling: in particular,
	  support for disabling server and/or relay,
	* miredo.cpp, main.c:
	- split from main.cpp, partial code cleanup.

2004-05-07  remi

	* README:
	- initial english-public version,
	- removed French internal doc.
	* doc/*:
	- removed non-GPL documentation,
	* dump/*:
	- removed possibly ECP-ownership encumbered files.

2004-03-27  remi

	* src/*: forwarding of packet from UDP to IPv6 or from UDP to
	UDP for the server. Server implementation should be complete,
	possibly with bugs.

2004-03-22  remi

	* src/*: 
	- hopefully fixed the handling if the "Cone" flag for client
	qualification => client should now qualify properly with the
	server,
	- (partial) Solaris 8 compilation fix.

2004-03-21  remi

	* src/server_pkt.cpp:
	- sending of Router Advertisement for client "qualification".

2004-03-20  remi

	* src/teredo-udp.cpp:
	- parsing of Teredo packets headers.

2004-03-14  remi

	* src/main.cpp:
	- initial source code (non-working).

2004-03-10  remi

	* configure.ac, Makefile.am:
	- initial CVS repository,
	- initial configure scripts, and Makefiles.

